!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=210)}([function(t,e,r){var n=r(6),i=r(26).f,o=r(19),a=r(27),s=r(108),u=r(148),h=r(70);t.exports=function(t,e){var r,c,l,f,d,p=t.target,v=t.global,g=t.stat;if(r=v?n:g?n[p]||s(p,{}):(n[p]||{}).prototype)for(c in e){if(f=e[c],l=t.noTargetGet?(d=i(r,c))&&d.value:r[c],!h(v?c:p+(g?".":"#")+c,t.forced)&&void 0!==l){if(typeof f==typeof l)continue;u(f,l)}(t.sham||l&&l.sham)&&o(f,"sham",!0),a(r,c,f,t)}}},function(t,e,r){var n=r(10);t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e){t.exports=!1},function(t,e,r){"use strict";r.r(e),r.d(e,"utils",(function(){return n})),r.d(e,"AccessibilityManager",(function(){return pe})),r.d(e,"accessibleTarget",(function(){return fe})),r.d(e,"InteractionData",(function(){return ye})),r.d(e,"InteractionEvent",(function(){return xe})),r.d(e,"InteractionManager",(function(){return Se})),r.d(e,"InteractionTrackingData",(function(){return _e})),r.d(e,"interactiveTarget",(function(){return Te})),r.d(e,"Application",(function(){return Bn})),r.d(e,"AbstractBatchRenderer",(function(){return Rn})),r.d(e,"AbstractRenderer",(function(){return En})),r.d(e,"Attribute",(function(){return er})),r.d(e,"BaseRenderTexture",(function(){return qe})),r.d(e,"BaseTexture",(function(){return Ne})),r.d(e,"BatchDrawCall",(function(){return Mn})),r.d(e,"BatchGeometry",(function(){return Nn})),r.d(e,"BatchPluginFactory",(function(){return kn})),r.d(e,"BatchRenderer",(function(){return Un})),r.d(e,"BatchShaderGenerator",(function(){return Dn})),r.d(e,"BatchTextureArray",(function(){return On})),r.d(e,"Buffer",(function(){return nr})),r.d(e,"Filter",(function(){return Qr})),r.d(e,"FilterState",(function(){return pr})),r.d(e,"Framebuffer",(function(){return ze})),r.d(e,"GLFramebuffer",(function(){return xr})),r.d(e,"GLProgram",(function(){return pn})),r.d(e,"GLTexture",(function(){return xn})),r.d(e,"Geometry",(function(){return hr})),r.d(e,"IGLUniformData",(function(){return dn})),r.d(e,"MaskData",(function(){return Ir})),r.d(e,"ObjectRenderer",(function(){return gr})),r.d(e,"Program",(function(){return Zr})),r.d(e,"Quad",(function(){return cr})),r.d(e,"QuadUv",(function(){return lr})),r.d(e,"RenderTexture",(function(){return Qe})),r.d(e,"RenderTexturePool",(function(){return tr})),r.d(e,"Renderer",(function(){return Sn})),r.d(e,"Shader",(function(){return $r})),r.d(e,"SpriteMaskFilter",(function(){return rn})),r.d(e,"State",(function(){return Jr})),r.d(e,"System",(function(){return Ye})),r.d(e,"Texture",(function(){return $e})),r.d(e,"TextureMatrix",(function(){return en})),r.d(e,"TextureUvs",(function(){return Ke})),r.d(e,"UniformGroup",(function(){return dr})),r.d(e,"ViewableBuffer",(function(){return Cn})),r.d(e,"autoDetectRenderer",(function(){return In})),r.d(e,"checkMaxIfStatementsInShader",(function(){return zr})),r.d(e,"defaultFilterVertex",(function(){return Pn})),r.d(e,"defaultVertex",(function(){return An})),r.d(e,"resources",(function(){return He})),r.d(e,"systems",(function(){return wn})),r.d(e,"uniformParsers",(function(){return Vr})),r.d(e,"Extract",(function(){return Xn})),r.d(e,"AppLoaderPlugin",(function(){return pi})),r.d(e,"Loader",(function(){return di})),r.d(e,"LoaderResource",(function(){return ci})),r.d(e,"TextureLoader",(function(){return fi})),r.d(e,"ParticleContainer",(function(){return bi})),r.d(e,"ParticleRenderer",(function(){return _i})),r.d(e,"BasePrepare",(function(){return So})),r.d(e,"CountLimiter",(function(){return mo})),r.d(e,"Prepare",(function(){return Mo})),r.d(e,"TimeLimiter",(function(){return Oo})),r.d(e,"Spritesheet",(function(){return Co})),r.d(e,"SpritesheetLoader",(function(){return Ro})),r.d(e,"TilingSprite",(function(){return Fo})),r.d(e,"TilingSpriteRenderer",(function(){return Bo})),r.d(e,"BitmapFont",(function(){return ta})),r.d(e,"BitmapFontData",(function(){return Ko})),r.d(e,"BitmapFontLoader",(function(){return ia})),r.d(e,"BitmapText",(function(){return na})),r.d(e,"Ticker",(function(){return ge})),r.d(e,"TickerPlugin",(function(){return me})),r.d(e,"UPDATE_PRIORITY",(function(){return de})),r.d(e,"ALPHA_MODES",(function(){return j})),r.d(e,"BLEND_MODES",(function(){return R})),r.d(e,"BUFFER_BITS",(function(){return C})),r.d(e,"CLEAR_MODES",(function(){return V})),r.d(e,"DRAW_MODES",(function(){return D})),r.d(e,"ENV",(function(){return M})),r.d(e,"FORMATS",(function(){return N})),r.d(e,"GC_MODES",(function(){return X})),r.d(e,"MASK_TYPES",(function(){return H})),r.d(e,"MIPMAP_MODES",(function(){return B})),r.d(e,"MSAA_QUALITY",(function(){return Y})),r.d(e,"PRECISION",(function(){return G})),r.d(e,"RENDERER_TYPE",(function(){return O})),r.d(e,"SCALE_MODES",(function(){return k})),r.d(e,"TARGETS",(function(){return L})),r.d(e,"TYPES",(function(){return F})),r.d(e,"WRAP_MODES",(function(){return U})),r.d(e,"Bounds",(function(){return oe})),r.d(e,"Container",(function(){return le})),r.d(e,"DisplayObject",(function(){return ue})),r.d(e,"TemporaryDisplayObject",(function(){return he})),r.d(e,"FillStyle",(function(){return Ti})),r.d(e,"GRAPHICS_CURVES",(function(){return wi})),r.d(e,"Graphics",(function(){return Ji})),r.d(e,"GraphicsData",(function(){return Yi})),r.d(e,"GraphicsGeometry",(function(){return qi})),r.d(e,"LINE_CAP",(function(){return yi})),r.d(e,"LINE_JOIN",(function(){return mi})),r.d(e,"LineStyle",(function(){return Ki})),r.d(e,"graphicsUtils",(function(){return Hi})),r.d(e,"Circle",(function(){return Gt})),r.d(e,"DEG_TO_RAD",(function(){return Vt})),r.d(e,"Ellipse",(function(){return Ht})),r.d(e,"Matrix",(function(){return Kt})),r.d(e,"ObservablePoint",(function(){return qt})),r.d(e,"PI_2",(function(){return Bt})),r.d(e,"Point",(function(){return zt})),r.d(e,"Polygon",(function(){return Yt})),r.d(e,"RAD_TO_DEG",(function(){return jt})),r.d(e,"Rectangle",(function(){return Xt})),r.d(e,"RoundedRectangle",(function(){return Wt})),r.d(e,"SHAPES",(function(){return Ut})),r.d(e,"Transform",(function(){return ie})),r.d(e,"groupD8",(function(){return ne})),r.d(e,"Mesh",(function(){return Yo})),r.d(e,"MeshBatchUvs",(function(){return Xo})),r.d(e,"MeshGeometry",(function(){return zo})),r.d(e,"MeshMaterial",(function(){return Wo})),r.d(e,"NineSlicePlane",(function(){return za})),r.d(e,"PlaneGeometry",(function(){return Xa})),r.d(e,"RopeGeometry",(function(){return Ga})),r.d(e,"SimpleMesh",(function(){return Wa})),r.d(e,"SimplePlane",(function(){return Ya})),r.d(e,"SimpleRope",(function(){return Ha})),r.d(e,"Runner",(function(){return Ie})),r.d(e,"Sprite",(function(){return no})),r.d(e,"AnimatedSprite",(function(){return Ka})),r.d(e,"TEXT_GRADIENT",(function(){return to})),r.d(e,"Text",(function(){return vo})),r.d(e,"TextMetrics",(function(){return lo})),r.d(e,"TextStyle",(function(){return so})),r.d(e,"isMobile",(function(){return P})),r.d(e,"settings",(function(){return W})),r.d(e,"VERSION",(function(){return ts})),r.d(e,"filters",(function(){return es})),r.d(e,"useDeprecated",(function(){return Qa})),r.d(e,"CanvasRenderer",(function(){return ss})),r.d(e,"canvasUtils",(function(){return us})),r.d(e,"CanvasMeshRenderer",(function(){return cs})),r.d(e,"CanvasGraphicsRenderer",(function(){return ds})),r.d(e,"CanvasSpriteRenderer",(function(){return gs})),r.d(e,"CanvasExtract",(function(){return ys})),r.d(e,"CanvasPrepare",(function(){return _s}));var n={};r.r(n),r.d(n,"isMobile",(function(){return P})),r.d(n,"EventEmitter",(function(){return q.a})),r.d(n,"earcut",(function(){return Z.a})),r.d(n,"url",(function(){return J.a})),r.d(n,"BaseTextureCache",(function(){return Pt})),r.d(n,"CanvasRenderTarget",(function(){return Ct})),r.d(n,"DATA_URI",(function(){return Nt})),r.d(n,"ProgramCache",(function(){return It})),r.d(n,"TextureCache",(function(){return At})),r.d(n,"clearTextureCache",(function(){return Ot})),r.d(n,"correctBlendMode",(function(){return ht})),r.d(n,"createIndicesForQuads",(function(){return dt})),r.d(n,"decomposeDataUri",(function(){return Lt})),r.d(n,"deprecation",(function(){return St})),r.d(n,"destroyTextureCache",(function(){return Mt})),r.d(n,"determineCrossOrigin",(function(){return Ft})),r.d(n,"getBufferType",(function(){return pt})),r.d(n,"getResolutionOfUrl",(function(){return kt})),r.d(n,"hex2rgb",(function(){return it})),r.d(n,"hex2string",(function(){return ot})),r.d(n,"interleaveTypedArrays",(function(){return gt})),r.d(n,"isPow2",(function(){return yt})),r.d(n,"isWebGLSupported",(function(){return nt})),r.d(n,"log2",(function(){return bt})),r.d(n,"nextPow2",(function(){return mt})),r.d(n,"premultiplyBlendMode",(function(){return ut})),r.d(n,"premultiplyRgba",(function(){return ct})),r.d(n,"premultiplyTint",(function(){return lt})),r.d(n,"premultiplyTintToRgba",(function(){return ft})),r.d(n,"removeItems",(function(){return xt})),r.d(n,"rgb2hex",(function(){return st})),r.d(n,"sayHello",(function(){return rt})),r.d(n,"sign",(function(){return _t})),r.d(n,"skipHello",(function(){return et})),r.d(n,"string2hex",(function(){return at})),r.d(n,"trimCanvas",(function(){return Rt})),r.d(n,"uid",(function(){return Tt}));var i=r(203),o=r(204),a=r.n(o);
/*!
 * @pixi/polyfill - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
window.Promise||(window.Promise=i.Polyfill),Object.assign||(Object.assign=a.a);if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!window.performance||!window.performance.now){var s=Date.now();window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-s}}for(var u=Date.now(),h=["ms","moz","webkit","o"],c=0;c<h.length&&!window.requestAnimationFrame;++c){var l=h[c];window.requestAnimationFrame=window[l+"RequestAnimationFrame"],window.cancelAnimationFrame=window[l+"CancelAnimationFrame"]||window[l+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),r=16+u-e;return r<0&&(r=0),u=e,window.setTimeout((function(){u=Date.now(),t(performance.now())}),r)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array);var f=/iPhone/i,d=/iPod/i,p=/iPad/i,v=/\biOS-universal(?:.+)Mac\b/i,g=/\bAndroid(?:.+)Mobile\b/i,m=/Android/i,y=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,b=/Silk/i,x=/Windows Phone/i,_=/\bWindows(?:.+)ARM\b/i,w=/BlackBerry/i,T=/BB10/i,E=/Opera Mini/i,S=/\b(CriOS|Chrome)(?:.+)Mobile/i,I=/Mobile(?:.+)Firefox\b/i,A=function(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&t.maxTouchPoints>1&&"undefined"==typeof MSStream};
/*!
 * @pixi/settings - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var P=function(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var r=e.userAgent,n=r.split("[FBAN");void 0!==n[1]&&(r=n[0]),void 0!==(n=r.split("Twitter"))[1]&&(r=n[0]);var i=function(t){return function(e){return e.test(t)}}(r),o={apple:{phone:i(f)&&!i(x),ipod:i(d),tablet:!i(f)&&(i(p)||A(e))&&!i(x),universal:i(v),device:(i(f)||i(d)||i(p)||i(v)||A(e))&&!i(x)},amazon:{phone:i(y),tablet:!i(y)&&i(b),device:i(y)||i(b)},android:{phone:!i(x)&&i(y)||!i(x)&&i(g),tablet:!i(x)&&!i(y)&&!i(g)&&(i(b)||i(m)),device:!i(x)&&(i(y)||i(b)||i(g)||i(m))||i(/\bokhttp\b/i)},windows:{phone:i(x),tablet:i(_),device:i(x)||i(_)},other:{blackberry:i(w),blackberry10:i(T),opera:i(E),firefox:i(I),chrome:i(S),device:i(w)||i(T)||i(E)||i(I)||i(S)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}(window.navigator);var M,O,C,R,D,N,L,F,k,U,B,j,V,X,G,H,Y,W={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function(t){var e=!0;if(P.tablet||P.phone){var r;if(P.apple.device)if(r=navigator.userAgent.match(/OS (\d+)_(\d+)?/))parseInt(r[1],10)<11&&(e=!1);if(P.android.device)if(r=navigator.userAgent.match(/Android\s([0-9.]*)/))parseInt(r[1],10)<7&&(e=!1)}return e?t:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:P.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!P.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},z=r(144),q=r.n(z),K=r(145),Z=r.n(K),$=r(105),J=r.n($);!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(M||(M={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(O||(O={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(C||(C={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(R||(R={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(D||(D={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(N||(N={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(L||(L={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(F||(F={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(k||(k={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(U||(U={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"}(B||(B={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(j||(j={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(V||(V={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(X||(X={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(G||(G={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(H||(H={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(Y||(Y={})),
/*!
 * @pixi/utils - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
W.RETINA_PREFIX=/@([0-9\.]+)x/,W.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var Q,tt=!1;function et(){tt=!0}function rt(t){var e;if(!tt){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=["\n %c %c %c PixiJS 5.3.3 - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=window.console).log.apply(e,r)}else window.console&&window.console.log("PixiJS 5.3.3 - "+t+" - http://www.pixijs.com/");tt=!0}}function nt(){return void 0===Q&&(Q=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:W.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),n=!(!r||!r.getContextAttributes().stencil);if(r){var i=r.getExtension("WEBGL_lose_context");i&&i.loseContext()}return r=null,n}catch(t){return!1}}()),Q}function it(t,e){return void 0===e&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function ot(t){var e=t.toString(16);return"#"+(e="000000".substr(0,6-e.length)+e)}function at(t){return"string"==typeof t&&"#"===t[0]&&(t=t.substr(1)),parseInt(t,16)}function st(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}var ut=function(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[R.NORMAL_NPM]=R.NORMAL,t[R.ADD_NPM]=R.ADD,t[R.SCREEN_NPM]=R.SCREEN,e[R.NORMAL]=R.NORMAL_NPM,e[R.ADD]=R.ADD_NPM,e[R.SCREEN]=R.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}();function ht(t,e){return ut[e?1:0][t]}function ct(t,e,r,n){return r=r||new Float32Array(4),n||void 0===n?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function lt(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,n=t>>8&255,i=255&t;return(255*e<<24)+((r=r*e+.5|0)<<16)+((n=n*e+.5|0)<<8)+(i=i*e+.5|0)}function ft(t,e,r,n){return(r=r||new Float32Array(4))[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,(n||void 0===n)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function dt(t,e){void 0===e&&(e=null);var r=6*t;if((e=e||new Uint16Array(r)).length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function pt(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var vt={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};function gt(t,e){for(var r=0,n=0,i={},o=0;o<t.length;o++)n+=e[o],r+=t[o].length;var a=new ArrayBuffer(4*r),s=null,u=0;for(o=0;o<t.length;o++){var h=e[o],c=t[o],l=pt(c);i[l]||(i[l]=new vt[l](a)),s=i[l];for(var f=0;f<c.length;f++){s[(f/h|0)*n+u+f%h]=c[f]}u+=h}return new Float32Array(a)}function mt(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1}function yt(t){return!(t&t-1||!t)}function bt(t){var e=(t>65535?1:0)<<4,r=((t>>>=e)>255?1:0)<<3;return e|=r,e|=r=((t>>>=r)>15?1:0)<<2,(e|=r=((t>>>=r)>3?1:0)<<1)|(t>>>=r)>>1}function xt(t,e,r){var n,i=t.length;if(!(e>=i||0===r)){var o=i-(r=e+r>i?i-e:r);for(n=e;n<o;++n)t[n]=t[n+r];t.length=o}}function _t(t){return 0===t?0:t<0?-1:1}var wt=0;function Tt(){return++wt}var Et={};function St(t,e,r){if(void 0===r&&(r=3),!Et[e]){var n=(new Error).stack;void 0===n?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(n=n.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(n))),Et[e]=!0}}var It={},At=Object.create(null),Pt=Object.create(null);function Mt(){var t;for(t in At)At[t].destroy();for(t in Pt)Pt[t].destroy()}function Ot(){var t;for(t in At)delete At[t];for(t in Pt)delete Pt[t]}var Ct=function(){function t(t,e,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||W.RESOLUTION,this.resize(t,e)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t},enumerable:!1,configurable:!0}),t}();function Rt(t){var e,r,n,i=t.width,o=t.height,a=t.getContext("2d"),s=a.getImageData(0,0,i,o).data,u=s.length,h={top:null,left:null,right:null,bottom:null},c=null;for(e=0;e<u;e+=4)0!==s[e+3]&&(r=e/4%i,n=~~(e/4/i),null===h.top&&(h.top=n),(null===h.left||r<h.left)&&(h.left=r),(null===h.right||h.right<r)&&(h.right=r+1),(null===h.bottom||h.bottom<n)&&(h.bottom=n));return null!==h.top&&(i=h.right-h.left,o=h.bottom-h.top+1,c=a.getImageData(h.left,h.top,i,o)),{height:o,width:i,data:c}}var Dt,Nt=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function Lt(t){var e=Nt.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}function Ft(t,e){if(void 0===e&&(e=window.location),0===t.indexOf("data:"))return"";e=e||window.location,Dt||(Dt=document.createElement("a")),Dt.href=t;var r=Object($.parse)(Dt.href),n=!r.port&&""===e.port||r.port===e.port;return r.hostname===e.hostname&&n&&r.protocol===e.protocol?"":"anonymous"}function kt(t,e){var r=W.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):void 0!==e?e:1}
/*!
 * @pixi/math - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ut,Bt=2*Math.PI,jt=180/Math.PI,Vt=Math.PI/180;!function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"}(Ut||(Ut={}));var Xt=function(){function t(t,e,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),this.x=Number(t),this.y=Number(e),this.width=Number(r),this.height=Number(n),this.type=Ut.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},t.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},t.prototype.fit=function(t){var e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),n=Math.max(this.y,t.y),i=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(r-e,0),this.y=n,this.height=Math.max(i-n,0),this},t.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var r=Math.ceil((this.x+this.width-e)*t)/t,n=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=r-this.x,this.height=n-this.y,this},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),n=Math.min(this.y,t.y),i=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=r-e,this.y=n,this.height=i-n,this},t}(),Gt=function(){function t(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=t,this.y=e,this.radius=r,this.type=Ut.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,n=this.x-t,i=this.y-e;return(n*=n)+(i*=i)<=r},t.prototype.getBounds=function(){return new Xt(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}(),Ht=function(){function t(t,e,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),this.x=t,this.y=e,this.width=r,this.height=n,this.type=Ut.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,n=(e-this.y)/this.height;return(r*=r)+(n*=n)<=1},t.prototype.getBounds=function(){return new Xt(this.x-this.width,this.y-this.height,this.width,this.height)},t}(),Yt=function(){function t(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];var n=Array.isArray(e[0])?e[0]:e;if("number"!=typeof n[0]){for(var i=[],o=0,a=n.length;o<a;o++)i.push(n[o].x,n[o].y);n=i}this.points=n,this.type=Ut.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=new t(this.points.slice());return e.closeStroke=this.closeStroke,e},t.prototype.contains=function(t,e){for(var r=!1,n=this.points.length/2,i=0,o=n-1;i<n;o=i++){var a=this.points[2*i],s=this.points[2*i+1],u=this.points[2*o],h=this.points[2*o+1];s>e!=h>e&&t<(e-s)/(h-s)*(u-a)+a&&(r=!r)}return r},t}(),Wt=function(){function t(t,e,r,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),void 0===i&&(i=20),this.x=t,this.y=e,this.width=r,this.height=n,this.radius=i,this.type=Ut.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),n=e-(this.y+this.radius),i=this.radius*this.radius;if(r*r+n*n<=i)return!0;if((r=t-(this.x+this.width-this.radius))*r+n*n<=i)return!0;if(r*r+(n=e-(this.y+this.height-this.radius))*n<=i)return!0;if((r=t-(this.x+this.radius))*r+n*n<=i)return!0}return!1},t}(),zt=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},t.prototype.copyTo=function(t){return t.set(this.x,this.y),t},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},t}(),qt=function(){function t(t,e,r,n){void 0===r&&(r=0),void 0===n&&(n=0),this._x=r,this._y=n,this.cb=t,this.scope=e}return t.prototype.clone=function(e,r){return void 0===e&&(e=this.cb),void 0===r&&(r=this.scope),new t(e,r,this._x,this._y)},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(t){return t.set(this._x,this._y),t},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),Kt=function(){function t(t,e,r,n,i,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=1),void 0===i&&(i=0),void 0===o&&(o=0),this.array=null,this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=o}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,r,n,i,o){return this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},t.prototype.apply=function(t,e){e=e||new zt;var r=t.x,n=t.y;return e.x=this.a*r+this.c*n+this.tx,e.y=this.b*r+this.d*n+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new zt;var r=1/(this.a*this.d+this.c*-this.b),n=t.x,i=t.y;return e.x=this.d*r*n+-this.c*r*i+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*i+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),n=this.a,i=this.c,o=this.tx;return this.a=n*e-this.b*r,this.b=n*r+this.b*e,this.c=i*e-this.d*r,this.d=i*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},t.prototype.append=function(t){var e=this.a,r=this.b,n=this.c,i=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*r+t.b*i,this.c=t.c*e+t.d*n,this.d=t.c*r+t.d*i,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*r+t.ty*i+this.ty,this},t.prototype.setTransform=function(t,e,r,n,i,o,a,s,u){return this.a=Math.cos(a+u)*i,this.b=Math.sin(a+u)*i,this.c=-Math.sin(a-s)*o,this.d=Math.cos(a-s)*o,this.tx=t-(r*this.a+n*this.c),this.ty=e-(r*this.b+n*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,n=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,r=this.b,n=this.c,i=this.d,o=-Math.atan2(-n,i),a=Math.atan2(r,e),s=Math.abs(o+a);return s<1e-5||Math.abs(Bt-s)<1e-5?(t.rotation=a,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=a),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(n*n+i*i),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,n=this.d,i=this.tx,o=t*n-e*r;return this.a=n/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-n*i)/o,this.ty=-(t*this.ty-e*i)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},t.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),Zt=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],$t=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Jt=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Qt=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],te=[],ee=[],re=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];te.push(e);for(var r=0;r<16;r++)for(var n=re(Zt[t]*Zt[r]+Jt[t]*$t[r]),i=re($t[t]*Zt[r]+Qt[t]*$t[r]),o=re(Zt[t]*Jt[r]+Jt[t]*Qt[r]),a=re($t[t]*Jt[r]+Qt[t]*Qt[r]),s=0;s<16;s++)if(Zt[s]===n&&$t[s]===i&&Jt[s]===o&&Qt[s]===a){e.push(s);break}}for(t=0;t<16;t++){var u=new Kt;u.set(Zt[t],$t[t],Jt[t],Qt[t],0,0),ee.push(u)}}();var ne={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return Zt[t]},uY:function(t){return $t[t]},vX:function(t){return Jt[t]},vY:function(t){return Qt[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return te[t][e]},sub:function(t,e){return te[t][ne.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?ne.S:ne.N:2*Math.abs(e)<=Math.abs(t)?t>0?ne.E:ne.W:e>0?t>0?ne.SE:ne.SW:t>0?ne.NE:ne.NW},matrixAppendRotationInv:function(t,e,r,n){void 0===r&&(r=0),void 0===n&&(n=0);var i=ee[ne.inv(e)];i.tx=r,i.ty=n,t.append(i)}},ie=function(){function t(){this.worldTransform=new Kt,this.localTransform=new Kt,this.position=new qt(this.onChange,this,0,0),this.scale=new qt(this.onChange,this,1,1),this.pivot=new qt(this.onChange,this,0,0),this.skew=new qt(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},t.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();
/*!
 * @pixi/display - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
W.SORTABLE_CHILDREN=!1;var oe=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?Xt.EMPTY:((t=t||new Xt(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY,o=t[0],a=t[1];e=o<e?o:e,r=a<r?a:r,n=o>n?o:n,i=a>i?a:i,e=(o=t[2])<e?o:e,r=(a=t[3])<r?a:r,n=o>n?o:n,i=a>i?a:i,e=(o=t[4])<e?o:e,r=(a=t[5])<r?a:r,n=o>n?o:n,i=a>i?a:i,e=(o=t[6])<e?o:e,r=(a=t[7])<r?a:r,n=o>n?o:n,i=a>i?a:i,this.minX=e,this.minY=r,this.maxX=n,this.maxY=i},t.prototype.addFrame=function(t,e,r,n,i){this.addFrameMatrix(t.worldTransform,e,r,n,i)},t.prototype.addFrameMatrix=function(t,e,r,n,i){var o=t.a,a=t.b,s=t.c,u=t.d,h=t.tx,c=t.ty,l=this.minX,f=this.minY,d=this.maxX,p=this.maxY,v=o*e+s*r+h,g=a*e+u*r+c;l=v<l?v:l,f=g<f?g:f,d=v>d?v:d,p=g>p?g:p,l=(v=o*n+s*r+h)<l?v:l,f=(g=a*n+u*r+c)<f?g:f,d=v>d?v:d,p=g>p?g:p,l=(v=o*e+s*i+h)<l?v:l,f=(g=a*e+u*i+c)<f?g:f,d=v>d?v:d,p=g>p?g:p,l=(v=o*n+s*i+h)<l?v:l,f=(g=a*n+u*i+c)<f?g:f,d=v>d?v:d,p=g>p?g:p,this.minX=l,this.minY=f,this.maxX=d,this.maxY=p},t.prototype.addVertexData=function(t,e,r){for(var n=this.minX,i=this.minY,o=this.maxX,a=this.maxY,s=e;s<r;s+=2){var u=t[s],h=t[s+1];n=u<n?u:n,i=h<i?h:i,o=u>o?u:o,a=h>a?h:a}this.minX=n,this.minY=i,this.maxX=o,this.maxY=a},t.prototype.addVertices=function(t,e,r,n){this.addVerticesMatrix(t.worldTransform,e,r,n)},t.prototype.addVerticesMatrix=function(t,e,r,n,i,o){void 0===i&&(i=0),void 0===o&&(o=i);for(var a=t.a,s=t.b,u=t.c,h=t.d,c=t.tx,l=t.ty,f=this.minX,d=this.minY,p=this.maxX,v=this.maxY,g=r;g<n;g+=2){var m=e[g],y=e[g+1],b=a*m+u*y+c,x=h*y+s*m+l;f=Math.min(f,b-i),p=Math.max(p,b+i),d=Math.min(d,x-o),v=Math.max(v,x+o)}this.minX=f,this.minY=d,this.maxX=p,this.maxY=v},t.prototype.addBounds=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>n?t.maxX:n,this.maxY=t.maxY>i?t.maxY:i},t.prototype.addBoundsMask=function(t,e){var r=t.minX>e.minX?t.minX:e.minX,n=t.minY>e.minY?t.minY:e.minY,i=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=i&&n<=o){var a=this.minX,s=this.minY,u=this.maxX,h=this.maxY;this.minX=r<a?r:a,this.minY=n<s?n:s,this.maxX=i>u?i:u,this.maxY=o>h?o:h}},t.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},t.prototype.addBoundsArea=function(t,e){var r=t.minX>e.x?t.minX:e.x,n=t.minY>e.y?t.minY:e.y,i=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=i&&n<=o){var a=this.minX,s=this.minY,u=this.maxX,h=this.maxY;this.minX=r<a?r:a,this.minY=n<s?n:s,this.maxX=i>u?i:u,this.maxY=o>h?o:h}},t.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},t.prototype.addFramePad=function(t,e,r,n,i,o){t-=i,e-=o,r+=i,n+=o,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>n?this.maxY:n},t}(),ae=function(t,e){return(ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function se(t,e){function r(){this.constructor=t}ae(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var ue=function(t){function e(){var e=t.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new ie,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new oe,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return se(e,t),e.mixin=function(t){for(var r=Object.keys(t),n=0;n<r.length;++n){var i=r[n];Object.defineProperty(e.prototype,i,Object.getOwnPropertyDescriptor(t,i))}},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new Xt),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new Xt),t=this._localBoundsRect),this._localBounds||(this._localBounds=new oe);var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var n=this._bounds,i=this._boundsID;this._bounds=this._localBounds;var o=this.getBounds(!1,t);return this.parent=r,this.transform=e,this._bounds=n,this._bounds.updateID+=this._boundsID-i,o},e.prototype.toGlobal=function(t,e,r){return void 0===r&&(r=!1),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,r,n){return e&&(t=e.toGlobal(t,r,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,r,n,i,o,a,s,u){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===n&&(n=1),void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===u&&(u=0),this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=n||1,this.rotation=i,this.skew.x=o,this.skew.y=a,this.pivot.x=s,this.pivot.y=u,this},e.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new he),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},e.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*jt},set:function(t){this.transform.rotation=t*Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){var e;this._mask&&((e=this._mask.maskObject||this._mask).renderable=!0,e.isMask=!1);(this._mask=t,this._mask)&&((e=this._mask.maskObject||this._mask).renderable=!1,e.isMask=!0)},enumerable:!1,configurable:!0}),e}(q.a),he=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sortDirty=null,e}return se(e,t),e}(ue);function ce(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}ue.prototype.displayObjectUpdateTransform=ue.prototype.updateTransform;var le=function(t){function e(){var e=t.call(this)||this;return e.children=[],e.sortableChildren=W.SORTABLE_CHILDREN,e.sortDirty=!1,e}return se(e,t),e.prototype.onChildrenChange=function(t){},e.prototype.addChild=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];if(e.length>1)for(var n=0;n<e.length;n++)this.addChild(e[n]);else{var i=e[0];i.parent&&i.parent.removeChild(i),i.parent=this,this.sortDirty=!0,i.transform._parentID=-1,this.children.push(i),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",i,this,this.children.length-1),i.emit("added",this)}return e[0]},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(t);xt(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];if(e.length>1)for(var n=0;n<e.length;n++)this.removeChild(e[n]);else{var i=e[0],o=this.children.indexOf(i);if(-1===o)return null;i.parent=null,i.transform._parentID=-1,xt(this.children,o,1),this._boundsID++,this.onChildrenChange(o),i.emit("removed",this),this.emit("childRemoved",i,this,o)}return e[0]},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,xt(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},e.prototype.removeChildren=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.children.length);var r,n=t,i=e-n;if(i>0&&i<=e){r=this.children.splice(n,i);for(var o=0;o<r.length;++o)r[o].parent=null,r[o].transform&&(r[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(o=0;o<r.length;++o)r[o].emit("removed",this),this.emit("childRemoved",r[o],this,o);return r}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,e=0,r=this.children.length;e<r;++e){var n=this.children[e];n._lastSortedIndex=e,t||0===n.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(ce),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];if(e.visible&&e.renderable)if(e.calculateBounds(),e._mask){var r=e._mask.maskObject||e._mask;r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(e,r){void 0===r&&(r=!1);var n=t.prototype.getLocalBounds.call(this,e);if(!r)for(var i=0,o=this.children.length;i<o;++i){var a=this.children[i];a.visible&&a.updateTransform()}return n},e.prototype._calculateBounds=function(){},e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].render(t)}},e.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var n=0;n<e.length;n++)e[n].enabled&&this._enabledFilters.push(e[n]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}r&&t.mask.push(this,this._mask),this._render(t);n=0;for(var i=this.children.length;n<i;n++)this.children[n].render(t);t.batch.flush(),r&&t.mask.pop(this),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var r="boolean"==typeof e?e:e&&e.children,n=this.removeChildren(0,this.children.length);if(r)for(var i=0;i<n.length;++i)n[i].destroy(e)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!1,configurable:!0}),e}(ue);le.prototype.containerUpdateTransform=le.prototype.updateTransform;
/*!
 * @pixi/accessibility - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var fe={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};ue.mixin(fe);var de,pe=function(){function t(t){this._hookDiv=null,(P.tablet||P.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessability for this content",e.addEventListener("focus",(function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()})),document.body.appendChild(e),this._hookDiv=e},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}},t.prototype.update=function(){var t=performance.now();if(!(P.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),r=this.renderer.resolution,n=e.width/this.renderer.width*r,i=e.height/this.renderer.height*r,o=this.div;o.style.left=e.left+"px",o.style.top=e.top+"px",o.style.width=this.renderer.width+"px",o.style.height=this.renderer.height+"px";for(var a=0;a<this.children.length;a++){var s=this.children[a];if(s.renderId!==this.renderId)s._accessibleActive=!1,xt(this.children,a,1),this.div.removeChild(s._accessibleDiv),this.pool.push(s._accessibleDiv),s._accessibleDiv=null,a--;else{o=s._accessibleDiv;var u=s.hitArea,h=s.worldTransform;s.hitArea?(o.style.left=(h.tx+u.x*h.a)*n+"px",o.style.top=(h.ty+u.y*h.d)*i+"px",o.style.width=u.width*h.a*n+"px",o.style.height=u.height*h.d*i+"px"):(u=s.getBounds(),this.capHitArea(u),o.style.left=u.x*n+"px",o.style.top=u.y*i+"px",o.style.width=u.width*n+"px",o.style.height=u.height*i+"px",o.title!==s.accessibleTitle&&null!==s.accessibleTitle&&(o.title=s.accessibleTitle),o.getAttribute("aria-label")!==s.accessibleHint&&null!==s.accessibleHint&&o.setAttribute("aria-label",s.accessibleHint)),s.accessibleTitle===o.title&&s.tabIndex===o.tabIndex||(o.title=s.accessibleTitle,o.tabIndex=s.tabIndex,this.debug&&this.updateDebugHTML(o))}}this.renderId++}},t.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData),e.dispatchEvent(t.target.displayObject,"pointertap",e.eventData),e.dispatchEvent(t.target.displayObject,"tap",e.eventData)},t.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},t.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();
/*!
 * @pixi/ticker - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
W.TARGET_FPMS=.06,function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"}(de||(de={}));var ve=function(){function t(t,e,r,n){void 0===e&&(e=null),void 0===r&&(r=0),void 0===n&&(n=!1),this.fn=t,this.context=e,this.priority=r,this.once=n,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}(),ge=function(){function t(){var t=this;this._head=new ve(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/W.TARGET_FPMS,this.elapsedMS=1/W.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e,r){return void 0===r&&(r=de.NORMAL),this._addListener(new ve(t,e,r))},t.prototype.addOnce=function(t,e,r){return void 0===r&&(r=de.NORMAL),this._addListener(new ve(t,e,r,!0))},t.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var r=t-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=t-r%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*W.TARGET_FPMS;for(var n=this._head,i=n.next;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,W.TARGET_FPMS);this._maxElapsedMS=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),me=function(){function t(){}return t.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,de.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?ge.shared:new ge,t.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},t}(),ye=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new zt,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},t.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}(),be=function(t,e){return(be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var xe=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),_e=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return 0!=(this._flags&t.FLAGS.OVER)},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return 0!=(this._flags&t.FLAGS.RIGHT_DOWN)},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return 0!=(this._flags&t.FLAGS.LEFT_DOWN)},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),we=function(){function t(){this._tempPoint=new zt}return t.prototype.recursiveFindHit=function(t,e,r,n,i){if(!e||!e.visible)return!1;var o=t.data.global,a=!1,s=i=e.interactive||i,u=!0;if(e.hitArea?(n&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:(n=!1,u=!1)),s=!1):e._mask&&n&&(e._mask.containsPoint&&e._mask.containsPoint(o)||(n=!1)),u&&e.interactiveChildren&&e.children)for(var h=e.children,c=h.length-1;c>=0;c--){var l=h[c],f=this.recursiveFindHit(t,l,r,n,s);if(f){if(!l.parent)continue;s=!1,f&&(t.target&&(n=!1),a=!0)}}return i&&(n&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(a=!0),e.interactive&&(a&&!t.target&&(t.target=e),r&&r(t,e,!!a))),a},t.prototype.findHit=function(t,e,r,n){this.recursiveFindHit(t,e,r,n,!1)},t}(),Te={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};ue.mixin(Te);var Ee={target:null,data:{global:null}},Se=function(t){function e(e,r){var n=t.call(this)||this;return r=r||{},n.renderer=e,n.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,n.interactionFrequency=r.interactionFrequency||10,n.mouse=new ye,n.mouse.identifier=1,n.mouse.global.set(-999999),n.activeInteractionData={},n.activeInteractionData[1]=n.mouse,n.interactionDataPool=[],n.eventData=new xe,n.interactionDOMElement=null,n.moveWhenInside=!1,n.eventsAdded=!1,n.tickerAdded=!1,n.mouseOverRenderer=!1,n.supportsTouchEvents="ontouchstart"in window,n.supportsPointerEvents=!!window.PointerEvent,n.onPointerUp=n.onPointerUp.bind(n),n.processPointerUp=n.processPointerUp.bind(n),n.onPointerCancel=n.onPointerCancel.bind(n),n.processPointerCancel=n.processPointerCancel.bind(n),n.onPointerDown=n.onPointerDown.bind(n),n.processPointerDown=n.processPointerDown.bind(n),n.onPointerMove=n.onPointerMove.bind(n),n.processPointerMove=n.processPointerMove.bind(n),n.onPointerOut=n.onPointerOut.bind(n),n.processPointerOverOut=n.processPointerOverOut.bind(n),n.onPointerOver=n.onPointerOver.bind(n),n.cursorStyles={default:"inherit",pointer:"pointer"},n.currentCursorMode=null,n.cursor=null,n.resolution=1,n.delayedEvents=[],n.search=new we,n._tempDisplayObject=new he,n._useSystemTicker=void 0===r.useSystemTicker||r.useSystemTicker,n.setTargetElement(n.renderer.view,n.renderer.resolution),n}return function(t,e){function r(){this.constructor=t}be(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){this._useSystemTicker=t,t?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(t,e){return Ee.target=null,Ee.data.global=t,e||(e=this.lastObjectRendered),this.processInteractive(Ee,e,null,!0),Ee.target},e.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(ge.system.add(this.tickerUpdate,this,de.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(ge.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(t){this._deltaTime+=t,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var e=this.activeInteractionData[t];if(e.originalEvent&&"touch"!==e.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,e.originalEvent,e);this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(typeof e){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,r){r.stopPropagationHint&&t!==r.stopsPropagatingAt||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},e.prototype.delayDispatchEvent=function(t,e,r){this.delayedEvents.push({displayObject:t,eventString:e,eventData:r})},e.prototype.mapPositionToPoint=function(t,e,r){var n;n=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var i=1/this.resolution;t.x=(e-n.left)*(this.interactionDOMElement.width/n.width)*i,t.y=(r-n.top)*(this.interactionDOMElement.height/n.height)*i},e.prototype.processInteractive=function(t,e,r,n){var i=this.search.findHit(t,e,r,n),o=this.delayedEvents;if(!o.length)return i;t.stopPropagationHint=!1;var a=o.length;this.delayedEvents=[];for(var s=0;s<a;s++){var u=o[s],h=u.displayObject,c=u.eventString,l=u.eventData;l.stopsPropagatingAt===h&&(l.stopPropagationHint=!0),this.dispatchEvent(h,c,l)}return i},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);if(this.autoPreventDefault&&e[0].isNormalized)(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(a.data.originalEvent=t,this.processInteractive(a,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",a),"touch"===i.pointerType)this.emit("touchstart",a);else if("mouse"===i.pointerType||"pen"===i.pointerType){var s=2===i.button;this.emit(s?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,r){var n=t.data,i=t.data.identifier;if(r)if(e.trackedPointers[i]||(e.trackedPointers[i]=new _e(i)),this.dispatchEvent(e,"pointerdown",t),"touch"===n.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===n.pointerType||"pen"===n.pointerType){var o=2===n.button;o?e.trackedPointers[i].rightDown=!0:e.trackedPointers[i].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,r){for(var n=this.normalizeToPointerData(t),i=n.length,o=t.target!==this.interactionDOMElement?"outside":"",a=0;a<i;a++){var s=n[a],u=this.getInteractionDataForPointerId(s),h=this.configureInteractionEventForDOMEvent(this.eventData,s,u);if(h.data.originalEvent=t,this.processInteractive(h,this.lastObjectRendered,r,e||!o),this.emit(e?"pointercancel":"pointerup"+o,h),"mouse"===s.pointerType||"pen"===s.pointerType){var c=2===s.button;this.emit(c?"rightup"+o:"mouseup"+o,h)}else"touch"===s.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,h),this.releaseInteractionDataForPointerId(s.pointerId))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var r=t.data,n=t.data.identifier;void 0!==e.trackedPointers[n]&&(delete e.trackedPointers[n],this.dispatchEvent(e,"pointercancel",t),"touch"===r.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,r){var n=t.data,i=t.data.identifier,o=e.trackedPointers[i],a="touch"===n.pointerType,s="mouse"===n.pointerType||"pen"===n.pointerType,u=!1;if(s){var h=2===n.button,c=_e.FLAGS,l=h?c.RIGHT_DOWN:c.LEFT_DOWN,f=void 0!==o&&o.flags&l;r?(this.dispatchEvent(e,h?"rightup":"mouseup",t),f&&(this.dispatchEvent(e,h?"rightclick":"click",t),u=!0)):f&&this.dispatchEvent(e,h?"rightupoutside":"mouseupoutside",t),o&&(h?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(e,"pointerup",t),a&&this.dispatchEvent(e,"touchend",t),o&&(s&&!u||this.dispatchEvent(e,"pointertap",t),a&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),a&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[i]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this._didMove=!0,this.cursor=null);for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=t,this.processInteractive(a,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",a),"touch"===i.pointerType&&this.emit("touchmove",a),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mousemove",a)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,r){var n=t.data,i="touch"===n.pointerType,o="mouse"===n.pointerType||"pen"===n.pointerType;o&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),i&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var r=this.getInteractionDataForPointerId(e),n=this.configureInteractionEventForDOMEvent(this.eventData,e,r);n.data.originalEvent=e,this.processInteractive(n,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",n),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",n):this.releaseInteractionDataForPointerId(r.identifier)}},e.prototype.processPointerOverOut=function(t,e,r){var n=t.data,i=t.data.identifier,o="mouse"===n.pointerType||"pen"===n.pointerType,a=e.trackedPointers[i];r&&!a&&(a=e.trackedPointers[i]=new _e(i)),void 0!==a&&(r&&this.mouseOverRenderer?(a.over||(a.over=!0,this.delayDispatchEvent(e,"pointerover",t),o&&this.delayDispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):a.over&&(a.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),a.none&&delete e.trackedPointers[i]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],r=this.getInteractionDataForPointerId(e),n=this.configureInteractionEventForDOMEvent(this.eventData,e,r);n.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",n),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",n)},e.prototype.getInteractionDataForPointerId=function(t){var e,r=t.pointerId;return 1===r||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[r]?e=this.activeInteractionData[r]:((e=this.interactionDataPool.pop()||new ye).identifier=r,this.activeInteractionData[r]=e),e.copyEvent(t),e},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,n=t.changedTouches.length;r<n;r++){var i=t.changedTouches[r];void 0===i.button&&(i.button=t.touches.length?1:0),void 0===i.buttons&&(i.buttons=t.touches.length?1:0),void 0===i.isPrimary&&(i.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===i.width&&(i.width=i.radiusX||1),void 0===i.height&&(i.height=i.radiusY||1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType="touch"),void 0===i.pointerId&&(i.pointerId=i.identifier||0),void 0===i.pressure&&(i.pressure=i.force||.5),void 0===i.twist&&(i.twist=0),void 0===i.tangentialPressure&&(i.tangentialPressure=0),void 0===i.layerX&&(i.layerX=i.offsetX=i.clientX),void 0===i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,e.push(i)}else if(!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent)e.push(t);else{var o=t;void 0===o.isPrimary&&(o.isPrimary=!0),void 0===o.width&&(o.width=1),void 0===o.height&&(o.height=1),void 0===o.tiltX&&(o.tiltX=0),void 0===o.tiltY&&(o.tiltY=0),void 0===o.pointerType&&(o.pointerType="mouse"),void 0===o.pointerId&&(o.pointerId=1),void 0===o.pressure&&(o.pressure=.5),void 0===o.twist&&(o.twist=0),void 0===o.tangentialPressure&&(o.tangentialPressure=0),o.isNormalized=!0,e.push(o)}return e},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e}(q.a),Ie=function(){function t(t){this.items=[],this._name=t,this._aliasCount=0}return t.prototype.emit=function(t,e,r,n,i,o,a,s){if(arguments.length>8)throw new Error("max arguments reached");var u=this,h=u.name,c=u.items;this._aliasCount++;for(var l=0,f=c.length;l<f;l++)c[l][h](t,e,r,n,i,o,a,s);return c===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},t.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},t.prototype.contains=function(t){return-1!==this.items.indexOf(t)},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(Ie.prototype,{dispatch:{value:Ie.prototype.emit},run:{value:Ie.prototype.emit}}),
/*!
 * @pixi/core - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
W.PREFER_ENV=P.any?M.WEBGL:M.WEBGL2,W.STRICT_TEXTURE_CACHE=!1;var Ae=[];function Pe(t,e){if(!t)return null;var r="";if("string"==typeof t){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(var i=Ae.length-1;i>=0;--i){var o=Ae[i];if(o.test&&o.test(t,r))return new o(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Me=function(t,e){return(Me=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Oe(t,e){function r(){this.constructor=t}Me(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Ce=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new Ie("setRealSize"),this.onUpdate=new Ie("update"),this.onError=new Ie("onError")}return t.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},t.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(t,e,r){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(t,e){return!1},t}(),Re=function(t){function e(e,r){var n=this,i=r||{},o=i.width,a=i.height;if(!o||!a)throw new Error("BufferResource width or height invalid");return(n=t.call(this,o,a)||this).data=e,n}return Oe(e,t),e.prototype.upload=function(t,e,r){var n=t.gl;return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===j.UNPACK),r.width===e.width&&r.height===e.height?n.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(r.width=e.width,r.height=e.height,n.texImage2D(e.target,0,r.internalFormat,e.width,e.height,0,e.format,r.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(Ce),De={scaleMode:k.NEAREST,format:N.RGBA,alphaMode:j.NPM},Ne=function(t){function e(e,r){void 0===e&&(e=null),void 0===r&&(r=null);var n=t.call(this)||this,i=(r=r||{}).alphaMode,o=r.mipmap,a=r.anisotropicLevel,s=r.scaleMode,u=r.width,h=r.height,c=r.wrapMode,l=r.format,f=r.type,d=r.target,p=r.resolution,v=r.resourceOptions;return!e||e instanceof Ce||((e=Pe(e,v)).internal=!0),n.width=u||0,n.height=h||0,n.resolution=p||W.RESOLUTION,n.mipmap=void 0!==o?o:W.MIPMAP_TEXTURES,n.anisotropicLevel=void 0!==a?a:W.ANISOTROPIC_LEVEL,n.wrapMode=c||W.WRAP_MODE,n.scaleMode=void 0!==s?s:W.SCALE_MODE,n.format=l||N.RGBA,n.type=f||F.UNSIGNED_BYTE,n.target=d||L.TEXTURE_2D,n.alphaMode=void 0!==i?i:j.UNPACK,void 0!==r.premultiplyAlpha&&(n.premultiplyAlpha=r.premultiplyAlpha),n.uid=Tt(),n.touched=0,n.isPowerOfTwo=!1,n._refreshPOT(),n._glTextures={},n.dirtyId=0,n.dirtyStyleId=0,n.cacheId=null,n.valid=u>0&&h>0,n.textureCacheIds=[],n.destroyed=!1,n.resource=null,n._batchEnabled=0,n._batchLocation=0,n.parentTextureArray=null,n.setResource(e),n}return Oe(e,t),Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(t,e){var r;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},e.prototype.setRealSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=yt(this.realWidth)&&yt(this.realHeight)},e.prototype.setResolution=function(t){var e=this.resolution;return e===t||(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update",this)),this._refreshPOT()),this},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(t){this.emit("error",this,t)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Pt[this.cacheId],delete At[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(t,r,n){void 0===n&&(n=W.STRICT_TEXTURE_CACHE);var i="string"==typeof t,o=null;i?o=t:(t._pixiId||(t._pixiId="pixiid_"+Tt()),o=t._pixiId);var a=Pt[o];if(i&&n&&!a)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return a||((a=new e(t,r)).cacheId=o,e.addToCache(a,o)),a},e.fromBuffer=function(t,r,n,i){t=t||new Float32Array(r*n*4);var o=new Re(t,{width:r,height:n}),a=t instanceof Float32Array?F.FLOAT:F.UNSIGNED_BYTE;return new e(o,Object.assign(De,i||{width:r,height:n,type:a}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),Pt[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),Pt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=Pt[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete Pt[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)delete Pt[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},e._globalBatch=0,e}(q.a),Le=function(t){function e(e,r){var n=this,i=r||{},o=i.width,a=i.height;(n=t.call(this,o,a)||this).items=[],n.itemDirtyIds=[];for(var s=0;s<e;s++){var u=new Ne;n.items.push(u),n.itemDirtyIds.push(-2)}return n.length=e,n._load=null,n.baseTexture=null,n}return Oe(e,t),e.prototype.initFromArray=function(t,e){for(var r=0;r<this.length;r++)t[r]&&(t[r].castToBaseTexture?this.addBaseTextureAt(t[r].castToBaseTexture(),r):t[r]instanceof Ce?this.addResourceAt(t[r],r):this.addResourceAt(Pe(t[r],e),r))},e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map((function(t){return t.resource})).filter((function(t){return t})).map((function(t){return t.load()}));return this._load=Promise.all(e).then((function(){var e=t.items[0],r=e.realWidth,n=e.realHeight;return t.resize(r,n),Promise.resolve(t)})),this._load},e}(Ce),Fe=function(t){function e(e,r){var n,i,o=this,a=r||{},s=a.width,u=a.height;return Array.isArray(e)?(n=e,i=e.length):i=e,o=t.call(this,i,{width:s,height:u})||this,n&&o.initFromArray(n,r),o}return Oe(e,t),e.prototype.addBaseTextureAt=function(t,e){if(!t.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(t.resource,e),this},e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=L.TEXTURE_2D_ARRAY},e.prototype.upload=function(t,e,r){var n=this.length,i=this.itemDirtyIds,o=this.items,a=t.gl;r.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,n,0,e.format,e.type,null);for(var s=0;s<n;s++){var u=o[s];i[s]<u.dirtyId&&(i[s]=u.dirtyId,u.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,s,u.resource.width,u.resource.height,1,e.format,e.type,u.resource.source))}return!0},e}(Le),ke=function(t){function e(e){var r=this,n=e,i=n.naturalWidth||n.videoWidth||n.width,o=n.naturalHeight||n.videoHeight||n.height;return(r=t.call(this,i,o)||this).source=e,r.noSubImage=!1,r}return Oe(e,t),e.crossOrigin=function(t,e,r){void 0===r&&0!==e.indexOf("data:")?t.crossOrigin=Ft(e):!1!==r&&(t.crossOrigin="string"==typeof r?r:"anonymous")},e.prototype.upload=function(t,e,r,n){var i=t.gl,o=e.realWidth,a=e.realHeight;return n=n||this.source,i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===j.UNPACK),this.noSubImage||e.target!==i.TEXTURE_2D||r.width!==o||r.height!==a?(r.width=o,r.height=a,i.texImage2D(e.target,0,e.format,e.format,e.type,n)):i.texSubImage2D(i.TEXTURE_2D,0,0,0,e.format,e.type,n),!0},e.prototype.update=function(){if(!this.destroyed){var e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(Ce),Ue=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oe(e,t),e.test=function(t){var e=window.OffscreenCanvas;return!!(e&&t instanceof e)||t instanceof HTMLCanvasElement},e}(ke),Be=function(t){function e(r,n){var i=this,o=n||{},a=o.width,s=o.height,u=o.autoLoad,h=o.linkBaseTexture;if(r&&r.length!==e.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");i=t.call(this,6,{width:a,height:s})||this;for(var c=0;c<e.SIDES;c++)i.items[c].target=L.TEXTURE_CUBE_MAP_POSITIVE_X+c;return i.linkBaseTexture=!1!==h,r&&i.initFromArray(r,n),!1!==u&&i.load(),i}return Oe(e,t),e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=L.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(t,e,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[e])throw new Error("Index "+e+" is out of bounds");if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0){if(!t.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(t.resource,e)}else t.target=L.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this},e.prototype.upload=function(t,r,n){for(var i=this.itemDirtyIds,o=0;o<e.SIDES;o++){var a=this.items[o];i[o]<a.dirtyId&&(a.valid&&a.resource?(a.resource.upload(t,a,n),i[o]=a.dirtyId):i[o]<-1&&(t.gl.texImage2D(a.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[o]=-1))}return!0},e.test=function(t){return Array.isArray(t)&&t.length===e.SIDES},e.SIDES=6,e}(Le),je=function(t){function e(e,r){var n=this;if(r=r||{},!(e instanceof HTMLImageElement)){var i=new Image;ke.crossOrigin(i,e,r.crossorigin),i.src=e,e=i}return n=t.call(this,e)||this,!e.complete&&n._width&&n._height&&(n._width=0,n._height=0),n.url=e.src,n._process=null,n.preserveBitmap=!1,n.createBitmap=(void 0!==r.createBitmap?r.createBitmap:W.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,n.alphaMode="number"==typeof r.alphaMode?r.alphaMode:null,void 0!==r.premultiplyAlpha&&(n.premultiplyAlpha=r.premultiplyAlpha),n.bitmap=null,n._load=null,!1!==r.autoLoad&&n.load(),n}return Oe(e,t),e.prototype.load=function(t){var e=this;return this._load||(void 0!==t&&(this.createBitmap=t),this._load=new Promise((function(t,r){var n=e.source;e.url=n.src;var i=function(){e.destroyed||(n.onload=null,n.onerror=null,e.resize(n.width,n.height),e._load=null,e.createBitmap?t(e.process()):t(e))};n.complete&&n.src?i():(n.onload=i,n.onerror=function(t){r(t),e.onError.emit(t)})}))),this._load},e.prototype.process=function(){var t=this,e=this.source;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(e,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===j.UNPACK?"premultiply":"none"}).then((function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))})),this._process):Promise.resolve(this)},e.prototype.upload=function(e,r,n){if("number"==typeof this.alphaMode&&(r.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,r,n,this.bitmap),!this.preserveBitmap){var i=!0,o=r._glTextures;for(var a in o){var s=o[a];if(s!==n&&s.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(t){return"string"==typeof t||t instanceof HTMLImageElement},e}(ke),Ve=function(t){function e(e,r){var n=this;return r=r||{},(n=t.call(this,document.createElement("canvas"))||this)._width=0,n._height=0,n.svg=e,n.scale=r.scale||1,n._overrideWidth=r.width,n._overrideHeight=r.height,n._resolve=null,n._crossorigin=r.crossorigin,n._load=null,!1!==r.autoLoad&&n.load(),n}return Oe(e,t),e.prototype.load=function(){var t=this;return this._load||(this._load=new Promise((function(e){if(t._resolve=function(){t.resize(t.source.width,t.source.height),e(t)},/^\<svg/.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}))),this._load},e.prototype._loadSvg=function(){var t=this,e=new Image;ke.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=function(r){t._resolve&&(e.onerror=null,t.onError.emit(r))},e.onload=function(){if(t._resolve){var r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var i=r*t.scale,o=n*t.scale;(t._overrideWidth||t._overrideHeight)&&(i=t._overrideWidth||t._overrideHeight/n*r,o=t._overrideHeight||t._overrideWidth/r*n),i=Math.round(i),o=Math.round(o);var a=t.source;a.width=i,a.height=o,a._pixiId="canvas_"+Tt(),a.getContext("2d").drawImage(e,0,0,r,n,0,0,i,o),t._resolve(),t._resolve=null}}},e.getSize=function(t){var r=e.SVG_SIZE.exec(t),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,e){return"svg"===e||"string"==typeof t&&0===t.indexOf("data:image/svg+xml;base64")||"string"==typeof t&&0===t.indexOf("<svg")},e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(ke),Xe=function(t){function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"==typeof r&&(r=[r]);var a=r[0].src||r[0];ke.crossOrigin(o,a,n.crossorigin);for(var s=0;s<r.length;++s){var u=document.createElement("source"),h=r[s],c=h.src,l=h.mime,f=(c=c||r[s]).split("?").shift().toLowerCase(),d=f.substr(f.lastIndexOf(".")+1);l=l||e.MIME_TYPES[d]||"video/"+d,u.src=c,u.type=l,o.appendChild(u)}r=o}return(i=t.call(this,r)||this).noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=!1!==n.autoPlay,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),!1!==n.autoLoad&&i.load(),i}return Oe(e,t),e.prototype.update=function(e){if(void 0===e&&(e=0),!this.destroyed){var r=ge.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((function(r){t.valid?r(t):(t._resolve=r,e.load())})),this._load},e.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)},e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){var t=this.source;return 3===t.readyState||4===t.readyState},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(ge.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(ge.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&ge.shared.remove(this.update,this);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(ge.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(ge.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t)},enumerable:!1,configurable:!0}),e.test=function(t,r){return t instanceof HTMLVideoElement||e.TYPES.indexOf(r)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(ke),Ge=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oe(e,t),e.test=function(t){return!!window.createImageBitmap&&t instanceof ImageBitmap},e}(ke);Ae.push(je,Ge,Ue,Xe,Ve,Re,Be,Fe);var He={Resource:Ce,BaseImageResource:ke,INSTALLED:Ae,autoDetectResource:Pe,AbstractMultiResource:Le,ArrayResource:Fe,BufferResource:Re,CanvasResource:Ue,CubeResource:Be,ImageResource:je,SVGResource:Ve,VideoResource:Xe,ImageBitmapResource:Ge},Ye=function(){function t(t){this.renderer=t}return t.prototype.destroy=function(){this.renderer=null},t}(),We=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oe(e,t),e.prototype.upload=function(t,e,r){var n=t.gl;return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===j.UNPACK),r.width===e.width&&r.height===e.height?n.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(r.width=e.width,r.height=e.height,n.texImage2D(e.target,0,1===t.context.webGLVersion?n.DEPTH_COMPONENT:n.DEPTH_COMPONENT16,e.width,e.height,0,e.format,e.type,this.data)),!0},e}(Re),ze=function(){function t(t,e){this.width=Math.ceil(t||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Ie("disposeFramebuffer"),this.multisample=Y.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new Ne(null,{scaleMode:k.NEAREST,resolution:1,mipmap:B.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(t){return this.depthTexture=t||new Ne(new We(null,{width:this.width,height:this.height}),{scaleMode:k.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:B.OFF,format:N.DEPTH_COMPONENT,type:F.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var n=this.colorTextures[r],i=n.resolution;n.setSize(t/i,e/i)}if(this.depthTexture){i=this.depthTexture.resolution;this.depthTexture.setSize(t/i,e/i)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),qe=function(t){function e(e){var r=this;if("number"==typeof e){var n=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3];e={width:n,height:i,scaleMode:o,resolution:a}}r=t.call(this,null,e)||this;var s=e||{},u=s.width,h=s.height;return r.mipmap=0,r.width=Math.ceil(u)||100,r.height=Math.ceil(h)||100,r.valid=!0,r.clearColor=[0,0,0,0],r.framebuffer=new ze(r.width*r.resolution,r.height*r.resolution).addColorTexture(0,r),r.maskStack=[],r.filterStack=[{}],r}return Oe(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),this.framebuffer.resize(t*this.resolution,e*this.resolution)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(Ne),Ke=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(t,e,r){var n=e.width,i=e.height;if(r){var o=t.width/2/n,a=t.height/2/i,s=t.x/n+o,u=t.y/i+a;r=ne.add(r,ne.NW),this.x0=s+o*ne.uX(r),this.y0=u+a*ne.uY(r),r=ne.add(r,2),this.x1=s+o*ne.uX(r),this.y1=u+a*ne.uY(r),r=ne.add(r,2),this.x2=s+o*ne.uX(r),this.y2=u+a*ne.uY(r),r=ne.add(r,2),this.x3=s+o*ne.uX(r),this.y3=u+a*ne.uY(r)}else this.x0=t.x/n,this.y0=t.y/i,this.x1=(t.x+t.width)/n,this.y1=t.y/i,this.x2=(t.x+t.width)/n,this.y2=(t.y+t.height)/i,this.x3=t.x/n,this.y3=(t.y+t.height)/i;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t}(),Ze=new Ke,$e=function(t){function e(r,n,i,o,a,s){var u=t.call(this)||this;if(u.noFrame=!1,n||(u.noFrame=!0,n=new Xt(0,0,1,1)),r instanceof e&&(r=r.baseTexture),u.baseTexture=r,u._frame=n,u.trim=o,u.valid=!1,u._uvs=Ze,u.uvMatrix=null,u.orig=i||n,u._rotate=Number(a||0),!0===a)u._rotate=2;else if(u._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return u.defaultAnchor=s?new zt(s.x,s.y):new zt(0,0),u._updateID=0,u.textureCacheIds=[],r.valid?u.noFrame?r.valid&&u.onBaseTextureUpdated(r):u.frame=n:r.once("loaded",u.onBaseTextureUpdated,u),u.noFrame&&r.on("update",u.onBaseTextureUpdated,u),u}return Oe(e,t),e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var r=this.baseTexture;r&&r.url&&At[r.url]&&e.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},e.prototype.updateUvs=function(){this._uvs===Ze&&(this._uvs=new Ke),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,r,n){void 0===r&&(r={}),void 0===n&&(n=W.STRICT_TEXTURE_CACHE);var i="string"==typeof t,o=null;i?o=t:(t._pixiId||(t._pixiId="pixiid_"+Tt()),o=t._pixiId);var a=At[o];if(i&&n&&!a)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return a||(r.resolution||(r.resolution=kt(t)),(a=new e(new Ne(t,r))).baseTexture.cacheId=o,Ne.addToCache(a.baseTexture,o),e.addToCache(a,o)),a},e.fromURL=function(t,r){var n=Object.assign({autoLoad:!1},null==r?void 0:r.resourceOptions),i=e.from(t,Object.assign({resourceOptions:n},r),!1),o=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):o.load().then((function(){return Promise.resolve(i)}))},e.fromBuffer=function(t,r,n,i){return new e(Ne.fromBuffer(t,r,n,i))},e.fromLoader=function(t,r,n){var i=new je(t);i.url=r;var o=new e(new Ne(i,{scaleMode:W.SCALE_MODE,resolution:kt(r)}));return n||(n=r),Ne.addToCache(o.baseTexture,n),e.addToCache(o,n),n!==r&&(Ne.addToCache(o.baseTexture,r),e.addToCache(o,r)),o},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),At[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),At[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=At[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete At[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)At[t.textureCacheIds[n]]===t&&delete At[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,n=t.width,i=t.height,o=e+n>this.baseTexture.width,a=r+i>this.baseTexture.height;if(o||a){var s=o&&a?"and":"or",u="X: "+e+" + "+n+" = "+(e+n)+" > "+this.baseTexture.width,h="Y: "+r+" + "+i+" = "+(r+i)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+u+" "+s+" "+h)}this.valid=n&&i&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},e}(q.a);function Je(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}$e.EMPTY=new $e(new Ne),Je($e.EMPTY),Je($e.EMPTY.baseTexture),$e.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new $e(new Ne(new Ue(t)))}(),Je($e.WHITE),Je($e.WHITE.baseTexture);var Qe=function(t){function e(e,r){var n=this,i=null;if(!(e instanceof qe)){var o=arguments[1],a=arguments[2],s=arguments[3],u=arguments[4];console.warn("Please use RenderTexture.create("+o+", "+a+") instead of the ctor directly."),i=arguments[0],r=null,e=new qe({width:o,height:a,scaleMode:s,resolution:u})}return(n=t.call(this,e,r)||this).legacyRenderer=i,n.valid=!0,n.filterFrame=null,n.filterPoolKey=null,n.updateUvs(),n}return Oe(e,t),Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e,r){void 0===r&&(r=!0),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r&&this.baseTexture.resize(t,e),this.updateUvs()},e.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},e.create=function(t){return"number"==typeof t&&(t={width:t,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new e(new qe(t))},e}($e),tr=function(){function t(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(t,e){var r=new qe(Object.assign({width:t,height:e,resolution:1},this.textureOptions));return new Qe(r)},t.prototype.getOptimalTexture=function(e,r,n){void 0===n&&(n=1);var i=t.SCREEN_KEY;e*=n,r*=n,this.enableFullScreen&&e===this._pixelsWidth&&r===this._pixelsHeight||(i=(65535&(e=mt(e)))<<16|65535&(r=mt(r))),this.texturePool[i]||(this.texturePool[i]=[]);var o=this.texturePool[i].pop();return o||(o=this.createTexture(e,r)),o.filterPoolKey=i,o.setResolution(n),o},t.prototype.getFilterTexture=function(t,e){var r=this.getOptimalTexture(t.width,t.height,e||t.resolution);return r.filterFrame=t.filterFrame,r},t.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},t.prototype.returnFilterTexture=function(t){this.returnTexture(t)},t.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var r=this.texturePool[e];if(r)for(var n=0;n<r.length;n++)r[n].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){var r=t.SCREEN_KEY,n=this.texturePool[r];if(this.enableFullScreen=e.width>0&&e.height>0,n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[],this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY="screen",t}(),er=function(){function t(t,e,r,n,i,o,a){void 0===e&&(e=0),void 0===r&&(r=!1),void 0===n&&(n=5126),this.buffer=t,this.size=e,this.normalized=r,this.type=n,this.stride=i,this.start=o,this.instance=a}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,r,n,i,o){return new t(e,r,n,i,o)},t}(),rr=0,nr=function(){function t(t,e,r){void 0===e&&(e=!0),void 0===r&&(r=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=e,this.id=rr++,this.disposeRunner=new Ie("disposeBuffer")}return t.prototype.update=function(t){this.data=t||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}();function ir(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var or={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var ar={5126:4,5123:2,5121:1},sr=0,ur={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},hr=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=sr++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Ie("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(t,e,r,n,i,o,a,s){if(void 0===r&&(r=0),void 0===n&&(n=!1),void 0===s&&(s=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof nr||(e instanceof Array&&(e=new Float32Array(e)),e=new nr(e));var u=t.split("|");if(u.length>1){for(var h=0;h<u.length;h++)this.addAttribute(u[h],e,r,n,i);return this}var c=this.buffers.indexOf(e);return-1===c&&(this.buffers.push(e),c=this.buffers.length-1),this.attributes[t]=new er(c,r,n,i,o,a,s),this.instanced=this.instanced||s,this},t.prototype.getAttribute=function(t){return this.attributes[t]},t.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},t.prototype.addIndex=function(t){return t instanceof nr||(t instanceof Array&&(t=new Uint16Array(t)),t=new nr(t)),t.index=!0,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],r=[],n=new nr;for(t in this.attributes){var i=this.attributes[t],o=this.buffers[i.buffer];e.push(o.data),r.push(i.size*ar[i.type]/4),i.buffer=0}for(n.data=function(t,e){for(var r=0,n=0,i={},o=0;o<t.length;o++)n+=e[o],r+=t[o].length;var a=new ArrayBuffer(4*r),s=null,u=0;for(o=0;o<t.length;o++){var h=e[o],c=t[o],l=ir(c);i[l]||(i[l]=new or[l](a)),s=i[l];for(var f=0;f<c.length;f++){s[(f/h|0)*n+u+f%h]=c[f]}u+=h}return new Float32Array(a)}(e,r),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,r=0;r<this.buffers.length;r++)e.buffers[r]=new nr(this.buffers[r].data.slice(0));for(var r in this.attributes){var n=this.attributes[r];e.attributes[r]=new er(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.index=!0),e},t.merge=function(e){for(var r,n=new t,i=[],o=[],a=[],s=0;s<e.length;s++){r=e[s];for(var u=0;u<r.buffers.length;u++)o[u]=o[u]||0,o[u]+=r.buffers[u].data.length,a[u]=0}for(s=0;s<r.buffers.length;s++)i[s]=new(ur[ir(r.buffers[s].data)])(o[s]),n.buffers[s]=new nr(i[s]);for(s=0;s<e.length;s++){r=e[s];for(u=0;u<r.buffers.length;u++)i[u].set(r.buffers[u].data,a[u]),a[u]+=r.buffers[u].data.length}if(n.attributes=r.attributes,r.indexBuffer){n.indexBuffer=n.buffers[r.buffers.indexOf(r.indexBuffer)],n.indexBuffer.index=!0;var h=0,c=0,l=0,f=0;for(s=0;s<r.buffers.length;s++)if(r.buffers[s]!==r.indexBuffer){f=s;break}for(var s in r.attributes){var d=r.attributes[s];(0|d.buffer)===f&&(c+=d.size*ar[d.type]/4)}for(s=0;s<e.length;s++){var p=e[s].indexBuffer.data;for(u=0;u<p.length;u++)n.indexBuffer.data[u+l]+=h;h+=r.buffers[f].data.length/c,l+=p.length}}return n},t}(),cr=function(t){function e(){var e=t.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return Oe(e,t),e}(hr),lr=function(t){function e(){var e=t.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new nr(e.vertices),e.uvBuffer=new nr(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return Oe(e,t),e.prototype.map=function(t,e){var r=0,n=0;return this.uvs[0]=r,this.uvs[1]=n,this.uvs[2]=r+e.width/t.width,this.uvs[3]=n,this.uvs[4]=r+e.width/t.width,this.uvs[5]=n+e.height/t.height,this.uvs[6]=r,this.uvs[7]=n+e.height/t.height,r=e.x,n=e.y,this.vertices[0]=r,this.vertices[1]=n,this.vertices[2]=r+e.width,this.vertices[3]=n,this.vertices[4]=r+e.width,this.vertices[5]=n+e.height,this.vertices[6]=r,this.vertices[7]=n+e.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(hr),fr=0,dr=function(){function t(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=fr++,this.static=!!e}return t.prototype.update=function(){this.dirtyId++},t.prototype.add=function(e,r,n){this.uniforms[e]=new t(r,n)},t.from=function(e,r){return new t(e,r)},t}(),pr=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new Xt,this.destinationFrame=new Xt,this.filters=[]}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),vr=function(t){function e(e){var r=t.call(this,e)||this;return r.defaultFilterStack=[{}],r.texturePool=new tr,r.texturePool.setScreenSize(e.view),r.statePool=[],r.quad=new cr,r.quadUv=new lr,r.tempRect=new Xt,r.activeState={},r.globalUniforms=new dr({outputFrame:r.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),r.forceClear=!1,r.useMaxPadding=!1,r}return Oe(e,t),e.prototype.push=function(t,e){for(var r=this.renderer,n=this.defaultFilterStack,i=this.statePool.pop()||new pr,o=e[0].resolution,a=e[0].padding,s=e[0].autoFit,u=e[0].legacy,h=1;h<e.length;h++){var c=e[h];o=Math.min(o,c.resolution),a=this.useMaxPadding?Math.max(a,c.padding):a+c.padding,s=s||c.autoFit,u=u||c.legacy}1===n.length&&(this.defaultFilterStack[0].renderTexture=r.renderTexture.current),n.push(i),i.resolution=o,i.legacy=u,i.target=t,i.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),i.sourceFrame.pad(a),s&&i.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),i.sourceFrame.ceil(o),i.renderTexture=this.getOptimalFilterTexture(i.sourceFrame.width,i.sourceFrame.height,o),i.filters=e,i.destinationFrame.width=i.renderTexture.width,i.destinationFrame.height=i.renderTexture.height;var l=this.tempRect;l.width=i.sourceFrame.width,l.height=i.sourceFrame.height,i.renderTexture.filterFrame=i.sourceFrame,r.renderTexture.bind(i.renderTexture,i.sourceFrame,l),r.renderTexture.clear()},e.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),r=e.filters;this.activeState=e;var n=this.globalUniforms.uniforms;n.outputFrame=e.sourceFrame,n.resolution=e.resolution;var i=n.inputSize,o=n.inputPixel,a=n.inputClamp;if(i[0]=e.destinationFrame.width,i[1]=e.destinationFrame.height,i[2]=1/i[0],i[3]=1/i[1],o[0]=i[0]*e.resolution,o[1]=i[1]*e.resolution,o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=e.sourceFrame.width*i[2]-.5*o[2],a[3]=e.sourceFrame.height*i[3]-.5*o[3],e.legacy){var s=n.filterArea;s[0]=e.destinationFrame.width,s[1]=e.destinationFrame.height,s[2]=e.sourceFrame.x,s[3]=e.sourceFrame.y,n.filterClamp=n.inputClamp}this.globalUniforms.update();var u=t[t.length-1];if(e.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),1===r.length)r[0].apply(this,e.renderTexture,u.renderTexture,V.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var h=e.renderTexture,c=this.getOptimalFilterTexture(h.width,h.height,e.resolution);c.filterFrame=h.filterFrame;var l=0;for(l=0;l<r.length-1;++l){r[l].apply(this,h,c,V.CLEAR,e);var f=h;h=c,c=f}r[l].apply(this,h,u.renderTexture,V.BLEND,e),this.returnFilterTexture(h),this.returnFilterTexture(c)}e.clear(),this.statePool.push(e)},e.prototype.bindAndClear=function(t,e){if(void 0===e&&(e=V.CLEAR),t&&t.filterFrame){var r=this.tempRect;r.width=t.filterFrame.width,r.height=t.filterFrame.height,this.renderer.renderTexture.bind(t,t.filterFrame,r)}else this.renderer.renderTexture.bind(t);"boolean"==typeof e&&(e=e?V.CLEAR:V.BLEND,St("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(e===V.CLEAR||e===V.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},e.prototype.applyFilter=function(t,e,r,n){var i=this.renderer;this.bindAndClear(r,n),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,i.state.set(t.state),i.shader.bind(t),t.legacy?(this.quadUv.map(e._frame,e.filterFrame),i.geometry.bind(this.quadUv),i.geometry.draw(D.TRIANGLES)):(i.geometry.bind(this.quad),i.geometry.draw(D.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,e){var r=this.activeState,n=r.sourceFrame,i=r.destinationFrame,o=e._texture.orig,a=t.set(i.width,0,0,i.height,n.x,n.y),s=e.worldTransform.copyTo(Kt.TEMP_MATRIX);return s.invert(),a.prepend(s),a.scale(1/o.width,1/o.height),a.translate(e.anchor.x,e.anchor.y),a},e.prototype.destroy=function(){this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(t,e,r){return void 0===r&&(r=1),this.texturePool.getOptimalTexture(t,e,r)},e.prototype.getFilterTexture=function(t,e){if("number"==typeof t){var r=t;t=e,e=r}t=t||this.activeState.renderTexture;var n=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution);return n.filterFrame=t.filterFrame,n},e.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e}(Ye),gr=function(){function t(t){this.renderer=t}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(t){},t}(),mr=function(t){function e(e){var r=t.call(this,e)||this;return r.emptyRenderer=new gr(e),r.currentRenderer=r.emptyRenderer,r}return Oe(e,t),e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(t,e){for(var r=this.renderer.texture.boundTextures,n=e-1;n>=0;--n)t[n]=r[n]||null,t[n]&&(t[n]._batchLocation=n)},e.prototype.boundArray=function(t,e,r,n){for(var i=t.elements,o=t.ids,a=t.count,s=0,u=0;u<a;u++){var h=i[u],c=h._batchLocation;if(c>=0&&c<n&&e[c]===h)o[u]=c;else for(;s<n;){var l=e[s];if(!l||l._batchEnabled!==r||l._batchLocation!==s){o[u]=s,h._batchLocation=s,e[s]=h;break}s++}}},e}(Ye),yr=0,br=function(t){function e(e){var r=t.call(this,e)||this;return r.webGLVersion=1,r.extensions={},r.supports={uint32Indices:!1},r.handleContextLost=r.handleContextLost.bind(r),r.handleContextRestored=r.handleContextRestored.bind(r),e.view.addEventListener("webglcontextlost",r.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",r.handleContextRestored,!1),r}return Oe(e,t),Object.defineProperty(e.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),e.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=yr++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=yr++,this.renderer.runners.contextChange.emit(t)},e.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},e.prototype.createContext=function(t,e){var r;if(W.PREFER_ENV>=M.WEBGL2&&(r=t.getContext("webgl2",e)),r)this.webGLVersion=2;else if(this.webGLVersion=1,!(r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl},e.prototype.getExtensions=function(){var t=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:t.getExtension("EXT_color_buffer_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear")})},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var e="WebGL2RenderingContext"in window&&t instanceof window.WebGL2RenderingContext||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=e,e||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},e}(Ye),xr=function(t){this.framebuffer=t,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=Y.NONE,this.msaaBuffer=null,this.blitFramebuffer=null},_r=new Xt,wr=function(t){function e(e){var r=t.call(this,e)||this;return r.managedFramebuffers=[],r.unknownFramebuffer=new ze(10,10),r.msaaSamples=null,r}return Oe(e,t),e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Xt,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;W.PREFER_ENV===M.WEBGL_LEGACY&&(e=null,r=null),e?t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,t.drawBuffers=function(){}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},e.prototype.bind=function(t,e){var r=this.gl;if(t){var n=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,r.bindFramebuffer(r.FRAMEBUFFER,n.framebuffer)),n.dirtyId!==t.dirtyId&&(n.dirtyId=t.dirtyId,n.dirtyFormat!==t.dirtyFormat?(n.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):n.dirtySize!==t.dirtySize&&(n.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var i=0;i<t.colorTextures.length;i++){var o=t.colorTextures[i];this.renderer.texture.unbind(o.parentTextureArray||o)}t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,t.width,t.height)}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,e,r,n){var i=this.viewport;i.width===r&&i.height===n&&i.x===t&&i.y===e||(i.x=t,i.y=e,i.width=r,i.height=n,this.gl.viewport(t,e,r,n))},Object.defineProperty(e.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),e.prototype.clear=function(t,e,r,n,i){void 0===i&&(i=C.COLOR|C.DEPTH);var o=this.gl;o.clearColor(t,e,r,n),o.clear(i)},e.prototype.initFramebuffer=function(t){var e=this.gl,r=new xr(e.createFramebuffer());return r.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(t),t.disposeRunner.add(this),r},e.prototype.resizeFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID];r.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));for(var n=t.colorTextures,i=0;i<n.length;i++)this.renderer.texture.bind(n[i],0);t.depthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID],n=t.colorTextures.length;e.drawBuffers||(n=Math.min(n,1)),r.multisample>1&&(r.msaaBuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,r.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,r.multisample,e.RGBA8,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,r.msaaBuffer));for(var i=[],o=0;o<n;o++)if(!(0===o&&r.multisample>1)){var a=t.colorTextures[o],s=a.parentTextureArray||a;this.renderer.texture.bind(s,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+o,a.target,s._glTextures[this.CONTEXT_UID].texture,0),i.push(e.COLOR_ATTACHMENT0+o)}if((i.length>1&&e.drawBuffers(i),t.depthTexture)&&this.writeDepthTexture){var u=t.depthTexture;this.renderer.texture.bind(u,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,0)}r.stencil||!t.stencil&&!t.depth||(r.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height),t.depthTexture||e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,r.stencil))},e.prototype.detectSamples=function(t){var e=this.msaaSamples,r=Y.NONE;if(t<=1||null===e)return r;for(var n=0;n<e.length;n++)if(e[n]<=t){r=e[n];break}return 1===r&&(r=Y.NONE),r},e.prototype.blit=function(t,e,r){var n=this.current,i=this.renderer,o=this.gl,a=this.CONTEXT_UID;if(2===i.context.webGLVersion&&n){var s=n.glFramebuffers[a];if(s){if(!t){if(s.multisample<=1)return;s.blitFramebuffer||(s.blitFramebuffer=new ze(n.width,n.height),s.blitFramebuffer.addColorTexture(0,n.colorTextures[0])),(t=s.blitFramebuffer).width=n.width,t.height=n.height}e||((e=_r).width=n.width,e.height=n.height),r||(r=e);var u=e.width===r.width&&e.height===r.height;this.bind(t),o.bindFramebuffer(o.READ_FRAMEBUFFER,s.framebuffer),o.blitFramebuffer(e.x,e.y,e.width,e.height,r.x,r.y,r.width,r.height,o.COLOR_BUFFER_BIT,u?o.NEAREST:o.LINEAR)}}},e.prototype.disposeFramebuffer=function(t,e){var r=t.glFramebuffers[this.CONTEXT_UID],n=this.gl;if(r){delete t.glFramebuffers[this.CONTEXT_UID];var i=this.managedFramebuffers.indexOf(t);i>=0&&this.managedFramebuffers.splice(i,1),t.disposeRunner.remove(this),e||(n.deleteFramebuffer(r.framebuffer),r.stencil&&n.deleteRenderbuffer(r.stencil))}},e.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<e.length;r++)this.disposeFramebuffer(e[r],t)},e.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.enableStencil();var r=t.width,n=t.height,i=this.gl,o=i.createRenderbuffer();i.bindRenderbuffer(i.RENDERBUFFER,o),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,r,n),e.stencil=o,i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,o)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Xt},e}(Ye),Tr=function(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},Er={5126:4,5123:2,5121:1},Sr=function(t){function e(e){var r=t.call(this,e)||this;return r._activeGeometry=null,r._activeVao=null,r.hasVao=!0,r.hasInstance=!0,r.canUseUInt32ElementIndex=!1,r.managedGeometries={},r.managedBuffers={},r}return Oe(e,t),e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,!t.createVertexArray){var r=this.renderer.context.extensions.vertexArrayObject;W.PREFER_ENV===M.WEBGL_LEGACY&&(r=null),r?(t.createVertexArray=function(){return r.createVertexArrayOES()},t.bindVertexArray=function(t){return r.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return r.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(!t.vertexAttribDivisor){var n=t.getExtension("ANGLE_instanced_arrays");n?(t.vertexAttribDivisor=function(t,e){return n.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,r,i,o){return n.drawElementsInstancedANGLE(t,e,r,i,o)},t.drawArraysInstanced=function(t,e,r,i){return n.drawArraysInstancedANGLE(t,e,r,i)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},e.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var r=this.gl,n=t.glVertexArrayObjects[this.CONTEXT_UID];n||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=n={});var i=n[e.program.id]||this.initGeometryVao(t,e.program);this._activeGeometry=t,this._activeVao!==i&&(this._activeVao=i,this.hasVao?r.bindVertexArray(i):this.activateVao(t,e.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.gl,r=0;r<t.buffers.length;r++){var n=t.buffers[r],i=n._glBuffers[this.CONTEXT_UID];if(n._updateID!==i.updateID){i.updateID=n._updateID;var o=n.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;if(e.bindBuffer(o,i.buffer),this._boundBuffer=i,i.byteLength>=n.data.byteLength)e.bufferSubData(o,0,n.data);else{var a=n.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;i.byteLength=n.data.byteLength,e.bufferData(o,n.data,a)}}}},e.prototype.checkCompatibility=function(t,e){var r=t.attributes,n=e.attributeData;for(var i in n)if(!r[i])throw new Error('shader and geometry incompatible, geometry missing the "'+i+'" attribute')},e.prototype.getSignature=function(t,e){var r=t.attributes,n=e.attributeData,i=["g",t.id];for(var o in r)n[o]&&i.push(o);return i.join("-")},e.prototype.initGeometryVao=function(t,e){this.checkCompatibility(t,e);var r=this.gl,n=this.CONTEXT_UID,i=this.getSignature(t,e),o=t.glVertexArrayObjects[this.CONTEXT_UID],a=o[i];if(a)return o[e.id]=a,a;var s=t.buffers,u=t.attributes,h={},c={};for(var l in s)h[l]=0,c[l]=0;for(var l in u)!u[l].size&&e.attributeData[l]?u[l].size=e.attributeData[l].size:u[l].size||console.warn("PIXI Geometry attribute '"+l+"' size cannot be determined (likely the bound shader does not have the attribute)"),h[u[l].buffer]+=u[l].size*Er[u[l].type];for(var l in u){var f=u[l],d=f.size;void 0===f.stride&&(h[f.buffer]===d*Er[f.type]?f.stride=0:f.stride=h[f.buffer]),void 0===f.start&&(f.start=c[f.buffer],c[f.buffer]+=d*Er[f.type])}a=r.createVertexArray(),r.bindVertexArray(a);for(var p=0;p<s.length;p++){var v=s[p];v._glBuffers[n]||(v._glBuffers[n]=new Tr(r.createBuffer()),this.managedBuffers[v.id]=v,v.disposeRunner.add(this)),v._glBuffers[n].refCount++}return this.activateVao(t,e),this._activeVao=a,o[e.id]=a,o[i]=a,a},e.prototype.disposeBuffer=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var r=t._glBuffers[this.CONTEXT_UID],n=this.gl;t.disposeRunner.remove(this),r&&(e||n.deleteBuffer(r.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeGeometry=function(t,e){if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],n=this.gl,i=t.buffers;if(t.disposeRunner.remove(this),r){for(var o=0;o<i.length;o++){var a=i[o]._glBuffers[this.CONTEXT_UID];a.refCount--,0!==a.refCount||e||this.disposeBuffer(i[o],e)}if(!e)for(var s in r)if("g"===s[0]){var u=r[s];this._activeVao===u&&this.unbind(),n.deleteVertexArray(u)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),r=0;r<e.length;r++)this.disposeGeometry(this.managedGeometries[e[r]],t);e=Object.keys(this.managedBuffers);for(r=0;r<e.length;r++)this.disposeBuffer(this.managedBuffers[e[r]],t)},e.prototype.activateVao=function(t,e){var r=this.gl,n=this.CONTEXT_UID,i=t.buffers,o=t.attributes;t.indexBuffer&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[n].buffer);var a=null;for(var s in o){var u=o[s],h=i[u.buffer]._glBuffers[n];if(e.attributeData[s]){a!==h&&(r.bindBuffer(r.ARRAY_BUFFER,h.buffer),a=h);var c=e.attributeData[s].location;if(r.enableVertexAttribArray(c),r.vertexAttribPointer(c,u.size,u.type||r.FLOAT,u.normalized,u.stride,u.start),u.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(c,1)}}}},e.prototype.draw=function(t,e,r,n){var i=this.gl,o=this._activeGeometry;if(o.indexBuffer){var a=o.indexBuffer.data.BYTES_PER_ELEMENT,s=2===a?i.UNSIGNED_SHORT:i.UNSIGNED_INT;2===a||4===a&&this.canUseUInt32ElementIndex?o.instanced?i.drawElementsInstanced(t,e||o.indexBuffer.data.length,s,(r||0)*a,n||1):i.drawElements(t,e||o.indexBuffer.data.length,s,(r||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?i.drawArraysInstanced(t,r,e||o.getSize(),n||1):i.drawArrays(t,r,e||o.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e}(Ye),Ir=function(){function t(t){void 0===t&&(t=null),this.type=H.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=H.NONE,this.autoDetect=!0),this._target=null},t.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function Ar(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function Pr(t,e,r,n){var i=Ar(t,t.VERTEX_SHADER,e),o=Ar(t,t.FRAGMENT_SHADER,r),a=t.createProgram();if(t.attachShader(a,i),t.attachShader(a,o),n)for(var s in n)t.bindAttribLocation(a,n[s],s);return t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)||(t.getShaderParameter(i,t.COMPILE_STATUS)||(console.warn(e),console.error(t.getShaderInfoLog(i))),t.getShaderParameter(o,t.COMPILE_STATUS)||(console.warn(r),console.error(t.getShaderInfoLog(o))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(a,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(a)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(a)),t.deleteProgram(a),a=null),t.deleteShader(i),t.deleteShader(o),a}function Mr(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function Or(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return Mr(2*e);case"bvec3":return Mr(3*e);case"bvec4":return Mr(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var Cr,Rr={},Dr=Rr;function Nr(){if(Dr===Rr||Dr&&Dr.isContextLost()){var t=document.createElement("canvas"),e=void 0;W.PREFER_ENV>=M.WEBGL2&&(e=t.getContext("webgl2",{})),e||((e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),Dr=e}return Dr}function Lr(t,e,r){if("precision"!==t.substring(0,9)){var n=e;return e===G.HIGH&&r!==G.HIGH&&(n=G.MEDIUM),"precision "+n+" float;\n"+t}return r!==G.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var Fr={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function kr(t){return Fr[t]}var Ur=null,Br={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function jr(t,e){if(!Ur){var r=Object.keys(Br);Ur={};for(var n=0;n<r.length;++n){var i=r[n];Ur[t[i]]=Br[i]}}return Ur[e]}var Vr=[{test:function(t){return"float"===t.type&&1===t.size},code:function(t){return'\n            if(uv["'+t+'"] !== ud["'+t+'"].value)\n            {\n                ud["'+t+'"].value = uv["'+t+'"]\n                gl.uniform1f(ud["'+t+'"].location, uv["'+t+'"])\n            }\n            '}},{test:function(t){return("sampler2D"===t.type||"samplerCube"===t.type||"sampler2DArray"===t.type)&&1===t.size&&!t.isArray},code:function(t){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+t+'"], t);\n\n            if(ud["'+t+'"].value !== t)\n            {\n                ud["'+t+'"].value = t;\n                gl.uniform1i(ud["'+t+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(t,e){return"mat3"===t.type&&1===t.size&&void 0!==e.a},code:function(t){return'\n            gl.uniformMatrix3fv(ud["'+t+'"].location, false, uv["'+t+'"].toArray(true));\n            '}},{test:function(t,e){return"vec2"===t.type&&1===t.size&&void 0!==e.x},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+t+'"].location, v.x, v.y);\n                }'}},{test:function(t){return"vec2"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+t+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(t,e){return"vec4"===t.type&&1===t.size&&void 0!==e.width},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+t+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(t){return"vec4"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+t+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],Xr={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Gr={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var Hr,Yr=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Wr(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}function zr(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var n=Yr.replace(/%forloop%/gi,Wr(t));if(e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))break;t=t/2|0}return t}var qr=0,Kr={},Zr=function(){function t(e,r,n){void 0===n&&(n="pixi-shader"),this.id=qr++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(n=n.replace(/\s+/g,"-"),Kr[n]?(Kr[n]++,n+="-"+Kr[n]):Kr[n]=1,this.vertexSrc="#define SHADER_NAME "+n+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+"\n"+this.fragmentSrc,this.vertexSrc=Lr(this.vertexSrc,W.PRECISION_VERTEX,G.HIGH),this.fragmentSrc=Lr(this.fragmentSrc,W.PRECISION_FRAGMENT,function(){if(!Cr){Cr=G.MEDIUM;var t=Nr();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);Cr=e.precision?G.HIGH:G.MEDIUM}}return Cr}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return t.prototype.extractData=function(t,e){var r=Nr();if(r){var n=Pr(r,t,e);this.attributeData=this.getAttributeData(n,r),this.uniformData=this.getUniformData(n,r),r.deleteProgram(n)}else this.uniformData={},this.attributeData={}},t.prototype.getAttributeData=function(t,e){for(var r={},n=[],i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;o<i;o++){var a=e.getActiveAttrib(t,o),s=jr(e,a.type),u={type:s,name:a.name,size:kr(s),location:0};r[a.name]=u,n.push(u)}n.sort((function(t,e){return t.name>e.name?1:-1}));for(o=0;o<n.length;o++)n[o].location=o;return r},t.prototype.getUniformData=function(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<n;i++){var o=e.getActiveUniform(t,i),a=o.name.replace(/\[.*?\]$/,""),s=o.name.match(/\[.*?\]$/),u=jr(e,o.type);r[a]={type:u,size:o.size,isArray:s,value:Or(u,o.size)}}return r},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=e+r,o=It[i];return o||(It[i]=o=new t(e,r,n)),o},t}(),$r=function(){function t(t,e){for(var r in this.program=t,this.uniformGroup=e?e instanceof dr?e:new dr(e):new dr({}),t.uniformData)this.uniformGroup.uniforms[r]instanceof Array&&(this.uniformGroup.uniforms[r]=new Float32Array(this.uniformGroup.uniforms[r]))}return t.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var r in e.uniforms){var n=e.uniforms[r];if(n.group&&this.checkUniformExists(t,n))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,r,n){return new t(Zr.from(e,r),n)},t}(),Jr=function(){function t(){this.data=0,this.blendMode=R.NORMAL,this.polygonOffset=0,this.blend=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==R.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),Qr=function(t){function e(r,n,i){var o=this,a=Zr.from(r||e.defaultVertexSrc,n||e.defaultFragmentSrc);return(o=t.call(this,a,i)||this).padding=0,o.resolution=W.FILTER_RESOLUTION,o.enabled=!0,o.autoFit=!0,o.legacy=!!o.program.attributeData.aTextureCoord,o.state=new Jr,o}return Oe(e,t),e.prototype.apply=function(t,e,r,n,i){t.applyFilter(this,e,r,n)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),e}($r),tn=new Kt,en=function(){function t(t,e){this._texture=t,this.mapCoord=new Kt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,n=0;n<t.length;n+=2){var i=t[n],o=t[n+1];e[n]=i*r.a+o*r.c+r.tx,e[n+1]=i*r.b+o*r.d+r.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var n=e.orig,i=e.trim;i&&(tn.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(tn));var o=e.baseTexture,a=this.uClampFrame,s=this.clampMargin/o.resolution,u=this.clampOffset;return a[0]=(e._frame.x+s+u)/o.width,a[1]=(e._frame.y+s+u)/o.height,a[2]=(e._frame.x+e._frame.width-s+u)/o.width,a[3]=(e._frame.y+e._frame.height-s+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&0===e.rotate,!0},t}(),rn=function(t){function e(e){var r=this,n=new Kt;return r=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n")||this,e.renderable=!1,r.maskSprite=e,r.maskMatrix=n,r}return Oe(e,t),e.prototype.apply=function(t,e,r,n){var i=this.maskSprite,o=i._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new en(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,i).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,t.applyFilter(this,e,r,n))},e}(Qr),nn=function(t){function e(e){var r=t.call(this,e)||this;return r.enableScissor=!1,r.alphaMaskPool=[],r.maskDataPool=[],r.maskStack=[],r.alphaMaskIndex=0,r}return Oe(e,t),e.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},e.prototype.push=function(t,e){var r=e;if(!r.isMaskData){var n=this.maskDataPool.pop()||new Ir;n.pooled=!0,n.maskObject=e,r=n}switch(r.autoDetect&&this.detect(r),r.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),r._target=t,r.type){case H.SCISSOR:this.maskStack.push(r),this.renderer.scissor.push(r);break;case H.STENCIL:this.maskStack.push(r),this.renderer.stencil.push(r);break;case H.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r),this.maskStack.push(r)}},e.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){switch(e.type){case H.SCISSOR:this.renderer.scissor.pop();break;case H.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case H.SPRITE:this.popSpriteMask()}e.reset(),e.pooled&&this.maskDataPool.push(e)}},e.prototype.detect=function(t){var e=t.maskObject;if(e.isSprite)t.type=H.SPRITE;else if(t.type=H.STENCIL,this.enableScissor&&e.isFastRect&&e.isFastRect()){var r=e.worldTransform,n=Math.atan2(r.b,r.a),i=Math.atan2(r.d,r.c);n=Math.round(n*(180/Math.PI)*100),i=((i=Math.round(i*(180/Math.PI)*100)-n)%18e3+18e3)%18e3,0===(n=(n%9e3+9e3)%9e3)&&9e3===i&&(t.type=H.SCISSOR)}},e.prototype.pushSpriteMask=function(t){var e=t.maskObject,r=t._target,n=this.alphaMaskPool[this.alphaMaskIndex];n||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new rn(e)]),n[0].resolution=this.renderer.resolution,n[0].maskSprite=e;var i=r.filterArea;r.filterArea=e.getBounds(!0),this.renderer.filter.push(r,n),r.filterArea=i,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},e}(Ye),on=function(t){function e(e){var r=t.call(this,e)||this;return r.maskStack=[],r.glConst=0,r}return Oe(e,t),e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(t){var e=this.renderer.gl,r=this.getStackLength();this.maskStack=t;var n=this.getStackLength();n!==r&&(0===n?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.maskStack=null},e}(Ye),an=function(t){function e(e){var r=t.call(this,e)||this;return r.glConst=WebGLRenderingContext.SCISSOR_TEST,r}return Oe(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},e.prototype.push=function(t){var e=t.maskObject;e.renderable=!0;var r=t._scissorRect,n=e.getBounds(!0),i=this.renderer.gl;e.renderable=!1,r?n.fit(r):i.enable(i.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=n,this._useCurrent()},e.prototype.pop=function(){var t=this.renderer.gl;this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)},e.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect,e=this.renderer.renderTexture.current,r=this.renderer.projection,n=r.transform,i=r.sourceFrame,o=r.destinationFrame,a=e?e.resolution:this.renderer.resolution,s=(t.x-i.x)*a+o.x,u=(t.y-i.y)*a+o.y,h=t.width*a,c=t.height*a;n&&(s+=n.tx*a,u+=n.ty*a),e||(u=this.renderer.height-c-u),this.renderer.gl.scissor(s,u,h,c)},e}(on),sn=function(t){function e(e){var r=t.call(this,e)||this;return r.glConst=WebGLRenderingContext.STENCIL_TEST,r}return Oe(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},e.prototype.push=function(t){var e=t.maskObject,r=this.renderer.gl,n=t._stencilCounter;0===n&&(this.renderer.framebuffer.forceStencil(),r.enable(r.STENCIL_TEST)),t._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,n,this._getBitwiseMask()),r.stencilOp(r.KEEP,r.KEEP,r.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent()},e.prototype.pop=function(t){var e=this.renderer.gl;0===this.getStackLength()?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.getStackLength(),this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},e}(on),un=function(t){function e(e){var r=t.call(this,e)||this;return r.destinationFrame=null,r.sourceFrame=null,r.defaultFrame=null,r.projectionMatrix=new Kt,r.transform=null,r}return Oe(e,t),e.prototype.update=function(t,e,r,n){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,n),this.transform&&this.projectionMatrix.append(this.transform);var i=this.renderer;i.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,i.globalUniforms.update(),i.shader.shader&&i.shader.syncUniformGroup(i.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,e,r,n){var i=this.projectionMatrix,o=n?-1:1;i.identity(),i.a=1/e.width*2,i.d=o*(1/e.height*2),i.tx=-1-e.x*i.a,i.ty=-o-e.y*i.d},e.prototype.setTransform=function(t){},e}(Ye),hn=new Xt,cn=new Xt,ln=new Xt,fn=function(t){function e(e){var r=t.call(this,e)||this;return r.clearColor=e._backgroundColorRgba,r.defaultMaskStack=[],r.current=null,r.sourceFrame=new Xt,r.destinationFrame=new Xt,r}return Oe(e,t),e.prototype.bind=function(t,e,r){void 0===t&&(t=null);var n,i,o,a=this.renderer;this.current=t,t?(o=(n=t.baseTexture).resolution,e||(hn.width=t.frame.width,hn.height=t.frame.height,e=hn),r||(cn.x=t.frame.x,cn.y=t.frame.y,cn.width=e.width,cn.height=e.height,r=cn),i=n.framebuffer):(o=a.resolution,e||(hn.width=a.screen.width,hn.height=a.screen.height,e=hn),r||((r=hn).width=e.width,r.height=e.height)),ln.x=r.x*o,ln.y=r.y*o,ln.width=r.width*o,ln.height=r.height*o,this.renderer.framebuffer.bind(i,ln),this.renderer.projection.update(r,e,o,!i),t?this.renderer.mask.setMaskStack(n.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(r)},e.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor,this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e)},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e}(Ye),dn=function(){},pn=function(){function t(t,e){this.program=t,this.uniformData=e,this.uniformGroups={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},t}(),vn=0,gn={textureCount:0},mn=function(t){function e(e){var r=t.call(this,e)||this;return r.destroyed=!1,r.systemCheck(),r.gl=null,r.shader=null,r.program=null,r.cache={},r.id=vn++,r}return Oe(e,t),e.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof Hr)return Hr;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");Hr=!0===t({a:"b"},"a","b")}catch(t){Hr=!1}return Hr}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t,this.reset()},e.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var r=t.program,n=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==r&&(this.program=r,this.gl.useProgram(n.program)),e||(gn.textureCount=0,this.syncUniformGroup(t.uniformGroup,gn)),n},e.prototype.setUniforms=function(t){var e=this.shader.program,r=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(r.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t,e){var r=this.getglProgram();t.static&&t.dirtyId===r.uniformGroups[t.id]||(r.uniformGroups[t.id]=t.dirtyId,this.syncUniforms(t,r,e))},e.prototype.syncUniforms=function(t,e,r){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,r)},e.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);return this.cache[e]||(this.cache[e]=function(t,e){var r=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var n in t.uniforms){var i=e[n];if(i){for(var o=t.uniforms[n],a=!1,s=0;s<Vr.length;s++)if(Vr[s].test(i,o)){r.push(Vr[s].code(n,o)),a=!0;break}if(!a){var u=(1===i.size?Xr:Gr)[i.type].replace("location",'ud["'+n+'"].location');r.push('\n            cv = ud["'+n+'"].value;\n            v = uv["'+n+'"];\n            '+u+";")}}else t.uniforms[n].group&&r.push('\n                    renderer.shader.syncUniformGroup(uv["'+n+'"], syncData);\n                ')}return new Function("ud","uv","renderer","syncData",r.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},e.prototype.getSignature=function(t,e){var r=t.uniforms,n=[];for(var i in r)n.push(i),e[i]&&n.push(e[i].type);return n.join("-")},e.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateShader=function(t){var e=this.gl,r=t.program,n={};for(var i in r.attributeData)n[i]=r.attributeData[i].location;var o=Pr(e,r.vertexSrc,r.fragmentSrc,n),a={};for(var i in r.uniformData){var s=r.uniformData[i];a[i]={location:e.getUniformLocation(o,i),value:Or(s.type,s.size)}}var u=new pn(o,a);return r.glPrograms[this.renderer.CONTEXT_UID]=u,u},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.destroyed=!0},e}(Ye);var yn=function(t){function e(e){var r=t.call(this,e)||this;return r.gl=null,r.stateId=0,r.polygonOffset=0,r.blendMode=R.NONE,r._blendEq=!1,r.map=[],r.map[0]=r.setBlend,r.map[1]=r.setOffset,r.map[2]=r.setCullFace,r.map[3]=r.setDepthTest,r.map[4]=r.setFrontFace,r.checks=[],r.defaultState=new Jr,r.defaultState.blend=!0,r}return Oe(e,t),e.prototype.contextChange=function(t){this.gl=t,this.blendModes=function(t,e){return void 0===e&&(e=[]),e[R.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[R.ADD]=[t.ONE,t.ONE],e[R.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[R.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[R.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[R.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[R.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[R.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[R.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[R.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[R.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[R.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[R.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[R.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[R.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[R.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[R.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[R.NONE]=[0,0],e[R.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[R.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[R.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[R.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[R.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[R.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[R.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[R.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[R.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[R.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[R.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[R.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.set(this.defaultState),this.reset()},e.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,r=0;e;)1&e&&this.map[r].call(this,!!(t.data&1<<r)),e>>=1,r++;this.stateId=t.data}for(r=0;r<this.checks.length;r++)this.checks[r](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],r=this.gl;2===e.length?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,e){var r=this.checks.indexOf(t);e&&-1===r?this.checks.push(t):e||-1===r||this.checks.splice(r,1)},e.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},e.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},e}(Ye),bn=function(t){function e(e){var r=t.call(this,e)||this;return r.count=0,r.checkCount=0,r.maxIdle=W.GC_MAX_IDLE,r.checkCountMax=W.GC_MAX_CHECK_COUNT,r.mode=W.GC_MODE,r}return Oe(e,t),e.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==X.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,r=!1,n=0;n<e.length;n++){var i=e[n];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){var o=0;for(n=0;n<e.length;n++)null!==e[n]&&(e[o++]=e[n]);e.length=o}},e.prototype.unload=function(t){var e,r=this.renderer.texture;(null===(e=t._texture)||void 0===e?void 0:e.framebuffer)&&r.destroyTexture(t._texture);for(var n=t.children.length-1;n>=0;n--)this.unload(t.children[n])},e}(Ye),xn=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},_n=function(t){function e(e){var r=t.call(this,e)||this;return r.boundTextures=[],r.currentLocation=-1,r.managedTextures=[],r._unknownBoundTextures=!1,r.unknownTexture=new Ne,r}return Oe(e,t),e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var r=0;r<e;r++)this.boundTextures[r]=null;this.emptyTextures={};var n=new xn(t.createTexture());t.bindTexture(t.TEXTURE_2D,n.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=n,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new xn(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(r=0;r<6;r++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(r=0;r<this.boundTextures.length;r++)this.bind(null,r)},e.prototype.bind=function(t,e){void 0===e&&(e=0);var r=this.gl;if(t){if((t=t.castToBaseTexture()).parentTextureArray)return;if(t.valid){t.touched=this.renderer.textureGC.count;var n=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(t.target,n.texture)),n.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}}else this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[e]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var e=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var n=0;n<r.length;n++)r[n]===this.unknownTexture&&this.bind(null,n)}for(n=0;n<r.length;n++)r[n]===t&&(this.currentLocation!==n&&(e.activeTexture(e.TEXTURE0+n),this.currentLocation=n),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[t.target].texture),r[n]=null)},e.prototype.initTexture=function(t){var e=new xn(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},e.prototype.initTextureType=function(t,e){if(e.internalFormat=t.format,e.type=t.type,2===this.webGLVersion){var r=this.renderer.gl;t.type===r.FLOAT&&t.format===r.RGBA&&(e.internalFormat=r.RGBA32F),t.type===F.HALF_FLOAT&&(e.type=r.HALF_FLOAT),e.type===r.HALF_FLOAT&&t.format===r.RGBA&&(e.internalFormat=r.RGBA16F)}},e.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var r=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(r,t,e));else{var n=t.realWidth,i=t.realHeight,o=r.gl;(e.width!==n||e.height!==i||e.dirtyId<0)&&(e.width=n,e.height=i,o.texImage2D(t.target,0,e.internalFormat,n,i,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},e.prototype.destroyTexture=function(t,e){var r=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var n=this.managedTextures.indexOf(t);-1!==n&&xt(this.managedTextures,n,1)}},e.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==B.POW2&&2===this.webGLVersion||t.isPowerOfTwo?e.mipmap=t.mipmap>=1:e.mipmap=!1,2===this.webGLVersion||t.isPowerOfTwo?e.wrapMode=t.wrapMode:e.wrapMode=U.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,e){var r=this.gl;if(e.mipmap&&r.generateMipmap(t.target),r.texParameteri(t.target,r.TEXTURE_WRAP_S,e.wrapMode),r.texParameteri(t.target,r.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===k.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);var n=this.renderer.context.extensions.anisotropicFiltering;if(n&&t.anisotropicLevel>0&&t.scaleMode===k.LINEAR){var i=Math.min(t.anisotropicLevel,r.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(t.target,n.TEXTURE_MAX_ANISOTROPY_EXT,i)}}else r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===k.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,t.scaleMode===k.LINEAR?r.LINEAR:r.NEAREST)},e}(Ye),wn={FilterSystem:vr,BatchSystem:mr,ContextSystem:br,FramebufferSystem:wr,GeometrySystem:Sr,MaskSystem:nn,ScissorSystem:an,StencilSystem:sn,ProjectionSystem:un,RenderTextureSystem:fn,ShaderSystem:mn,StateSystem:yn,TextureGCSystem:bn,TextureSystem:_n},Tn=new Kt,En=function(t){function e(e,r){void 0===e&&(e=O.UNKNOWN);var n=t.call(this)||this;return(r=Object.assign({},W.RENDER_OPTIONS,r)).roundPixels&&(W.ROUND_PIXELS=r.roundPixels,St("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),n.options=r,n.type=e,n.screen=new Xt(0,0,r.width,r.height),n.view=r.view||document.createElement("canvas"),n.resolution=r.resolution||W.RESOLUTION,n.transparent=r.transparent,n.autoDensity=r.autoDensity||r.autoResize||!1,n.preserveDrawingBuffer=r.preserveDrawingBuffer,n.clearBeforeRender=r.clearBeforeRender,n._backgroundColor=0,n._backgroundColorRgba=[0,0,0,0],n._backgroundColorString="#000000",n.backgroundColor=r.backgroundColor||n._backgroundColor,n._lastObjectRendered=null,n.plugins={},n}return Oe(e,t),e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px"),this.emit("resize",t,e)},e.prototype.generateTexture=function(t,e,r,n){0===(n=n||t.getLocalBounds(null,!0)).width&&(n.width=1),0===n.height&&(n.height=1);var i=Qe.create({width:0|n.width,height:0|n.height,scaleMode:e,resolution:r});return Tn.tx=-n.x,Tn.ty=-n.y,this.render(t,i,!1,Tn,!!t.parent),i},e.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);this.plugins=null,this.type=O.UNKNOWN,this.view=null,this.screen=null,this._tempDisplayObjectParent=null,this.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=ot(t),it(t,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),e}(q.a),Sn=function(t){function e(r){var n=t.call(this,O.WEBGL,r)||this;return r=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new Ie("destroy"),contextChange:new Ie("contextChange"),reset:new Ie("reset"),update:new Ie("update"),postrender:new Ie("postrender"),prerender:new Ie("prerender"),resize:new Ie("resize")},n.globalUniforms=new dr({projectionMatrix:new Kt},!0),n.addSystem(nn,"mask").addSystem(br,"context").addSystem(yn,"state").addSystem(mn,"shader").addSystem(_n,"texture").addSystem(Sr,"geometry").addSystem(wr,"framebuffer").addSystem(an,"scissor").addSystem(sn,"stencil").addSystem(un,"projection").addSystem(bn,"textureGC").addSystem(vr,"filter").addSystem(fn,"renderTexture").addSystem(mr,"batch"),n.initPlugins(e.__plugins),r.context?n.context.initFromContext(r.context):n.context.initFromOptions({alpha:!!n.transparent,antialias:r.antialias,premultipliedAlpha:n.transparent&&"notMultiplied"!==n.transparent,stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,rt(2===n.context.webGLVersion?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return Oe(e,t),e.create=function(t){if(nt())return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.addSystem=function(t,e){e||(e=t.name);var r=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var n in this[e]=r,this.runners)this.runners[n].add(r);return this},e.prototype.render=function(t,e,r,n,i){if(this.renderingToScreen=!e,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=n,!this.context.isLost){if(e||(this._lastObjectRendered=t),!i){var o=t.enableTempParent();t.updateTransform(),t.disableTempParent(o)}this.renderTexture.bind(e),this.batch.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),e&&e.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.runners.resize.emit(e,r)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(e){for(var r in this.runners.destroy.emit(),this.runners)this.runners[r].destroy();t.prototype.destroy.call(this,e),this.gl=null},e.registerPlugin=function(t,r){e.__plugins=e.__plugins||{},e.__plugins[t]=r},e}(En);function In(t){return Sn.create(t)}var An="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",Pn="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",Mn=function(){this.texArray=null,this.blend=0,this.type=D.TRIANGLES,this.start=0,this.size=0,this.data=null},On=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},t}(),Cn=function(){function t(t){this.rawBinaryData=new ArrayBuffer(t),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(t){return this[t+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},t}(),Rn=function(t){function e(e){var r=t.call(this,e)||this;return r.shaderGenerator=null,r.geometryClass=null,r.vertexSize=null,r.state=Jr.for2d(),r.size=4*W.SPRITE_BATCH_SIZE,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.MAX_TEXTURES=1,r.renderer.on("prerender",r.onPrerender,r),e.runners.contextChange.add(r),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return Oe(e,t),e.prototype.contextChange=function(){var t=this.renderer.gl;W.PREFER_ENV===M.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),W.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=zr(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var t=e._drawCallPool,r=e._textureArrayPool,n=this.size/4,i=Math.floor(n/this.MAX_TEXTURES)+1;t.length<n;)t.push(new Mn);for(;r.length<i;)r.push(new On);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},e.prototype.buildTexturesAndDrawCalls=function(){var t=this._bufferedTextures,r=this.MAX_TEXTURES,n=e._textureArrayPool,i=this.renderer.batch,o=this._tempBoundTextures,a=this.renderer.textureGC.count,s=++Ne._globalBatch,u=0,h=n[0],c=0;i.copyBoundTextures(o,r);for(var l=0;l<this._bufferSize;++l){var f=t[l];t[l]=null,f._batchEnabled!==s&&(h.count>=r&&(i.boundArray(h,o,s,r),this.buildDrawCalls(h,c,l),c=l,h=n[++u],++s),f._batchEnabled=s,f.touched=a,h.elements[h.count++]=f)}h.count>0&&(i.boundArray(h,o,s,r),this.buildDrawCalls(h,c,this._bufferSize),++u,++s);for(l=0;l<o.length;l++)o[l]=null;Ne._globalBatch=s},e.prototype.buildDrawCalls=function(t,r,n){var i=this._bufferedElements,o=this._attributeBuffer,a=this._indexBuffer,s=this.vertexSize,u=e._drawCallPool,h=this._dcIndex,c=this._aIndex,l=this._iIndex,f=u[h];f.start=this._iIndex,f.texArray=t;for(var d=r;d<n;++d){var p=i[d],v=p._texture.baseTexture,g=ut[v.alphaMode?1:0][p.blendMode];i[d]=null,r<d&&f.blend!==g&&(f.size=l-f.start,r=d,(f=u[++h]).texArray=t,f.start=l),this.packInterleavedGeometry(p,o,a,c,l),c+=p.vertexData.length/2*s,l+=p.indices.length,f.blend=g}r<n&&(f.size=l-f.start,++h),this._dcIndex=h,this._aIndex=c,this._iIndex=l},e.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0},e.prototype.updateGeometry=function(){var t=this._packedGeometries,e=this._attributeBuffer,r=this._indexBuffer;W.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var t=this._dcIndex,r=this.renderer,n=r.gl,i=r.state,o=e._drawCallPool,a=null,s=0;s<t;s++){var u=o[s],h=u.texArray,c=u.type,l=u.size,f=u.start,d=u.blend;a!==h&&(a=h,this.bindAndClearTexArray(h)),this.state.blendMode=d,i.set(this.state),n.drawElements(c,l,n.UNSIGNED_SHORT,2*f)}},e.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),W.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(t){var e=mt(Math.ceil(t/8)),r=bt(e),n=8*e;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var i=this._aBuffers[n];return i||(this._aBuffers[n]=i=new Cn(n*this.vertexSize*4)),i},e.prototype.getIndexBuffer=function(t){var e=mt(Math.ceil(t/12)),r=bt(e),n=12*e;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var i=this._iBuffers[r];return i||(this._iBuffers[r]=i=new Uint16Array(n)),i},e.prototype.packInterleavedGeometry=function(t,e,r,n,i){for(var o=e.uint32View,a=e.float32View,s=n/this.vertexSize,u=t.uvs,h=t.indices,c=t.vertexData,l=t._texture.baseTexture._batchLocation,f=Math.min(t.worldAlpha,1),d=f<1&&t._texture.baseTexture.alphaMode?lt(t._tintRGB,f):t._tintRGB+(255*f<<24),p=0;p<c.length;p+=2)a[n++]=c[p],a[n++]=c[p+1],a[n++]=u[p],a[n++]=u[p+1],o[n++]=d,a[n++]=l;for(p=0;p<h.length;p++)r[i++]=s+h[p]},e._drawCallPool=[],e._textureArrayPool=[],e}(gr),Dn=function(){function t(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),r=0;r<t;r++)e[r]=r;this.defaultGroupCache[t]=dr.from({uSamplers:e},!0);var n=this.fragTemplate;n=(n=n.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Zr(this.vertexSrc,n)}var i={tint:new Float32Array([1,1,1,1]),translationMatrix:new Kt,default:this.defaultGroupCache[t]};return new $r(this.programCache[t],i)},t.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(vTextureId < "+r+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"},t}(),Nn=function(t){function e(e){void 0===e&&(e=!1);var r=t.call(this)||this;return r._buffer=new nr(null,e,!1),r._indexBuffer=new nr(null,e,!0),r.addAttribute("aVertexPosition",r._buffer,2,!1,F.FLOAT).addAttribute("aTextureCoord",r._buffer,2,!1,F.FLOAT).addAttribute("aColor",r._buffer,4,!0,F.UNSIGNED_BYTE).addAttribute("aTextureId",r._buffer,1,!0,F.FLOAT).addIndex(r._indexBuffer),r}return Oe(e,t),e}(hr),Ln="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",Fn="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",kn=function(){function t(){}return t.create=function(t){var e=Object.assign({vertex:Ln,fragment:Fn,geometryClass:Nn,vertexSize:6},t),r=e.vertex,n=e.fragment,i=e.vertexSize,o=e.geometryClass;return function(t){function e(e){var a=t.call(this,e)||this;return a.shaderGenerator=new Dn(r,n),a.geometryClass=o,a.vertexSize=i,a}return Oe(e,t),e}(Rn)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return Ln},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return Fn},enumerable:!1,configurable:!0}),t}(),Un=kn.create(),Bn=function(){function t(e){var r=this;e=Object.assign({forceCanvas:!1},e),this.renderer=In(e),this.stage=new le,t._plugins.forEach((function(t){t.init.call(r,e)}))}return t.registerPlugin=function(e){t._plugins.push(e)},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,r){var n=this,i=t._plugins.slice(0);i.reverse(),i.forEach((function(t){t.destroy.call(n)})),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null},t}();Bn._plugins=[];var jn=function(){function t(){}return t.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){window.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){e._resizeTo&&(e.cancelResize(),e._resizeId=requestAnimationFrame((function(){return e.resize()})))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var t,r;if(e.cancelResize(),e._resizeTo===window)t=window.innerWidth,r=window.innerHeight;else{var n=e._resizeTo;t=n.clientWidth,r=n.clientHeight}e.renderer.resize(t,r)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},t.destroy=function(){this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t}();Bn.registerPlugin(jn);
/*!
 * @pixi/extract - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Vn=new Xt,Xn=function(){function t(t){this.renderer=t,t.extract=this}return t.prototype.image=function(t,e,r){var n=new Image;return n.src=this.base64(t,e,r),n},t.prototype.base64=function(t,e,r){return this.canvas(t).toDataURL(e,r)},t.prototype.canvas=function(e){var r,n,i,o=this.renderer,a=!1,s=!1;e&&(e instanceof Qe?i=e:(i=this.renderer.generateTexture(e),s=!0)),i?(r=i.baseTexture.resolution,n=i.frame,a=!1,o.renderTexture.bind(i)):(r=this.renderer.resolution,a=!0,(n=Vn).width=this.renderer.width,n.height=this.renderer.height,o.renderTexture.bind(null));var u=Math.floor(n.width*r+1e-4),h=Math.floor(n.height*r+1e-4),c=new Ct(u,h,1),l=new Uint8Array(4*u*h),f=o.gl;f.readPixels(n.x*r,n.y*r,u,h,f.RGBA,f.UNSIGNED_BYTE,l);var d=c.context.getImageData(0,0,u,h);if(t.arrayPostDivide(l,d.data),c.context.putImageData(d,0,0),a){var p=new Ct(c.width,c.height,1);p.context.scale(1,-1),p.context.drawImage(c.canvas,0,-h),c.destroy(),c=p}return s&&i.destroy(!0),c.canvas},t.prototype.pixels=function(e){var r,n,i,o=this.renderer,a=!1;e&&(e instanceof Qe?i=e:(i=this.renderer.generateTexture(e),a=!0)),i?(r=i.baseTexture.resolution,n=i.frame,o.renderTexture.bind(i)):(r=o.resolution,(n=Vn).width=o.width,n.height=o.height,o.renderTexture.bind(null));var s=n.width*r,u=n.height*r,h=new Uint8Array(4*s*u),c=o.gl;return c.readPixels(n.x*r,n.y*r,s,u,c.RGBA,c.UNSIGNED_BYTE,h),a&&i.destroy(!0),t.arrayPostDivide(h,h),h},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t.arrayPostDivide=function(t,e){for(var r=0;r<t.length;r+=4){var n=e[r+3]=t[r+3];0!==n?(e[r]=Math.round(Math.min(255*t[r]/n,255)),e[r+1]=Math.round(Math.min(255*t[r+1]/n,255)),e[r+2]=Math.round(Math.min(255*t[r+2]/n,255))):(e[r]=t[r],e[r+1]=t[r+1],e[r+2]=t[r+2])}},t}(),Gn=r(142),Hn=r.n(Gn),Yn=r(42),Wn=r.n(Yn);
/*!
 * resource-loader - v3.0.1
 * https://github.com/pixijs/pixi-sound
 * Compiled Tue, 02 Jul 2019 14:06:18 UTC
 *
 * resource-loader is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */
function zn(){}function qn(t,e,r,n){var i=0,o=t.length;!function a(s){s||i===o?r&&r(s):n?setTimeout((function(){e(t[i++],a)}),1):e(t[i++],a)}()}function Kn(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function Zn(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var r=0,n={_tasks:[],concurrency:e,saturated:zn,unsaturated:zn,buffer:e/4,empty:zn,drain:zn,error:zn,started:!1,paused:!1,push:function(t,e){i(t,!1,e)},kill:function(){r=0,n.drain=zn,n.started=!1,n._tasks=[]},unshift:function(t,e){i(t,!0,e)},process:function(){for(;!n.paused&&r<n.concurrency&&n._tasks.length;){var e=n._tasks.shift();0===n._tasks.length&&n.empty(),(r+=1)===n.concurrency&&n.saturated(),t(e.data,Kn(o(e)))}},length:function(){return n._tasks.length},running:function(){return r},idle:function(){return n._tasks.length+r===0},pause:function(){!0!==n.paused&&(n.paused=!0)},resume:function(){if(!1!==n.paused){n.paused=!1;for(var t=1;t<=n.concurrency;t++)n.process()}}};function i(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(n.started=!0,null==t&&n.idle())setTimeout((function(){return n.drain()}),1);else{var i={data:t,callback:"function"==typeof r?r:zn};e?n._tasks.unshift(i):n._tasks.push(i),setTimeout((function(){return n.process()}),1)}}function o(t){return function(){r-=1,t.callback.apply(t,arguments),null!=arguments[0]&&n.error(arguments[0],t.data),r<=n.concurrency-n.buffer&&n.unsaturated(),n.idle()&&n.drain(),n.process()}}return n}var $n={};function Jn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Qn(t,e,r){return e&&Jn(t.prototype,e),r&&Jn(t,r),t}var ti=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),ei=null;function ri(){}var ni=function(){function t(e,r,n){if("string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===n.crossOrigin?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=ri,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Wn.a,this.onProgress=new Wn.a,this.onComplete=new Wn.a,this.onAfterMiddleware=new Wn.a}t.setExtensionLoadType=function(e,r){ii(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){ii(t._xhrTypeMap,e,r)};var e=t.prototype;return e.complete=function(){this._clearEvents(),this._finish()},e.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.load=function(e){var r=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout((function(){return e(r)}),1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:ti&&this.crossOrigin?this._loadXdr():this._loadXhr()}},e._hasFlag=function(t){return 0!=(this._flags&t)},e._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},e._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{var n=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(n)?n[0]:n))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},e._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},e._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout((function(){return t.send()}),1)},e._createSource=function(t,e,r){r||(r=t+"/"+this._getExtension(e));var n=document.createElement("source");return n.src=e,n.type=r,n},e._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},e._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},e._onTimeout=function(){this.abort("Load timed out.")},e._xhrOnError=function(){var t=this.xhr;this.abort(oi(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},e._xhrOnTimeout=function(){var t=this.xhr;this.abort(oi(t)+" Request timed out.")},e._xhrOnAbort=function(){var t=this.xhr;this.abort(oi(t)+" Request was aborted by the user.")},e._xhrOnLoad=function(){var e=this.xhr,r="",n=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(r=e.responseText),0===n&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=200:1223===n&&(n=204),2===(n/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var i=new DOMParser;this.data=i.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||r;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},e._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,ei||(ei=document.createElement("a")),ei.href=t;var r=!(t=Hn()(ei.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,n=t.protocol?t.protocol+":":"";return t.host===e.hostname&&r&&n===e.protocol?"":"anonymous"},e._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},e._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},e._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var n=t.indexOf("?"),i=t.indexOf("#"),o=Math.min(n>-1?n:t.length,i>-1?i:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},e._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},Qn(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function ii(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function oi(t){return t.toString().replace("object ","")}ni.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},ni.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},ni.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},ni.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},ni._loadTypeMap={gif:ni.LOAD_TYPE.IMAGE,png:ni.LOAD_TYPE.IMAGE,bmp:ni.LOAD_TYPE.IMAGE,jpg:ni.LOAD_TYPE.IMAGE,jpeg:ni.LOAD_TYPE.IMAGE,tif:ni.LOAD_TYPE.IMAGE,tiff:ni.LOAD_TYPE.IMAGE,webp:ni.LOAD_TYPE.IMAGE,tga:ni.LOAD_TYPE.IMAGE,svg:ni.LOAD_TYPE.IMAGE,"svg+xml":ni.LOAD_TYPE.IMAGE,mp3:ni.LOAD_TYPE.AUDIO,ogg:ni.LOAD_TYPE.AUDIO,wav:ni.LOAD_TYPE.AUDIO,mp4:ni.LOAD_TYPE.VIDEO,webm:ni.LOAD_TYPE.VIDEO},ni._xhrTypeMap={xhtml:ni.XHR_RESPONSE_TYPE.DOCUMENT,html:ni.XHR_RESPONSE_TYPE.DOCUMENT,htm:ni.XHR_RESPONSE_TYPE.DOCUMENT,xml:ni.XHR_RESPONSE_TYPE.DOCUMENT,tmx:ni.XHR_RESPONSE_TYPE.DOCUMENT,svg:ni.XHR_RESPONSE_TYPE.DOCUMENT,tsx:ni.XHR_RESPONSE_TYPE.DOCUMENT,gif:ni.XHR_RESPONSE_TYPE.BLOB,png:ni.XHR_RESPONSE_TYPE.BLOB,bmp:ni.XHR_RESPONSE_TYPE.BLOB,jpg:ni.XHR_RESPONSE_TYPE.BLOB,jpeg:ni.XHR_RESPONSE_TYPE.BLOB,tif:ni.XHR_RESPONSE_TYPE.BLOB,tiff:ni.XHR_RESPONSE_TYPE.BLOB,webp:ni.XHR_RESPONSE_TYPE.BLOB,tga:ni.XHR_RESPONSE_TYPE.BLOB,json:ni.XHR_RESPONSE_TYPE.JSON,text:ni.XHR_RESPONSE_TYPE.TEXT,txt:ni.XHR_RESPONSE_TYPE.TEXT,ttf:ni.XHR_RESPONSE_TYPE.BUFFER,otf:ni.XHR_RESPONSE_TYPE.BUFFER},ni.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var ai=window.URL||window.webkitURL;var si={caching:function(t,e){var r=this;$n[t.url]?(t.data=$n[t.url],t.complete()):t.onComplete.once((function(){return $n[r.url]=r.data})),e()},parsing:function(t,e){if(t.data){if(t.xhr&&t.xhrType===ni.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=ai.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=r,t.type=ni.TYPE.IMAGE,void(t.data.onload=function(){ai.revokeObjectURL(r),t.data.onload=null,e()})}}else{var n=t.xhr.getResponseHeader("content-type");if(n&&0===n.indexOf("image"))return t.data=new Image,t.data.src="data:"+n+";base64,"+function(t){for(var e="",r=0;r<t.length;){for(var n=[0,0,0],i=[0,0,0,0],o=0;o<n.length;++o)r<t.length?n[o]=255&t.charCodeAt(r++):n[o]=0;switch(i[0]=n[0]>>2,i[1]=(3&n[0])<<4|n[1]>>4,i[2]=(15&n[1])<<2|n[2]>>6,i[3]=63&n[2],r-(t.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(var a=0;a<i.length;++a)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(i[a])}return e}(t.xhr.responseText),t.type=ni.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}},ui=/(#[\w-]+)?$/,hi=function(){function t(e,r){var n=this;void 0===e&&(e=""),void 0===r&&(r=10),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return n._loadResource(t,e)},this._queue=Zn(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new Wn.a,this.onError=new Wn.a,this.onLoad=new Wn.a,this.onStart=new Wn.a,this.onComplete=new Wn.a;for(var i=0;i<t._defaultBeforeMiddleware.length;++i)this.pre(t._defaultBeforeMiddleware[i]);for(var o=0;o<t._defaultAfterMiddleware.length;++o)this.use(t._defaultAfterMiddleware[o])}var e=t.prototype;return e.add=function(t,e,r,n){if(Array.isArray(t)){for(var i=0;i<t.length;++i)this.add(t[i]);return this}if("object"==typeof t&&(n=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(n=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(n=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new ni(t,e,r),"function"==typeof n&&this.resources[t].onAfterMiddleware.once(n),this.loading){for(var o=r.parentResource,a=[],s=0;s<o.children.length;++s)o.children[s].isComplete||a.push(o.children[s]);var u=o.progressChunk*(a.length+1)/(a.length+2);o.children.push(this.resources[t]),o.progressChunk=u;for(var h=0;h<a.length;++h)a[h].progressChunk=u;this.resources[t].progressChunk=u}return this._queue.push(this.resources[t]),this},e.pre=function(t){return this._beforeMiddleware.push(t),this},e.use=function(t){return this._afterMiddleware.push(t),this},e.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},e.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},e._prepareUrl=function(t){var e,r=Hn()(t,{strictMode:!0});if(e=r.protocol||!r.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var n=ui.exec(e)[0];-1!==(e=e.substr(0,e.length-n.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=n}return e},e._loadResource=function(t,e){var r=this;t._dequeue=e,qn(this._beforeMiddleware,(function(e,n){e.call(r,t,(function(){n(t.isComplete?{}:null)}))}),(function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())}),!0)},e._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),qn(this._afterMiddleware,(function(r,n){r.call(e,t,n)}),(function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()}),!0)},Qn(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();hi._defaultBeforeMiddleware=[],hi._defaultAfterMiddleware=[],hi.pre=function(t){return hi._defaultBeforeMiddleware.push(t),hi},hi.use=function(t){return hi._defaultAfterMiddleware.push(t),hi};
/*!
 * @pixi/loaders - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var ci=ni,li=function(t,e){return(li=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var fi=function(){function t(){}return t.use=function(t,e){t.data&&t.type===ni.TYPE.IMAGE&&(t.texture=$e.fromLoader(t.data,t.url,t.name)),e()},t}(),di=function(t){function e(r,n){for(var i=t.call(this,r,n)||this,o=0;o<e._plugins.length;++o){var a=e._plugins[o],s=a.pre,u=a.use;s&&i.pre(s),u&&i.use(u)}return i._protected=!1,i}return function(t,e){function r(){this.constructor=t}li(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(e,"shared",{get:function(){var t=e._shared;return t||((t=new e)._protected=!0,e._shared=t),t},enumerable:!1,configurable:!0}),e.registerPlugin=function(t){return e._plugins.push(t),t.add&&t.add(),e},e._plugins=[],e}(hi);di.registerPlugin({use:si.parsing}),di.registerPlugin(fi);var pi=function(){function t(){}return t.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?di.shared:new di},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t}(),vi=function(t,e){return(vi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};
/*!
 * @pixi/particles - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/particles is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function gi(t,e){function r(){this.constructor=t}vi(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var mi,yi,bi=function(t){function e(e,r,n,i){void 0===e&&(e=1500),void 0===n&&(n=16384),void 0===i&&(i=!1);var o=t.call(this)||this;return n>16384&&(n=16384),o._properties=[!1,!0,!1,!1,!1],o._maxSize=e,o._batchSize=n,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=R.NORMAL,o.autoResize=i,o.roundPixels=!0,o.baseTexture=null,o.setProperties(r),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}return gi(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,it(t,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return e.onChildrenChange(0)}))),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e}(le),xi=function(){function t(t,e,r){this.geometry=new hr,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var n=0;n<t.length;++n){var i=t[n];i={attributeName:i.attributeName,size:i.size,uploadFunction:i.uploadFunction,type:i.type||F.FLOAT,offset:i.offset},e[n]?this.dynamicProperties.push(i):this.staticProperties.push(i)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new nr(dt(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){(a=this.dynamicProperties[r]).offset=e,e+=a.size,this.dynamicStride+=a.size}var n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new nr(this.dynamicData,!1,!1);var i=0;this.staticStride=0;for(r=0;r<this.staticProperties.length;++r){(a=this.staticProperties[r]).offset=i,i+=a.size,this.staticStride+=a.size}var o=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new nr(this.staticData,!0,!1);for(r=0;r<this.dynamicProperties.length;++r){var a=this.dynamicProperties[r];t.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===F.UNSIGNED_BYTE,a.type,4*this.dynamicStride,4*a.offset)}for(r=0;r<this.staticProperties.length;++r){a=this.staticProperties[r];t.addAttribute(a.attributeName,this.staticBuffer,0,a.type===F.UNSIGNED_BYTE,a.type,4*this.staticStride,4*a.offset)}},t.prototype.uploadDynamic=function(t,e,r){for(var n=0;n<this.dynamicProperties.length;n++){var i=this.dynamicProperties[n];i.uploadFunction(t,e,r,i.type===F.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(t,e,r){for(var n=0;n<this.staticProperties.length;n++){var i=this.staticProperties[n];i.uploadFunction(t,e,r,i.type===F.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),_i=function(t){function e(e){var r=t.call(this,e)||this;return r.shader=null,r.properties=null,r.tempMatrix=new Kt,r.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:r.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:r.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:r.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:r.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:F.UNSIGNED_BYTE,uploadFunction:r.uploadTint,offset:0}],r.shader=$r.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),r.state=Jr.for2d(),r}return gi(e,t),e.prototype.render=function(t){var e=t.children,r=t._maxSize,n=t._batchSize,i=this.renderer,o=e.length;if(0!==o){o>r&&!t.autoResize&&(o=r);var a=t._buffers;a||(a=t._buffers=this.generateBuffers(t));var s=e[0]._texture.baseTexture;this.state.blendMode=ht(t.blendMode,s.alphaMode),i.state.set(this.state);var u=i.gl,h=t.worldTransform.copyTo(this.tempMatrix);h.prepend(i.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=ct(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,s.alphaMode),this.shader.uniforms.uSampler=s,this.renderer.shader.bind(this.shader);for(var c=!1,l=0,f=0;l<o;l+=n,f+=1){var d=o-l;d>n&&(d=n),f>=a.length&&a.push(this._generateOneMoreBuffer(t));var p=a[f];p.uploadDynamic(e,l,d);var v=t._bufferUpdateIDs[f]||0;(c=c||p._updateID<v)&&(p._updateID=t._updateID,p.uploadStatic(e,l,d)),i.geometry.bind(p.geometry),u.drawElements(u.TRIANGLES,6*d,u.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(t){for(var e=[],r=t._maxSize,n=t._batchSize,i=t._properties,o=0;o<r;o+=n)e.push(new xi(this.properties,i,n));return e},e.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,r=t._properties;return new xi(this.properties,r,e)},e.prototype.uploadVertices=function(t,e,r,n,i,o){for(var a=0,s=0,u=0,h=0,c=0;c<r;++c){var l=t[e+c],f=l._texture,d=l.scale.x,p=l.scale.y,v=f.trim,g=f.orig;v?(a=(s=v.x-l.anchor.x*g.width)+v.width,u=(h=v.y-l.anchor.y*g.height)+v.height):(a=g.width*(1-l.anchor.x),s=g.width*-l.anchor.x,u=g.height*(1-l.anchor.y),h=g.height*-l.anchor.y),n[o]=s*d,n[o+1]=h*p,n[o+i]=a*d,n[o+i+1]=h*p,n[o+2*i]=a*d,n[o+2*i+1]=u*p,n[o+3*i]=s*d,n[o+3*i+1]=u*p,o+=4*i}},e.prototype.uploadPosition=function(t,e,r,n,i,o){for(var a=0;a<r;a++){var s=t[e+a].position;n[o]=s.x,n[o+1]=s.y,n[o+i]=s.x,n[o+i+1]=s.y,n[o+2*i]=s.x,n[o+2*i+1]=s.y,n[o+3*i]=s.x,n[o+3*i+1]=s.y,o+=4*i}},e.prototype.uploadRotation=function(t,e,r,n,i,o){for(var a=0;a<r;a++){var s=t[e+a].rotation;n[o]=s,n[o+i]=s,n[o+2*i]=s,n[o+3*i]=s,o+=4*i}},e.prototype.uploadUvs=function(t,e,r,n,i,o){for(var a=0;a<r;++a){var s=t[e+a]._texture._uvs;s?(n[o]=s.x0,n[o+1]=s.y0,n[o+i]=s.x1,n[o+i+1]=s.y1,n[o+2*i]=s.x2,n[o+2*i+1]=s.y2,n[o+3*i]=s.x3,n[o+3*i+1]=s.y3,o+=4*i):(n[o]=0,n[o+1]=0,n[o+i]=0,n[o+i+1]=0,n[o+2*i]=0,n[o+2*i+1]=0,n[o+3*i]=0,n[o+3*i+1]=0,o+=4*i)}},e.prototype.uploadTint=function(t,e,r,n,i,o){for(var a=0;a<r;++a){var s=t[e+a],u=s._texture.baseTexture.alphaMode>0,h=s.alpha,c=h<1&&u?lt(s._tintRGB,h):s._tintRGB+(255*h<<24);n[o]=c,n[o+i]=c,n[o+2*i]=c,n[o+3*i]=c,o+=4*i}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(gr);!function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"}(mi||(mi={})),function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"}(yi||(yi={}));var wi={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||isNaN(t))return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},Ti=function(){function t(){this.color=16777215,this.alpha=1,this.texture=$e.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=$e.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}(),Ei=function(t,e){return(Ei=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Si(t,e){function r(){this.constructor=t}Ei(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Ii={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,n=t.holes,i=e.points,o=e.indices;if(r.length>=6){for(var a=[],s=0;s<n.length;s++){var u=n[s];a.push(r.length/2),r=r.concat(u.points)}var h=Z()(r,a,2);if(!h)return;var c=i.length/2;for(s=0;s<h.length;s+=3)o.push(h[s]+c),o.push(h[s+1]+c),o.push(h[s+2]+c);for(s=0;s<r.length;s++)i.push(r[s])}}},Ai={build:function(t){var e,r,n=t.shape,i=t.points,o=n.x,a=n.y;if(i.length=0,t.type===Ut.CIRC)e=n.radius,r=n.radius;else{var s=t.shape;e=s.width,r=s.height}if(0!==e&&0!==r){var u=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(e+r));u/=2.3;for(var h=2*Math.PI/u,c=0;c<u-.5;c++)i.push(o+Math.sin(-h*c)*e,a+Math.cos(-h*c)*r);i.push(i[0],i[1])}},triangulate:function(t,e){var r=t.points,n=e.points,i=e.indices,o=n.length/2,a=o,s=t.shape,u=t.matrix,h=s.x,c=s.y;n.push(t.matrix?u.a*h+u.c*c+u.tx:h,t.matrix?u.b*h+u.d*c+u.ty:c);for(var l=0;l<r.length;l+=2)n.push(r[l],r[l+1]),i.push(o++,a,o)}},Pi={build:function(t){var e=t.shape,r=e.x,n=e.y,i=e.width,o=e.height,a=t.points;a.length=0,a.push(r,n,r+i,n,r+i,n+o,r,n+o)},triangulate:function(t,e){var r=t.points,n=e.points,i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function Mi(t,e,r){return t+(e-t)*r}function Oi(t,e,r,n,i,o,a){void 0===a&&(a=[]);for(var s=a,u=0,h=0,c=0,l=0,f=0,d=0,p=0,v=0;p<=20;++p)u=Mi(t,r,v=p/20),h=Mi(e,n,v),c=Mi(r,i,v),l=Mi(n,o,v),f=Mi(u,c,v),d=Mi(h,l,v),s.push(f,d);return s}var Ci={build:function(t){var e=t.shape,r=t.points,n=e.x,i=e.y,o=e.width,a=e.height,s=Math.max(0,Math.min(e.radius,Math.min(o,a)/2));r.length=0,s?(Oi(n,i+s,n,i,n+s,i,r),Oi(n+o-s,i,n+o,i,n+o,i+s,r),Oi(n+o,i+a-s,n+o,i+a,n+o-s,i+a,r),Oi(n+s,i+a,n,i+a,n,i+a-s,r)):r.push(n,i,n+o,i,n+o,i+a,n,i+a)},triangulate:function(t,e){for(var r=t.points,n=e.points,i=e.indices,o=n.length/2,a=Z()(r,null,2),s=0,u=a.length;s<u;s+=3)i.push(a[s]+o),i.push(a[s+1]+o),i.push(a[s+2]+o);for(s=0,u=r.length;s<u;s++)n.push(r[s],r[++s])}};function Ri(t,e,r,n,i,o,a,s){var u,h;a?(u=n,h=-r):(u=-n,h=r);var c=t-r*i+u,l=e-n*i+h,f=t+r*o+u,d=e+n*o+h;return s.push(c,l),s.push(f,d),2}function Di(t,e,r,n,i,o,a,s){var u=r-t,h=n-e,c=Math.atan2(u,h),l=Math.atan2(i-t,o-e);s&&c<l?c+=2*Math.PI:!s&&c>l&&(l+=2*Math.PI);var f=c,d=l-c,p=Math.abs(d),v=Math.sqrt(u*u+h*h),g=1+(15*p*Math.sqrt(v)/Math.PI>>0),m=d/g;if(f+=m,s){a.push(t,e),a.push(r,n);for(var y=1,b=f;y<g;y++,b+=m)a.push(t,e),a.push(t+Math.sin(b)*v,e+Math.cos(b)*v);a.push(t,e),a.push(i,o)}else{a.push(r,n),a.push(t,e);for(y=1,b=f;y<g;y++,b+=m)a.push(t+Math.sin(b)*v,e+Math.cos(b)*v),a.push(t,e);a.push(i,o),a.push(t,e)}return 2*g}function Ni(t,e){t.lineStyle.native?function(t,e){var r=0,n=t.shape,i=t.points||n.points,o=n.type!==Ut.POLY||n.closeStroke;if(0!==i.length){var a=e.points,s=e.indices,u=i.length/2,h=a.length/2,c=h;for(a.push(i[0],i[1]),r=1;r<u;r++)a.push(i[2*r],i[2*r+1]),s.push(c,c+1),c++;o&&s.push(c,h)}}(t,e):function(t,e){var r=t.shape,n=t.points||r.points.slice(),i=e.closePointEps;if(0!==n.length){var o=t.lineStyle,a=new zt(n[0],n[1]),s=new zt(n[n.length-2],n[n.length-1]),u=r.type!==Ut.POLY||r.closeStroke,h=Math.abs(a.x-s.x)<i&&Math.abs(a.y-s.y)<i;if(u){n=n.slice(),h&&(n.pop(),n.pop(),s.set(n[n.length-2],n[n.length-1]));var c=.5*(a.x+s.x),l=.5*(s.y+a.y);n.unshift(c,l),n.push(c,l)}var f=e.points,d=n.length/2,p=n.length,v=f.length/2,g=o.width/2,m=g*g,y=o.miterLimit*o.miterLimit,b=n[0],x=n[1],_=n[2],w=n[3],T=0,E=0,S=-(x-w),I=b-_,A=0,P=0,M=Math.sqrt(S*S+I*I);S/=M,I/=M,S*=g,I*=g;var O=o.alignment,C=2*(1-O),R=2*O;u||(o.cap===yi.ROUND?p+=Di(b-S*(C-R)*.5,x-I*(C-R)*.5,b-S*C,x-I*C,b+S*R,x+I*R,f,!0)+2:o.cap===yi.SQUARE&&(p+=Ri(b,x,S,I,C,R,!0,f))),f.push(b-S*C,x-I*C),f.push(b+S*R,x+I*R);for(var D=1;D<d-1;++D){b=n[2*(D-1)],x=n[2*(D-1)+1],_=n[2*D],w=n[2*D+1],T=n[2*(D+1)],E=n[2*(D+1)+1],S=-(x-w),I=b-_,S/=M=Math.sqrt(S*S+I*I),I/=M,S*=g,I*=g,A=-(w-E),P=_-T,A/=M=Math.sqrt(A*A+P*P),P/=M,A*=g,P*=g;var N=_-b,L=x-w,F=_-T,k=E-w,U=L*F-k*N,B=U<0;if(Math.abs(U)<.1)f.push(_-S*C,w-I*C),f.push(_+S*R,w+I*R);else{var j=(-S+b)*(-I+w)-(-S+_)*(-I+x),V=(-A+T)*(-P+w)-(-A+_)*(-P+E),X=(N*V-F*j)/U,G=(k*j-L*V)/U,H=(X-_)*(X-_)+(G-w)*(G-w),Y=_+(X-_)*C,W=w+(G-w)*C,z=_-(X-_)*R,q=w-(G-w)*R;o.join===mi.BEVEL||H/m>y?(B?(f.push(Y,W),f.push(_+S*R,w+I*R),f.push(Y,W),f.push(_+A*R,w+P*R)):(f.push(_-S*C,w-I*C),f.push(z,q),f.push(_-A*C,w-P*C),f.push(z,q)),p+=2):o.join===mi.ROUND?B?(f.push(Y,W),f.push(_+S*R,w+I*R),p+=Di(_,w,_+S*R,w+I*R,_+A*R,w+P*R,f,!0)+4,f.push(Y,W),f.push(_+A*R,w+P*R)):(f.push(_-S*C,w-I*C),f.push(z,q),p+=Di(_,w,_-S*C,w-I*C,_-A*C,w-P*C,f,!1)+4,f.push(_-A*C,w-P*C),f.push(z,q)):(f.push(Y,W),f.push(z,q))}}b=n[2*(d-2)],x=n[2*(d-2)+1],_=n[2*(d-1)],S=-(x-(w=n[2*(d-1)+1])),I=b-_,S/=M=Math.sqrt(S*S+I*I),I/=M,S*=g,I*=g,f.push(_-S*C,w-I*C),f.push(_+S*R,w+I*R),u||(o.cap===yi.ROUND?p+=Di(_-S*(C-R)*.5,w-I*(C-R)*.5,_-S*C,w-I*C,_+S*R,w+I*R,f,!1)+2:o.cap===yi.SQUARE&&(p+=Ri(_,w,S,I,C,R,!1,f)));var K=e.indices,Z=wi.epsilon*wi.epsilon;for(D=v;D<p+v-2;++D)b=f[2*D],x=f[2*D+1],_=f[2*(D+1)],w=f[2*(D+1)+1],T=f[2*(D+2)],E=f[2*(D+2)+1],Math.abs(b*(w-E)+_*(E-x)+T*(x-w))<Z||K.push(D,D+1,D+2)}}(t,e)}var Li,Fi=function(t){function e(e,r,n,i,o,a){void 0===a&&(a=0);o=o||i/2;for(var s=-1*Math.PI/2+a,u=2*n,h=Bt/u,c=[],l=0;l<u;l++){var f=l%2?o:i,d=l*h+s;c.push(e+f*Math.cos(d),r+f*Math.sin(d))}return t.call(this,c)||this}return Si(e,t),e}(Yt),ki=function(){function t(){}return t.curveTo=function(t,e,r,n,i,o){var a=o[o.length-2],s=o[o.length-1]-e,u=a-t,h=n-e,c=r-t,l=Math.abs(s*c-u*h);if(l<1e-8||0===i)return o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e),null;var f=s*s+u*u,d=h*h+c*c,p=s*h+u*c,v=i*Math.sqrt(f)/l,g=i*Math.sqrt(d)/l,m=v*p/f,y=g*p/d,b=v*c+g*u,x=v*h+g*s,_=u*(g+m),w=s*(g+m),T=c*(v+y),E=h*(v+y);return{cx:b+t,cy:x+e,radius:i,startAngle:Math.atan2(w-x,_-b),endAngle:Math.atan2(E-x,T-b),anticlockwise:u*h>c*s}},t.arc=function(t,e,r,n,i,o,a,s,u){for(var h=a-o,c=wi._segmentsCount(Math.abs(h)*i,40*Math.ceil(Math.abs(h)/Bt)),l=h/(2*c),f=2*l,d=Math.cos(l),p=Math.sin(l),v=c-1,g=v%1/v,m=0;m<=v;++m){var y=l+o+f*(m+g*m),b=Math.cos(y),x=-Math.sin(y);u.push((d*b+p*x)*i+r,(d*-x+p*b)*i+n)}},t}(),Ui=function(){function t(){}return t.curveLength=function(t,e,r,n,i,o,a,s){for(var u=0,h=0,c=0,l=0,f=0,d=0,p=0,v=0,g=0,m=0,y=0,b=t,x=e,_=1;_<=10;++_)m=b-(v=(p=(d=(f=1-(h=_/10))*f)*f)*t+3*d*h*r+3*f*(c=h*h)*i+(l=c*h)*a),y=x-(g=p*e+3*d*h*n+3*f*c*o+l*s),b=v,x=g,u+=Math.sqrt(m*m+y*y);return u},t.curveTo=function(e,r,n,i,o,a,s){var u=s[s.length-2],h=s[s.length-1];s.length-=2;var c=wi._segmentsCount(t.curveLength(u,h,e,r,n,i,o,a)),l=0,f=0,d=0,p=0,v=0;s.push(u,h);for(var g=1,m=0;g<=c;++g)d=(f=(l=1-(m=g/c))*l)*l,v=(p=m*m)*m,s.push(d*u+3*f*m*e+3*l*p*n+v*o,d*h+3*f*m*r+3*l*p*i+v*a)},t}(),Bi=function(){function t(){}return t.curveLength=function(t,e,r,n,i,o){var a=t-2*r+i,s=e-2*n+o,u=2*r-2*t,h=2*n-2*e,c=4*(a*a+s*s),l=4*(a*u+s*h),f=u*u+h*h,d=2*Math.sqrt(c+l+f),p=Math.sqrt(c),v=2*c*p,g=2*Math.sqrt(f),m=l/p;return(v*d+p*l*(d-g)+(4*f*c-l*l)*Math.log((2*p+m+d)/(m+g)))/(4*v)},t.curveTo=function(e,r,n,i,o){for(var a=o[o.length-2],s=o[o.length-1],u=wi._segmentsCount(t.curveLength(a,s,e,r,n,i)),h=0,c=0,l=1;l<=u;++l){var f=l/u;h=a+(e-a)*f,c=s+(r-s)*f,o.push(h+(e+(n-e)*f-h)*f,c+(r+(i-r)*f-c)*f)}},t}(),ji=function(){function t(){this.reset()}return t.prototype.begin=function(t,e,r){this.reset(),this.style=t,this.start=e,this.attribStart=r},t.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),Vi=((Li={})[Ut.POLY]=Ii,Li[Ut.CIRC]=Ai,Li[Ut.ELIP]=Ai,Li[Ut.RECT]=Pi,Li[Ut.RREC]=Ci,Li),Xi=[],Gi=[],Hi={buildPoly:Ii,buildCircle:Ai,buildRectangle:Pi,buildRoundedRectangle:Ci,FILL_COMMANDS:Vi,BATCH_POOL:Xi,DRAW_CALL_POOL:Gi,buildLine:Ni,Star:Fi,ArcUtils:ki,BezierUtils:Ui,QuadraticUtils:Bi,BatchPart:ji},Yi=function(){function t(t,e,r,n){void 0===e&&(e=null),void 0===r&&(r=null),void 0===n&&(n=null),this.shape=t,this.lineStyle=r,this.fillStyle=e,this.matrix=n,this.type=t.type,this.points=[],this.holes=[]}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),Wi=new zt,zi=new oe,qi=function(t){function e(){var e=t.call(this)||this;return e.uvsFloat32=null,e.indicesUint16=null,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.dirty=0,e.batchDirty=-1,e.cacheDirty=-1,e.clearDirty=0,e.drawCalls=[],e.batches=[],e.shapeIndex=0,e._bounds=new oe,e.boundsDirty=-1,e.boundsPadding=0,e.batchable=!1,e.indicesUint16=null,e.uvsFloat32=null,e.closePointEps=1e-4,e}return Si(e,t),Object.defineProperty(e.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Gi.push(this.drawCalls[t]);this.drawCalls.length=0;for(t=0;t<this.batches.length;t++){var e=this.batches[t];e.reset(),Xi.push(e)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,e,r,n){void 0===e&&(e=null),void 0===r&&(r=null),void 0===n&&(n=null);var i=new Yi(t,e,r,n);return this.graphicsData.push(i),this.dirty++,this},e.prototype.drawHole=function(t,e){if(void 0===e&&(e=null),!this.graphicsData.length)return null;var r=new Yi(t,null,null,e),n=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=n.lineStyle,n.holes.push(r),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,r=0;r<e.length;++r){var n=e[r];if(n.fillStyle.visible&&(n.shape&&(n.matrix?n.matrix.applyInverse(t,Wi):Wi.copyFrom(t),n.shape.contains(Wi.x,Wi.y)))){var i=!1;if(n.holes)for(var o=0;o<n.holes.length;o++){if(n.holes[o].shape.contains(Wi.x,Wi.y)){i=!0;break}}if(!i)return!0}}return!1},e.prototype.updateBatches=function(t){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,r=this.graphicsData,n=null,i=null;this.batches.length>0&&(i=(n=this.batches[this.batches.length-1]).style);for(var o=this.shapeIndex;o<r.length;o++){this.shapeIndex++;var a=r[o],s=a.fillStyle,u=a.lineStyle;Vi[a.type].build(a),a.matrix&&this.transformPoints(a.points,a.matrix);for(var h=0;h<2;h++){var c=0===h?s:u;if(c.visible){var l=c.texture.baseTexture,f=this.indices.length,d=this.points.length/2;l.wrapMode=U.REPEAT,0===h?this.processFill(a):this.processLine(a);var p=this.points.length/2-d;0!==p&&(n&&!this._compareStyles(i,c)&&(n.end(f,d),n=null),n||((n=Xi.pop()||new ji).begin(c,f,d),this.batches.push(n),i=c),this.addUvs(this.points,e,c.texture,d,p,c.matrix))}}}var v=this.indices.length,g=this.points.length/2;if(n&&n.end(v,g),0!==this.batches.length){if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var m=g>65535&&t;this.indicesUint16=m?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},e.prototype._compareStyles=function(t,e){return!(!t||!e)&&(t.texture.baseTexture===e.texture.baseTexture&&(t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native))},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var r=this.graphicsData[t],n=r.fillStyle,i=r.lineStyle;if(n&&!n.texture.baseTexture.valid)return!1;if(i&&!i.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,r=t.length;e<r;e++)for(var n=t[e],i=0;i<n.size;i++){var o=n.start+i;this.indicesUint16[o]=this.indicesUint16[o]-n.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var t=this.batches,r=0;r<t.length;r++)if(t[r].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++Ne._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Gi.push(this.drawCalls[e]);this.drawCalls.length=0;var r=this.colors,n=this.textureIds,i=Gi.pop();i||((i=new Mn).texArray=new On),i.texArray.count=0,i.start=0,i.size=0,i.type=D.TRIANGLES;var o=0,a=null,s=0,u=!1,h=D.TRIANGLES,c=0;this.drawCalls.push(i);for(e=0;e<this.batches.length;e++){var l=this.batches[e],f=l.style,d=f.texture.baseTexture;u!==!!f.native&&(h=(u=!!f.native)?D.LINES:D.TRIANGLES,a=null,o=8,t++),a!==d&&(a=d,d._batchEnabled!==t&&(8===o&&(t++,o=0,i.size>0&&((i=Gi.pop())||((i=new Mn).texArray=new On),this.drawCalls.push(i)),i.start=c,i.size=0,i.texArray.count=0,i.type=h),d.touched=1,d._batchEnabled=t,d._batchLocation=o,d.wrapMode=10497,i.texArray.elements[i.texArray.count++]=d,o++)),i.size+=l.size,c+=l.size,s=d._batchLocation,this.addColors(r,f.color,f.alpha,l.attribSize),this.addTextureIds(n,s,l.attribSize)}Ne._globalBatch=t,this.packAttributes()},e.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,r=this.colors,n=this.textureIds,i=new ArrayBuffer(3*t.length*4),o=new Float32Array(i),a=new Uint32Array(i),s=0,u=0;u<t.length/2;u++)o[s++]=t[2*u],o[s++]=t[2*u+1],o[s++]=e[2*u],o[s++]=e[2*u+1],a[s++]=r[u],o[s++]=n[u];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(t){t.holes.length?(this.processHoles(t.holes),Ii.triangulate(t,this)):Vi[t.type].triangulate(t,this)},e.prototype.processLine=function(t){Ni(t,this);for(var e=0;e<t.holes.length;e++)Ni(t.holes[e],this)},e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var r=t[e];Vi[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},e.prototype.calculateBounds=function(){var t=this._bounds,e=zi,r=Kt.IDENTITY;this._bounds.clear(),e.clear();for(var n=0;n<this.graphicsData.length;n++){var i=this.graphicsData[n],o=i.shape,a=i.type,s=i.lineStyle,u=i.matrix||Kt.IDENTITY,h=0;if(s&&s.visible){var c=s.alignment;h=s.width,a===Ut.POLY?h*=.5+Math.abs(.5-c):h*=Math.max(0,c)}if(r!==u&&(e.isEmpty()||(t.addBoundsMatrix(e,r),e.clear()),r=u),a===Ut.RECT||a===Ut.RREC){var l=o;e.addFramePad(l.x,l.y,l.x+l.width,l.y+l.height,h,h)}else if(a===Ut.CIRC){var f=o;e.addFramePad(f.x,f.y,f.x,f.y,f.radius+h,f.radius+h)}else if(a===Ut.ELIP){var d=o;e.addFramePad(d.x,d.y,d.x,d.y,d.width+h,d.height+h)}else{var p=o;t.addVerticesMatrix(r,p.points,0,p.points.length,h,h)}}e.isEmpty()||t.addBoundsMatrix(e,r),t.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(t,e){for(var r=0;r<t.length/2;r++){var n=t[2*r],i=t[2*r+1];t[2*r]=e.a*n+e.c*i+e.tx,t[2*r+1]=e.b*n+e.d*i+e.ty}},e.prototype.addColors=function(t,e,r,n){for(var i=lt((e>>16)+(65280&e)+((255&e)<<16),r);n-- >0;)t.push(i)},e.prototype.addTextureIds=function(t,e,r){for(;r-- >0;)t.push(e)},e.prototype.addUvs=function(t,e,r,n,i,o){void 0===o&&(o=null);for(var a=0,s=e.length,u=r.frame;a<i;){var h=t[2*(n+a)],c=t[2*(n+a)+1];if(o){var l=o.a*h+o.c*c+o.tx;c=o.b*h+o.d*c+o.ty,h=l}a++,e.push(h/u.width,c/u.height)}var f=r.baseTexture;(u.width<f.width||u.height<f.height)&&this.adjustUvs(e,r,s,i)},e.prototype.adjustUvs=function(t,e,r,n){for(var i=e.baseTexture,o=1e-6,a=r+2*n,s=e.frame,u=s.width/i.width,h=s.height/i.height,c=s.x/s.width,l=s.y/s.height,f=Math.floor(t[r]+o),d=Math.floor(t[r+1]+o),p=r+2;p<a;p+=2)f=Math.min(f,Math.floor(t[p]+o)),d=Math.min(d,Math.floor(t[p+1]+o));c-=f,l-=d;for(p=r;p<a;p+=2)t[p]=(t[p]+c)*u,t[p+1]=(t[p+1]+l)*h},e.BATCHABLE_SIZE=100,e}(Nn),Ki=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=yi.BUTT,e.join=mi.MITER,e.miterLimit=10,e}return Si(e,t),e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(Ti),Zi=new Float32Array(3),$i={},Ji=function(t){function e(e){void 0===e&&(e=null);var r=t.call(this)||this;return r._geometry=e||new qi,r._geometry.refCount++,r.shader=null,r.state=Jr.for2d(),r._fillStyle=new Ti,r._lineStyle=new Ki,r._matrix=null,r._holeMode=!1,r.currentPath=null,r.batches=[],r.batchTint=-1,r.batchDirty=-1,r.vertexData=null,r.pluginName="batch",r._transformID=-1,r.tint=16777215,r.blendMode=R.NORMAL,r}return Si(e,t),Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(t){if(void 0===t&&(t=null),"number"==typeof t){var e=arguments;t={width:e[0]||0,color:e[1]||0,alpha:void 0!==e[2]?e[2]:1,alignment:void 0!==e[3]?e[3]:.5,native:!!e[4]}}return this.lineTextureStyle(t)},e.prototype.lineTextureStyle=function(t){if("number"==typeof t){St("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var e=arguments,r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6];t={width:r,texture:n,color:i,alpha:o,matrix:a,alignment:s,native:u},Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]}))}t=Object.assign({width:0,texture:$e.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:yi.BUTT,join:mi.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();var h=t.width>0&&t.alpha>0;return h?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:h},t)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Yt,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new Yt,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points,n=r[r.length-2],i=r[r.length-1];return n===t&&i===e||r.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,r,n){this._initCurve();var i=this.currentPath.points;return 0===i.length&&this.moveTo(0,0),Bi.curveTo(t,e,r,n,i),this},e.prototype.bezierCurveTo=function(t,e,r,n,i,o){return this._initCurve(),Ui.curveTo(t,e,r,n,i,o,this.currentPath.points),this},e.prototype.arcTo=function(t,e,r,n,i){this._initCurve(t,e);var o=this.currentPath.points,a=ki.curveTo(t,e,r,n,i,o);if(a){var s=a.cx,u=a.cy,h=a.radius,c=a.startAngle,l=a.endAngle,f=a.anticlockwise;this.arc(s,u,h,c,l,f)}return this},e.prototype.arc=function(t,e,r,n,i,o){if(void 0===o&&(o=!1),n===i)return this;if(!o&&i<=n?i+=Bt:o&&n<=i&&(n+=Bt),0===i-n)return this;var a=t+Math.cos(n)*r,s=e+Math.sin(n)*r,u=this._geometry.closePointEps,h=this.currentPath?this.currentPath.points:null;if(h){var c=Math.abs(h[h.length-2]-a),l=Math.abs(h[h.length-1]-s);c<u&&l<u||h.push(a,s)}else this.moveTo(a,s),h=this.currentPath.points;return ki.arc(a,s,t,e,r,n,i,o,h),this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill({texture:$e.WHITE,color:t,alpha:e})},e.prototype.beginTextureFill=function(t){if(t instanceof $e){St("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var e=arguments,r=e[0],n=e[1],i=e[2],o=e[3];t={texture:r,color:n,alpha:i,matrix:o},Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]}))}t=Object.assign({texture:$e.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var a=t.alpha>0;return a?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:a},t)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,e,r,n){return this.drawShape(new Xt(t,e,r,n))},e.prototype.drawRoundedRect=function(t,e,r,n,i){return this.drawShape(new Wt(t,e,r,n,i))},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new Gt(t,e,r))},e.prototype.drawEllipse=function(t,e,r,n){return this.drawShape(new Ht(t,e,r,n))},e.prototype.drawPolygon=function(){for(var t,e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=!0,o=r[0];o.points?(i=o.closeStroke,t=o.points):t=Array.isArray(r[0])?r[0]:r;var a=new Yt(t);return a.closeStroke=i,this.drawShape(a),this},e.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.drawStar=function(t,e,r,n,i,o){return void 0===o&&(o=0),this.drawPolygon(new Fi(t,e,r,n,i,o))},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return 1===t.length&&t[0].shape.type===Ut.RECT&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)},e.prototype._render=function(t){this.finishPoly();var e=this._geometry,r=t.context.supports.uint32Indices;e.updateBatches(r),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},e.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(var n=0;n<r;n++){var i=t.batches[n],o=i.style.color,a=new Float32Array(this.vertexData.buffer,4*i.attribStart*2,2*i.attribSize),s=new Float32Array(t.uvsFloat32.buffer,4*i.attribStart*2,2*i.attribSize),u={vertexData:a,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*i.start,i.size),uvs:s,_batchRGB:it(o),_tintRGB:o,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[n]=u}},e.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,r=this.batches.length;e<r;e++){var n=this.batches[e];n.worldAlpha=this.worldAlpha*n.alpha,t.plugins[this.pluginName].render(n)}}},e.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),r=this._geometry,n=this.tint,i=this.worldAlpha,o=e.uniforms,a=r.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(n>>16&255)/255*i,o.tint[1]=(n>>8&255)/255*i,o.tint[2]=(255&n)/255*i,o.tint[3]=i,t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(var s=0,u=a.length;s<u;s++)this._renderDrawCallDirect(t,r.drawCalls[s])},e.prototype._renderDrawCallDirect=function(t,e){for(var r=e.texArray,n=e.type,i=e.size,o=e.start,a=r.count,s=0;s<a;s++)t.texture.bind(r.elements[s],s);t.geometry.draw(n,i,o)},e.prototype._resolveDirectShader=function(t){var e=this.shader,r=this.pluginName;if(!e){if(!$i[r]){for(var n=new Int32Array(16),i=0;i<16;i++)n[i]=i;var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Kt,default:dr.from({uSamplers:n},!0)},a=t.plugins[r]._shader.program;$i[r]=new $r(a,o)}e=$i[r]}return e},e.prototype._calculateBounds=function(){this.finishPoly();var t=this._geometry;if(t.graphicsData.length){var e=t.bounds,r=e.minX,n=e.minY,i=e.maxX,o=e.maxY;this._bounds.addFrame(this.transform,r,n,i,o)}},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=it(this.tint,Zi),e=0;e<this.batches.length;e++){var r=this.batches[e],n=r._batchRGB,i=(t[0]*n[0]*255<<16)+(t[1]*n[1]*255<<8)+(0|t[2]*n[2]*255);r._tintRGB=(i>>16)+(65280&i)+((255&i)<<16)}}},e.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,o=e.d,a=e.tx,s=e.ty,u=this._geometry.points,h=this.vertexData,c=0,l=0;l<u.length;l+=2){var f=u[l],d=u[l+1];h[c++]=r*f+i*d+a,h[c++]=o*d+n*f+s}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},e._TEMP_POINT=new zt,e}(le),Qi=function(t,e){return(Qi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var to,eo=new zt,ro=new Uint16Array([0,1,2,0,2,3]),no=function(t){function e(e){var r=t.call(this)||this;return r._anchor=new qt(r._onAnchorUpdate,r,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r.blendMode=R.NORMAL,r._cachedTint=16777215,r.uvs=null,r.texture=e||$e.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.indices=ro,r.pluginName="batch",r.isSprite=!0,r._roundPixels=W.ROUND_PIXELS,r}return function(t,e){function r(){this.constructor=t}Qi(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=_t(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=_t(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,o=e.d,a=e.tx,s=e.ty,u=this.vertexData,h=t.trim,c=t.orig,l=this._anchor,f=0,d=0,p=0,v=0;if(h?(f=(d=h.x-l._x*c.width)+h.width,p=(v=h.y-l._y*c.height)+h.height):(f=(d=-l._x*c.width)+c.width,p=(v=-l._y*c.height)+c.height),u[0]=r*d+i*v+a,u[1]=o*v+n*d+s,u[2]=r*f+i*v+a,u[3]=o*v+n*f+s,u[4]=r*f+i*p+a,u[5]=o*p+n*f+s,u[6]=r*d+i*p+a,u[7]=o*p+n*d+s,this._roundPixels)for(var g=W.RESOLUTION,m=0;m<u.length;++m)u[m]=Math.round((u[m]*g|0)/g)}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,n=this._anchor,i=this.transform.worldTransform,o=i.a,a=i.b,s=i.c,u=i.d,h=i.tx,c=i.ty,l=-n._x*r.width,f=l+r.width,d=-n._y*r.height,p=d+r.height;e[0]=o*l+s*d+h,e[1]=u*d+a*l+c,e[2]=o*f+s*d+h,e[3]=u*d+a*f+c,e[4]=o*f+s*p+h,e[5]=u*p+a*f+c,e[6]=o*l+s*p+h,e[7]=u*p+a*l+c},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Xt),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,eo);var e=this._texture.orig.width,r=this._texture.orig.height,n=-e*this.anchor.x,i=0;return eo.x>=n&&eo.x<n+e&&(i=-r*this.anchor.y,eo.y>=i&&eo.y<i+r)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var r="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!r)}this._texture=null},e.from=function(t,r){return new e(t instanceof $e?t:$e.from(t,r))},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=_t(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=_t(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||$e.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(le),io=function(t,e){return(io=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};!function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(to||(to={}));var oo={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:to.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},ao=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],so=function(){function t(t){this.styleID=0,this.reset(),co(this,t,t)}return t.prototype.clone=function(){var e={};return co(e,this,oo),new t(e)},t.prototype.reset=function(){co(this,oo,oo)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=ho(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=ho(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=ho(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var n=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&ao.indexOf(n)<0&&(n='"'+n+'"'),e[r]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},t}();function uo(t){return"number"==typeof t?ot(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function ho(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=uo(t[e]);return t}return uo(t)}function co(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}var lo=function(){function t(t,e,r,n,i,o,a,s,u){this.text=t,this.style=e,this.width=r,this.height=n,this.lines=i,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=s,this.fontProperties=u}return t.measureText=function(e,r,n,i){void 0===i&&(i=t._canvas),n=null==n?r.wordWrap:n;var o=r.toFontString(),a=t.measureFont(o);0===a.fontSize&&(a.fontSize=r.fontSize,a.ascent=r.fontSize);var s=i.getContext("2d");s.font=o;for(var u=(n?t.wordWrap(e,r,i):e).split(/(?:\r\n|\r|\n)/),h=new Array(u.length),c=0,l=0;l<u.length;l++){var f=s.measureText(u[l]).width+(u[l].length-1)*r.letterSpacing;h[l]=f,c=Math.max(c,f)}var d=c+r.strokeThickness;r.dropShadow&&(d+=r.dropShadowDistance);var p=r.lineHeight||a.fontSize+r.strokeThickness,v=Math.max(p,a.fontSize+r.strokeThickness)+(u.length-1)*(p+r.leading);return r.dropShadow&&(v+=r.dropShadowDistance),new t(e,r,d,v,u,h,p+r.leading,c,a)},t.wordWrap=function(e,r,n){void 0===n&&(n=t._canvas);for(var i=n.getContext("2d"),o=0,a="",s="",u={},h=r.letterSpacing,c=r.whiteSpace,l=t.collapseSpaces(c),f=t.collapseNewlines(c),d=!l,p=r.wordWrapWidth+h,v=t.tokenize(e),g=0;g<v.length;g++){var m=v[g];if(t.isNewline(m)){if(!f){s+=t.addLine(a),d=!l,a="",o=0;continue}m=" "}if(l){var y=t.isBreakingSpace(m),b=t.isBreakingSpace(a[a.length-1]);if(y&&b)continue}var x=t.getFromCache(m,h,u,i);if(x>p)if(""!==a&&(s+=t.addLine(a),a="",o=0),t.canBreakWords(m,r.breakWords))for(var _=t.wordWrapSplit(m),w=0;w<_.length;w++){for(var T=_[w],E=1;_[w+E];){var S=_[w+E],I=T[T.length-1];if(t.canBreakChars(I,S,m,w,r.breakWords))break;T+=S,E++}w+=T.length-1;var A=t.getFromCache(T,h,u,i);A+o>p&&(s+=t.addLine(a),d=!1,a="",o=0),a+=T,o+=A}else{a.length>0&&(s+=t.addLine(a),a="",o=0);var P=g===v.length-1;s+=t.addLine(m,!P),d=!1,a="",o=0}else x+o>p&&(d=!1,s+=t.addLine(a),a="",o=0),(a.length>0||!t.isBreakingSpace(m)||d)&&(a+=m,o+=x)}return s+=t.addLine(a,!1)},t.addLine=function(e,r){return void 0===r&&(r=!0),e=t.trimRight(e),e=r?e+"\n":e},t.getFromCache=function(t,e,r,n){var i=r[t];if(void 0===i){var o=t.length*e;i=n.measureText(t).width+o,r[t]=i}return i},t.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},t.collapseNewlines=function(t){return"normal"===t},t.trimRight=function(e){if("string"!=typeof e)return"";for(var r=e.length-1;r>=0;r--){var n=e[r];if(!t.isBreakingSpace(n))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return"string"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e){return"string"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var r=[],n="";if("string"!=typeof e)return r;for(var i=0;i<e.length;i++){var o=e[i];t.isBreakingSpace(o)||t.isNewline(o)?(""!==n&&(r.push(n),n=""),r.push(o)):n+=o}return""!==n&&r.push(n),r},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,r,n,i){return!0},t.wordWrapSplit=function(t){return t.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={ascent:0,descent:0,fontSize:0},n=t._canvas,i=t._context;i.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,a=Math.ceil(i.measureText(o).width),s=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),u=2*s;s=s*t.BASELINE_MULTIPLIER|0,n.width=a,n.height=u,i.fillStyle="#f00",i.fillRect(0,0,a,u),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,s);var h=i.getImageData(0,0,a,u).data,c=h.length,l=4*a,f=0,d=0,p=!1;for(f=0;f<s;++f){for(var v=0;v<l;v+=4)if(255!==h[d+v]){p=!0;break}if(p)break;d+=l}for(r.ascent=s-f,d=c-l,p=!1,f=u;f>s;--f){for(v=0;v<l;v+=4)if(255!==h[d+v]){p=!0;break}if(p)break;d-=l}return r.descent=f-s,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t.clearMetrics=function(e){void 0===e&&(e=""),e?delete t._fonts[e]:t._fonts={}},t}(),fo=function(){try{var t=new OffscreenCanvas(0,0),e=t.getContext("2d");return e&&e.measureText?t:document.createElement("canvas")}catch(t){return document.createElement("canvas")}}();fo.width=fo.height=10,lo._canvas=fo,lo._context=fo.getContext("2d"),lo._fonts={},lo.METRICS_STRING="|ÉqÅ",lo.BASELINE_SYMBOL="M",lo.BASELINE_MULTIPLIER=1.4,lo._newlines=[10,13],lo._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var po={texture:!0,children:!1,baseTexture:!0},vo=function(t){function e(e,r,n){var i=this,o=!1;n||(n=document.createElement("canvas"),o=!0),n.width=3,n.height=3;var a=$e.from(n);return a.orig=new Xt,a.trim=new Xt,(i=t.call(this,a)||this)._ownCanvas=o,i.canvas=n,i.context=i.canvas.getContext("2d"),i._resolution=W.RESOLUTION,i._autoResolution=!0,i._text=null,i._style=null,i._styleListener=null,i._font="",i.text=e,i.style=r,i.localStyleID=-1,i}return function(t,e){function r(){this.constructor=t}io(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var r,n,i=this.context,o=lo.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=o.width,s=o.height,u=o.lines,h=o.lineHeight,c=o.lineWidths,l=o.maxLineWidth,f=o.fontProperties;this.canvas.width=Math.ceil((Math.max(1,a)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,s)+2*e.padding)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=e.strokeThickness,i.textBaseline=e.textBaseline,i.lineJoin=e.lineJoin,i.miterLimit=e.miterLimit;for(var d=e.dropShadow?2:1,p=0;p<d;++p){var v=e.dropShadow&&0===p,g=v?2*s:0,m=g*this.resolution;if(v){i.fillStyle="black",i.strokeStyle="black";var y=e.dropShadowColor,b=it("number"==typeof y?y:at(y));i.shadowColor="rgba("+255*b[0]+","+255*b[1]+","+255*b[2]+","+e.dropShadowAlpha+")",i.shadowBlur=e.dropShadowBlur,i.shadowOffsetX=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,i.shadowOffsetY=Math.sin(e.dropShadowAngle)*e.dropShadowDistance+m}else i.fillStyle=this._generateFillStyle(e,u,o),i.strokeStyle=e.stroke,i.shadowColor="0",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;for(var x=0;x<u.length;x++)r=e.strokeThickness/2,n=e.strokeThickness/2+x*h+f.ascent,"right"===e.align?r+=l-c[x]:"center"===e.align&&(r+=(l-c[x])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(u[x],r+e.padding,n+e.padding-g,!0),e.fill&&this.drawLetterSpacing(u[x],r+e.padding,n+e.padding-g)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,r,n){void 0===n&&(n=!1);var i=this._style.letterSpacing;if(0!==i)for(var o=e,a=Array.from?Array.from(t):t.split(""),s=this.context.measureText(t).width,u=0,h=0;h<a.length;++h){var c=a[h];n?this.context.strokeText(c,o,r):this.context.fillText(c,o,r),o+=s-(u=this.context.measureText(t.substring(h+1)).width)+i,s=u}else n?this.context.strokeText(t,e,r):this.context.fillText(t,e,r)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=Rt(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var r=this._texture,n=this._style,i=n.trim?0:n.padding,o=r.baseTexture;r.trim.width=r._frame.width=Math.ceil(t.width/this._resolution),r.trim.height=r._frame.height=Math.ceil(t.height/this._resolution),r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-2*i,r.orig.height=r._frame.height-2*i,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},e.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(t,e,r){var n,i=t.fill;if(!Array.isArray(i))return i;if(1===i.length)return i[0];var o=t.dropShadow?t.dropShadowDistance:0,a=t.padding||0,s=Math.ceil(this.canvas.width/this._resolution)-o-2*a,u=Math.ceil(this.canvas.height/this._resolution)-o-2*a,h=i.slice(),c=t.fillGradientStops.slice();if(!c.length)for(var l=h.length+1,f=1;f<l;++f)c.push(f/l);if(h.unshift(i[0]),c.unshift(0),h.push(i[i.length-1]),c.push(1),t.fillGradientType===to.LINEAR_VERTICAL){n=this.context.createLinearGradient(s/2,a,s/2,u+a);var d=0,p=(r.fontProperties.fontSize+t.strokeThickness)/u;for(f=0;f<e.length;f++)for(var v=r.lineHeight*f,g=0;g<h.length;g++){var m=v/u+("number"==typeof c[g]?c[g]:g/h.length)*p,y=Math.max(d,m);y=Math.min(y,1),n.addColorStop(y,h[g]),d=y}}else{n=this.context.createLinearGradient(a,u/2,s+a,u/2);var b=h.length+1,x=1;for(f=0;f<h.length;f++){var _=void 0;_="number"==typeof c[f]?c[f]:x/b,n.addColorStop(_,h[f]),x++}}return n},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},po,e),t.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=_t(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=_t(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(t){t=t||{},this._style=t instanceof so?t:new so(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),e}(no);
/*!
 * @pixi/prepare - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
W.UPLOADS_PER_FRAME=4;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var go=function(t,e){return(go=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var mo=function(){function t(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function yo(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof $e){var i=t._textures[n].baseTexture;-1===e.indexOf(i)&&(e.push(i),r=!0)}return r}function bo(t,e){if(t.baseTexture instanceof Ne){var r=t.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function xo(t,e){if(t._texture&&t._texture instanceof $e){var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function _o(t,e){return e instanceof vo&&(e.updateText(!0),!0)}function wo(t,e){if(e instanceof so){var r=e.toFontString();return lo.measureFont(r),!0}return!1}function To(t,e){if(t instanceof vo){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function Eo(t,e){return t instanceof so&&(-1===e.indexOf(t)&&e.push(t),!0)}var So=function(){function t(t){var e=this;this.limiter=new mo(W.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(To),this.registerFindHook(Eo),this.registerFindHook(yo),this.registerFindHook(bo),this.registerFindHook(xo),this.registerUploadHook(_o),this.registerUploadHook(wo)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,ge.system.addOnce(this.tick,this,de.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)ge.system.addOnce(this.tick,this,de.UTILITY);else{this.ticking=!1;var i=this.completes.slice(0);this.completes.length=0;for(r=0,n=i.length;r<n;r++)i[r]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof le)for(e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this},t.prototype.destroy=function(){this.ticking&&ge.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function Io(t,e){return e instanceof Ne&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function Ao(t,e){if(!(e instanceof Ji))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var n=r.batches,i=0;i<n.length;i++){var o=n[i].style.texture;o&&Io(t,o.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function Po(t,e){return t instanceof Ji&&(e.push(t),!0)}var Mo=function(t){function e(e){var r=t.call(this,e)||this;return r.uploadHookHelper=r.renderer,r.registerFindHook(Po),r.registerUploadHook(Io),r.registerUploadHook(Ao),r}return function(t,e){function r(){this.constructor=t}go(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e}(So),Oo=function(){function t(t){this.maxMilliseconds=t,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}(),Co=function(){function t(t,e,r){void 0===r&&(r=null),this._texture=t instanceof $e?t:null,this.baseTexture=t instanceof Ne?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var n=this.baseTexture.resource;this.resolution=this._updateResolution(r||(n?n.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(t){void 0===t&&(t=null);var e=this.data.meta.scale,r=kt(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&this.baseTexture.setResolution(r),r},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,n=t.BATCH_SIZE;r-e<n&&r<this._frameKeys.length;){var i=this._frameKeys[r],o=this._frames[i],a=o.frame;if(a){var s=null,u=null,h=!1!==o.trimmed&&o.sourceSize?o.sourceSize:o.frame,c=new Xt(0,0,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution);s=o.rotated?new Xt(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution):new Xt(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution),!1!==o.trimmed&&o.spriteSourceSize&&(u=new Xt(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)),this.textures[i]=new $e(this.baseTexture,s,c,u,o.rotated?2:0,o.anchor),$e.addToCache(this.textures[i],i)}r++}},t.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var r=0;r<t[e].length;r++){var n=t[e][r];this.animations[e].push(this.textures[n])}}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout((function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())}),0)},t.prototype.destroy=function(t){var e;for(var r in void 0===t&&(t=!1),this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},t.BATCH_SIZE=1e3,t}(),Ro=function(){function t(){}return t.use=function(e,r){var n=e.name+"_image";if(e.data&&e.type===ci.TYPE.JSON&&e.data.frames&&!this.resources[n]){var i={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},o=t.getResourcePath(e,this.baseUrl);this.add(n,o,i,(function(t){if(t.error)r(t.error);else{var n=new Co(t.texture,e.data,e.url);n.parse((function(){e.spritesheet=n,e.textures=n.textures,r()}))}}))}else r()},t.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:J.a.resolve(t.url.replace(e,""),t.data.meta.image)},t}(),Do=function(t,e){return(Do=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function No(t,e){function r(){this.constructor=t}Do(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Lo=new zt,Fo=function(t){function e(e,r,n){void 0===r&&(r=100),void 0===n&&(n=100);var i=t.call(this,e)||this;return i.tileTransform=new ie,i._width=r,i._height=n,i.uvMatrix=e.uvMatrix||new en(e),i.pluginName="tilingSprite",i.uvRespectAnchor=!1,i}return No(e,t),Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,n)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Xt),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,Lo);var e=this._width,r=this._height,n=-e*this.anchor._x;if(Lo.x>=n&&Lo.x<n+e){var i=-r*this.anchor._y;if(Lo.y>=i&&Lo.y<i+r)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},e.from=function(t,r){return"number"==typeof r&&(St("5.3.0","TilingSprite.from use options instead of width and height args"),r={width:r,height:arguments[2]}),new e($e.from(t,r),r.width,r.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0}),e}(no),ko="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",Uo=new Kt,Bo=function(t){function e(e){var r=t.call(this,e)||this,n={globals:r.renderer.globalUniforms};return r.shader=$r.from(ko,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord - floor(vTextureCoord - uClampOffset);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",n),r.simpleShader=$r.from(ko,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",n),r.quad=new lr,r.state=Jr.for2d(),r}return No(e,t),e.prototype.render=function(t){var e=this.renderer,r=this.quad,n=r.vertices;n[0]=n[6]=t._width*-t.anchor.x,n[1]=n[3]=t._height*-t.anchor.y,n[2]=n[4]=t._width*(1-t.anchor.x),n[5]=n[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((n=r.uvs)[0]=n[6]=-t.anchor.x,n[1]=n[3]=-t.anchor.y,n[2]=n[4]=1-t.anchor.x,n[5]=n[7]=1-t.anchor.y),r.invalidate();var i=t._texture,o=i.baseTexture,a=t.tileTransform.localTransform,s=t.uvMatrix,u=o.isPowerOfTwo&&i.frame.width===o.width&&i.frame.height===o.height;u&&(o._glTextures[e.CONTEXT_UID]?u=o.wrapMode!==U.CLAMP:o.wrapMode===U.CLAMP&&(o.wrapMode=U.REPEAT));var h=u?this.simpleShader:this.shader,c=i.width,l=i.height,f=t._width,d=t._height;Uo.set(a.a*c/f,a.b*c/d,a.c*l/f,a.d*l/d,a.tx/f,a.ty/d),Uo.invert(),u?Uo.prepend(s.mapCoord):(h.uniforms.uMapCoord=s.mapCoord.toArray(!0),h.uniforms.uClampFrame=s.uClampFrame,h.uniforms.uClampOffset=s.uClampOffset),h.uniforms.uTransform=Uo.toArray(!0),h.uniforms.uColor=ft(t.tint,t.worldAlpha,h.uniforms.uColor,o.alphaMode),h.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),h.uniforms.uSampler=i,e.shader.bind(h),e.geometry.bind(r),this.state.blendMode=ht(t.blendMode,o.alphaMode),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(gr),jo=function(t,e){return(jo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Vo(t,e){function r(){this.constructor=t}jo(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Xo=function(){function t(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},t}(),Go=new zt,Ho=new Yt,Yo=function(t){function e(e,r,n,i){void 0===i&&(i=D.TRIANGLES);var o=t.call(this)||this;return o.geometry=e,e.refCount++,o.shader=r,o.state=n||Jr.for2d(),o.drawMode=i,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=0,o._transformID=-1,o.tint=16777215,o.blendMode=R.NORMAL,o._roundPixels=W.ROUND_PIXELS,o.batchUvs=null,o}return Vo(e,t),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this.shader.tint},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),e.prototype._render=function(t){var r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===D.TRIANGLES&&r.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},e.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.program.uniformData.translationMatrix&&(e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(t){var e=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)},e.prototype.calculateVertices=function(){var t=this.geometry,e=t.buffers[0].data;if(t.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var r=this.transform.worldTransform,n=r.a,i=r.b,o=r.c,a=r.d,s=r.tx,u=r.ty,h=this.vertexData,c=0;c<h.length/2;c++){var l=e[2*c],f=e[2*c+1];h[2*c]=n*l+o*f+s,h[2*c+1]=i*l+a*f+u}if(this._roundPixels){var d=W.RESOLUTION;for(c=0;c<h.length;++c)h[c]=Math.round((h[c]*d|0)/d)}this.vertexDirty=t.vertexDirtyId}},e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new Xo(t,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,Go);for(var e=this.geometry.getBuffer("aVertexPosition").data,r=Ho.points,n=this.geometry.getIndex().data,i=n.length,o=4===this.drawMode?3:1,a=0;a+2<i;a+=o){var s=2*n[a],u=2*n[a+1],h=2*n[a+2];if(r[0]=e[s],r[1]=e[s+1],r[2]=e[u],r[3]=e[u+1],r[4]=e[h],r[5]=e[h+1],Ho.contains(Go.x,Go.y))return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(le),Wo=function(t){function e(e,r){var n=this,i={uSampler:e,alpha:1,uTextureMatrix:Kt.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r)).uniforms&&Object.assign(i,r.uniforms),(n=t.call(this,r.program||Zr.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),i)||this)._colorDirty=!1,n.uvMatrix=new en(e),n.batchable=void 0===r.program,n.pluginName=r.pluginName,n.tint=r.tint,n.alpha=r.alpha,n}return Vo(e,t),Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;ft(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}($r),zo=function(t){function e(e,r,n){var i=t.call(this)||this,o=new nr(e),a=new nr(r,!0),s=new nr(n,!0,!0);return i.addAttribute("aVertexPosition",o,2,!1,F.FLOAT).addAttribute("aTextureCoord",a,2,!1,F.FLOAT).addIndex(s),i._updateId=-1,i}return Vo(e,t),Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(hr),qo=function(t,e){return(qo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var Ko=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]},Zo=[function(){function t(){}return t.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},t.parse=function(t){var e=t.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[]};for(var n in e){var i=e[n].match(/^[a-z]+/gm)[0],o=e[n].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),a={};for(var s in o){var u=o[s].split("="),h=u[0],c=u[1].replace(/"/gm,""),l=parseFloat(c),f=isNaN(l)?c:l;a[h]=f}r[i].push(a)}var d=new Ko;return r.info.forEach((function(t){return d.info.push({face:t.face,size:parseInt(t.size,10)})})),r.common.forEach((function(t){return d.common.push({lineHeight:parseInt(t.lineHeight,10)})})),r.page.forEach((function(t){return d.page.push({id:parseInt(t.id,10),file:t.file})})),r.char.forEach((function(t){return d.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)})})),r.kerning.forEach((function(t){return d.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)})})),d},t}(),function(){function t(){}return t.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},t.parse=function(t){for(var e=new Ko,r=t.getElementsByTagName("info"),n=t.getElementsByTagName("common"),i=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),a=t.getElementsByTagName("kerning"),s=0;s<r.length;s++)e.info.push({face:r[s].getAttribute("face"),size:parseInt(r[s].getAttribute("size"),10)});for(s=0;s<n.length;s++)e.common.push({lineHeight:parseInt(n[s].getAttribute("lineHeight"),10)});for(s=0;s<i.length;s++)e.page.push({id:parseInt(i[s].getAttribute("id"),10)||0,file:i[s].getAttribute("file")});for(s=0;s<o.length;s++){var u=o[s];e.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(s=0;s<a.length;s++)e.kerning.push({first:parseInt(a[s].getAttribute("first"),10),second:parseInt(a[s].getAttribute("second"),10),amount:parseInt(a[s].getAttribute("amount"),10)});return e},t}()];function $o(t){for(var e=0;e<Zo.length;e++)if(Zo[e].test(t))return Zo[e];return null}function Jo(t,e,r,n,i,o){var a,s=r.fill;if(!Array.isArray(s))return s;if(1===s.length)return s[0];var u=r.dropShadow?r.dropShadowDistance:0,h=r.padding||0,c=Math.ceil(t.width/n)-u-2*h,l=Math.ceil(t.height/n)-u-2*h,f=s.slice(),d=r.fillGradientStops.slice();if(!d.length)for(var p=f.length+1,v=1;v<p;++v)d.push(v/p);if(f.unshift(s[0]),d.unshift(0),f.push(s[s.length-1]),d.push(1),r.fillGradientType===to.LINEAR_VERTICAL){a=e.createLinearGradient(c/2,h,c/2,l+h);var g=0,m=(o.fontProperties.fontSize+r.strokeThickness)/l;for(v=0;v<i.length;v++)for(var y=o.lineHeight*v,b=0;b<f.length;b++){var x=y/l+("number"==typeof d[b]?d[b]:b/f.length)*m,_=Math.max(g,x);_=Math.min(_,1),a.addColorStop(_,f[b]),g=_}}else{a=e.createLinearGradient(h,l/2,c+h,l/2);var w=f.length+1,T=1;for(v=0;v<f.length;v++){var E=void 0;E="number"==typeof d[v]?d[v]:T/w,a.addColorStop(E,f[v]),T++}}return a}function Qo(t,e,r,n,i,o,a){var s=r.text,u=r.fontProperties;e.translate(n,i),e.scale(o,o);var h=a.strokeThickness/2,c=-a.strokeThickness/2;e.font=a.toFontString(),e.lineWidth=a.strokeThickness,e.textBaseline=a.textBaseline,e.lineJoin=a.lineJoin,e.miterLimit=a.miterLimit,e.fillStyle=Jo(t,e,a,o,[s],r),e.strokeStyle=a.stroke,e.font=a.toFontString(),e.lineWidth=a.strokeThickness,e.textBaseline=a.textBaseline,e.lineJoin=a.lineJoin,e.miterLimit=a.miterLimit,e.fillStyle=Jo(t,e,a,o,[s],r),e.strokeStyle=a.stroke;var l=a.dropShadowColor,f=it("number"==typeof l?l:at(l));a.dropShadow?(e.shadowColor="rgba("+255*f[0]+","+255*f[1]+","+255*f[2]+","+a.dropShadowAlpha+")",e.shadowBlur=a.dropShadowBlur,e.shadowOffsetX=Math.cos(a.dropShadowAngle)*a.dropShadowDistance,e.shadowOffsetY=Math.sin(a.dropShadowAngle)*a.dropShadowDistance):(e.shadowColor="0",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),a.stroke&&a.strokeThickness&&e.strokeText(s,h,c+r.lineHeight-u.descent),a.fill&&e.fillText(s,h,c+r.lineHeight-u.descent),e.setTransform(),e.fillStyle="rgba(0, 0, 0, 0)"}var ta=function(){function t(t,e){var r=t.info[0],n=t.common[0],i=kt(t.page[0].file),o={};this.font=r.face,this.size=r.size,this.lineHeight=n.lineHeight/i,this.chars={},this.pageTextures=o;for(var a=0;a<t.page.length;a++){var s=t.page[a],u=s.id,h=s.file;o[u]=e instanceof Array?e[a]:e[h]}for(a=0;a<t.char.length;a++){var c=t.char[a],l=(u=c.id,c.page),f=t.char[a],d=f.x,p=f.y,v=f.width,g=f.height,m=f.xoffset,y=f.yoffset,b=f.xadvance;p/=i,v/=i,g/=i,m/=i,y/=i,b/=i;var x=new Xt((d/=i)+o[l].frame.x/i,p+o[l].frame.y/i,v,g);this.chars[u]={xOffset:m,yOffset:y,xAdvance:b,kerning:{},texture:new $e(o[l].baseTexture,x),page:l}}for(a=0;a<t.kerning.length;a++){var _=t.kerning[a],w=_.first,T=_.second,E=_.amount;w/=i,T/=i,E/=i,this.chars[T]&&(this.chars[T].kerning[w]=E)}}return t.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},t.install=function(e,r){var n;if(e instanceof Ko)n=e;else{var i=$o(e);if(!i)throw new Error("Unrecognized data format for font.");n=i.parse(e)}r instanceof $e&&(r=[r]);var o=new t(n,r);return t.available[o.font]=o,o},t.uninstall=function(e){var r=t.available[e];if(!r)throw new Error("No font found named '"+e+"'");r.destroy(),delete t.available[e]},t.from=function(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},t.defaultOptions,n),o=i.chars,a=i.padding,s=i.resolution,u=i.textureWidth,h=i.textureHeight,c=function(t){"string"==typeof t&&(t=[t]);for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];if(Array.isArray(i)){if(2!==i.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var o=i[0].charCodeAt(0),a=i[1].charCodeAt(0);if(a<o)throw new Error("[BitmapFont]: Invalid character range.");for(var s=o,u=a;s<=u;s++)e.push(String.fromCharCode(s))}else e.push.apply(e,i.split(""))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(o),l=r instanceof so?r:new so(r),f=u,d=new Ko;d.info[0]={face:l.fontFamily,size:l.fontSize},d.common[0]={lineHeight:l.fontSize};for(var p,v,g,m=0,y=0,b=0,x=[],_=0;_<c.length;_++){p||((p=document.createElement("canvas")).width=u,p.height=h,v=p.getContext("2d"),g=new Ne(p,{resolution:s}),x.push(new $e(g)),d.page.push({id:x.length-1,file:""}));var w=lo.measureText(c[_],l,!1,p),T=w.width,E=Math.ceil(w.height),S=Math.ceil(("italic"===l.fontStyle?2:1)*T);if(y>=h-E*s){if(0===y)throw new Error("[BitmapFont] textureHeight "+h+"px is too small for "+l.fontSize+"px fonts");--_,p=null,v=null,g=null,y=0,m=0,b=0}else if(b=Math.max(E+w.fontProperties.descent,b),S*s+m>=f)--_,y+=b*s,y=Math.ceil(y),m=0,b=0;else{Qo(p,v,w,m,y,s,l);var I=w.text.charCodeAt(0);d.char.push({id:I,page:x.length-1,x:m/s,y:y/s,width:S,height:E,xoffset:0,yoffset:0,xadvance:Math.ceil(T-(l.dropShadow?l.dropShadowDistance:0)-(l.stroke?l.strokeThickness:0))}),m+=(S+2*a)*s,m=Math.ceil(m)}}var A=new t(d,x);return void 0!==t.available[e]&&t.uninstall(e),t.available[e]=A,A},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),ea=[],ra=[],na=function(t){function e(r,n){void 0===n&&(n={});var i=t.call(this)||this;i._tint=16777215,n.font&&(St("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),i._upgradeStyle(n));var o=Object.assign({},e.styleDefaults,n),a=o.align,s=o.tint,u=o.maxWidth,h=o.letterSpacing,c=o.fontName,l=o.fontSize;if(!ta.available[c])throw new Error('Missing BitmapFont "'+c+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=a,i._tint=s,i._fontName=c,i._fontSize=l||ta.available[c].size,i._text=r,i._maxWidth=u,i._maxLineHeight=0,i._letterSpacing=h,i._anchor=new qt((function(){i.dirty=!0}),i,0,0),i.roundPixels=W.ROUND_PIXELS,i.dirty=!0,i}return function(t,e){function r(){this.constructor=t}qo(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.updateText=function(){for(var t,e=ta.available[this._fontName],r=this._fontSize/e.size,n=new zt,i=[],o=[],a=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",s=a.length,u=this._maxWidth*e.size/this._fontSize,h=null,c=0,l=0,f=0,d=-1,p=0,v=0,g=0,m=0;m<s;m++){var y=a.charCodeAt(m),b=a.charAt(m);if(/(?:\s)/.test(b)&&(d=m,p=c),"\r"!==b&&"\n"!==b){var x=e.chars[y];if(x){h&&x.kerning[h]&&(n.x+=x.kerning[h]);var _=ra.pop()||{texture:$e.EMPTY,line:0,charCode:0,position:new zt};_.texture=x.texture,_.line=f,_.charCode=y,_.position.x=n.x+x.xOffset+this._letterSpacing/2,_.position.y=n.y+x.yOffset,i.push(_),n.x+=x.xAdvance+this._letterSpacing,c=n.x,g=Math.max(g,x.yOffset+x.texture.height),h=y,-1!==d&&u>0&&n.x>u&&(xt(i,1+d-++v,1+m-d),m=d,d=-1,o.push(p),l=Math.max(l,p),f++,n.x=0,n.y+=e.lineHeight,h=null)}}else o.push(c),l=Math.max(l,c),++f,++v,n.x=0,n.y+=e.lineHeight,h=null}var w=a.charAt(a.length-1);"\r"!==w&&"\n"!==w&&(/(?:\s)/.test(w)&&(c=p),o.push(c),l=Math.max(l,c));var T=[];for(m=0;m<=f;m++){var E=0;"right"===this._align?E=l-o[m]:"center"===this._align&&(E=(l-o[m])/2),T.push(E)}var S=i.length,I={},A=[],P=this._activePagesMeshData;for(m=0;m<P.length;m++)ea.push(P[m]);for(m=0;m<S;m++){var M=(D=i[m].texture).baseTexture.uid;if(!I[M]){if(!(j=ea.pop())){var O=new zo,C=new Wo($e.EMPTY);j={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new Yo(O,C),vertices:null,uvs:null,indices:null}}j.index=0,j.indexCount=0,j.vertexCount=0,j.uvsCount=0,j.total=0,j.mesh.texture=new $e(D.baseTexture),j.mesh.tint=this._tint,A.push(j),I[M]=j}I[M].total++}for(m=0;m<P.length;m++)-1===A.indexOf(P[m])&&this.removeChild(P[m].mesh);for(m=0;m<A.length;m++)A[m].mesh.parent!==this&&this.addChild(A[m].mesh);for(var m in this._activePagesMeshData=A,I){var R=(j=I[m]).total;(null===(t=j.indices)||void 0===t?void 0:t.length)>6*R&&!(j.vertices.length<2*Yo.BATCHABLE_SIZE)||(j.vertices=new Float32Array(8*R),j.uvs=new Float32Array(8*R),j.indices=new Uint16Array(6*R)),j.mesh.size=6*R}for(m=0;m<S;m++){var D,N=((b=i[m]).position.x+T[b.line])*r,L=b.position.y*r,F=I[(D=b.texture).baseTexture.uid],k=D.frame,U=D._uvs,B=F.index++;F.indices[6*B+0]=0+4*B,F.indices[6*B+1]=1+4*B,F.indices[6*B+2]=2+4*B,F.indices[6*B+3]=0+4*B,F.indices[6*B+4]=2+4*B,F.indices[6*B+5]=3+4*B,F.vertices[8*B+0]=N,F.vertices[8*B+1]=L,F.vertices[8*B+2]=N+k.width*r,F.vertices[8*B+3]=L,F.vertices[8*B+4]=N+k.width*r,F.vertices[8*B+5]=L+k.height*r,F.vertices[8*B+6]=N,F.vertices[8*B+7]=L+k.height*r,F.uvs[8*B+0]=U.x0,F.uvs[8*B+1]=U.y0,F.uvs[8*B+2]=U.x1,F.uvs[8*B+3]=U.y1,F.uvs[8*B+4]=U.x2,F.uvs[8*B+5]=U.y2,F.uvs[8*B+6]=U.x3,F.uvs[8*B+7]=U.y3}for(var m in this._textWidth=l*r,this._textHeight=(n.y+e.lineHeight)*r,I){var j=I[m];if(0!==this.anchor.x||0!==this.anchor.y)for(var V=0,X=this._textWidth*this.anchor.x,G=this._textHeight*this.anchor.y,H=0;H<j.total;H++)j.vertices[V++]-=X,j.vertices[V++]-=G,j.vertices[V++]-=X,j.vertices[V++]-=G,j.vertices[V++]-=X,j.vertices[V++]-=G,j.vertices[V++]-=X,j.vertices[V++]-=G;this._maxLineHeight=g*r;var Y=j.mesh.geometry.getBuffer("aVertexPosition"),W=j.mesh.geometry.getBuffer("aTextureCoord"),z=j.mesh.geometry.getIndex();Y.data=j.vertices,W.data=j.uvs,z.data=j.indices,Y.update(),W.update(),z.update()}for(m=0;m<i.length;m++)ra.push(i[m])},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!ta.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),e.prototype._upgradeStyle=function(t){if("string"==typeof t.font){var e=t.font.split(" ");t.fontName=1===e.length?e[0]:e.slice(1).join(" "),e.length>=2&&(t.fontSize=parseInt(e[0],10))}else t.fontName=t.font.name,t.fontSize="number"==typeof t.font.size?t.font.size:parseInt(t.font.size,10)},e.registerFont=function(t,e){return St("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),ta.install(t,e)},Object.defineProperty(e,"fonts",{get:function(){return St("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),ta.available},enumerable:!1,configurable:!0}),e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e}(le),ia=function(){function t(){}return t.add=function(){ci.setExtensionXhrType("fnt",ci.XHR_RESPONSE_TYPE.DOCUMENT)},t.use=function(e,r){var n=$o(e.data);if(n)for(var i=t.getBaseUrl(this,e),o=n.parse(e.data),a={},s=function(t){a[t.metadata.pageFile]=t.texture,Object.keys(a).length===o.page.length&&(e.bitmapFont=ta.install(o,a),r())},u=0;u<o.page.length;++u){var h=o.page[u].file,c=i+h,l=!1;for(var f in this.resources){var d=this.resources[f];if(d.url===c){d.metadata.pageFile=h,d.texture?s(d):d.onAfterMiddleware.add(s),l=!0;break}}if(!l){var p={crossOrigin:e.crossOrigin,loadType:ci.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:h},e.metadata.imageMetadata),parentResource:e};this.add(c,p,s)}}else r()},t.getBaseUrl=function(e,r){var n=r.isDataUrl?"":t.dirname(r.url);return r.isDataUrl&&("."===n&&(n=""),e.baseUrl&&n&&"/"===e.baseUrl.charAt(e.baseUrl.length-1)&&(n+="/")),(n=n.replace(e.baseUrl,""))&&"/"!==n.charAt(n.length-1)&&(n+="/"),n},t.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},t}(),oa=function(t,e){return(oa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var aa=function(t){function e(e){void 0===e&&(e=1);var r=t.call(this,An,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return r.alpha=e,r}return function(t,e){function r(){this.constructor=t}oa(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(Qr),sa=function(t,e){return(sa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function ua(t,e){function r(){this.constructor=t}sa(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var ha,ca,la,fa,da,pa,va,ga,ma,ya,ba,xa,_a,wa,Ta,Ea,Sa,Ia={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Aa=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(ha||(ha={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(ca||(ca={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(la||(la={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(fa||(fa={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(da||(da={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(pa||(pa={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(va||(va={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(ga||(ga={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(ma||(ma={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(ya||(ya={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"}(ba||(ba={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(xa||(xa={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(_a||(_a={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(wa||(wa={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(Ta||(Ta={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(Ea||(Ea={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(Sa||(Sa={}));var Pa=function(t){function e(e,r,n,i,o){void 0===r&&(r=8),void 0===n&&(n=4),void 0===i&&(i=W.RESOLUTION),void 0===o&&(o=5);var a=this,s=function(t,e){var r,n=Math.ceil(t/2),i="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",o="";r=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<t;a++){var s=r.replace("%index%",a.toString());o+=s=s.replace("%sampleIndex%",a-(n-1)+".0"),o+="\n"}return i=(i=i.replace("%blur%",o)).replace("%size%",t.toString())}(o,e),u=function(t){for(var e,r=Ia[t],n=r.length,i=Aa,o="",a=0;a<t;a++){var s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",a.toString());e=a,a>=n&&(e=t-a-1),o+=s=s.replace("%value%",r[e].toString()),o+="\n"}return i=(i=i.replace("%blur%",o)).replace("%size%",t.toString())}(o);return(a=t.call(this,s,u)||this).horizontal=e,a.resolution=i,a._quality=0,a.quality=n,a.blur=r,a}return ua(e,t),e.prototype.apply=function(t,e,r,n){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/e.width):this.uniforms.strength=1/r.height*(r.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{var i=t.getFilterTexture(),o=t.renderer,a=e,s=i;this.state.blend=!1,t.applyFilter(this,a,s,_a.CLEAR);for(var u=1;u<this.passes-1;u++){t.bindAndClear(a,_a.BLIT),this.uniforms.uSampler=s;var h=s;s=a,a=h,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,s,r,n),t.returnFilterTexture(i)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+2*Math.abs(t),this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),e}(Qr),Ma=function(t){function e(e,r,n,i){void 0===e&&(e=8),void 0===r&&(r=4),void 0===n&&(n=W.RESOLUTION),void 0===i&&(i=5);var o=t.call(this)||this;return o.blurXFilter=new Pa(!0,e,r,n,i),o.blurYFilter=new Pa(!1,e,r,n,i),o.resolution=n,o.quality=r,o.blur=e,o.repeatEdgePixels=!1,o}return ua(e,t),e.prototype.apply=function(t,e,r,n){var i=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(i&&o){var a=t.getFilterTexture();this.blurXFilter.apply(t,e,a,_a.CLEAR),this.blurYFilter.apply(t,a,r,n),t.returnFilterTexture(a)}else o?this.blurYFilter.apply(t,e,r,n):this.blurXFilter.apply(t,e,r,n)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()},enumerable:!1,configurable:!0}),e}(Qr),Oa=function(t,e){return(Oa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var Ca=function(t){function e(){var e=this,r={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=t.call(this,Pn,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",r)||this).alpha=1,e}return function(t,e){function r(){this.constructor=t}Oa(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),n=Math.sin(t),i=1/3,o=(0,Math.sqrt)(i),a=[r+(1-r)*i,i*(1-r)-o*n,i*(1-r)+o*n,0,0,i*(1-r)+o*n,r+i*(1-r),i*(1-r)-o*n,0,0,i*(1-r)-o*n,i*(1-r)+o*n,r+i*(1-r),0,0,0,0,0,1,0];this._loadMatrix(a,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,n=-.5*(r-1),i=[r,0,0,0,n,0,r,0,0,n,0,0,r,0,n,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var r=2*t/3+1,n=-.5*(r-1),i=[r,n,n,0,0,n,r,n,0,0,n,n,r,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,r,n,i){var o=((r=r||16770432)>>16&255)/255,a=(r>>8&255)/255,s=(255&r)/255,u=((n=n||3375104)>>16&255)/255,h=(n>>8&255)/255,c=(255&n)/255,l=[.3,.59,.11,0,0,o,a,s,t=t||.2,0,u,h,c,e=e||.15,0,o-u,a-h,s-c,0,0];this._loadMatrix(l,i)},e.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(Qr);Ca.prototype.grayscale=Ca.prototype.greyscale;
/*!
 * @pixi/filter-displacement - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var Ra=function(t,e){return(Ra=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var Da=function(t){function e(e,r){var n=this,i=new Kt;return e.renderable=!1,(n=t.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,n.maskMatrix=i,null==r&&(r=20),n.scale=new zt(r,r),n}return function(t,e){function r(){this.constructor=t}Ra(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.apply=function(t,e,r,n){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var i=this.maskSprite.worldTransform,o=Math.sqrt(i.a*i.a+i.b*i.b),a=Math.sqrt(i.c*i.c+i.d*i.d);0!==o&&0!==a&&(this.uniforms.rotation[0]=i.a/o,this.uniforms.rotation[1]=i.b/o,this.uniforms.rotation[2]=i.c/a,this.uniforms.rotation[3]=i.d/a),t.applyFilter(this,e,r,n)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0}),e}(Qr),Na=function(t,e){return(Na=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var La=function(t){function e(){return t.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}return function(t,e){function r(){this.constructor=t}Na(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e}(Qr),Fa=function(t,e){return(Fa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var ka=function(t){function e(e,r){void 0===e&&(e=.5),void 0===r&&(r=Math.random());var n=t.call(this,Pn,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return n.noise=e,n.seed=r,n}return function(t,e){function r(){this.constructor=t}Fa(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!1,configurable:!0}),e}(Qr),Ua=new Kt;ue.prototype._cacheAsBitmap=!1,ue.prototype._cacheData=null;var Ba=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(ue.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new Ba),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),ue.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},ue.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.batch.flush();var r=this.getLocalBounds(null,!0).clone();if(this.filters){var n=this.filters[0].padding;r.pad(n)}r.ceil(W.RESOLUTION);var i=t.renderTexture.current,o=t.renderTexture.sourceFrame.clone(),a=t.projection.transform,s=Qe.create({width:r.width,height:r.height}),u="cacheAsBitmap_"+Tt();this._cacheData.textureCacheId=u,Ne.addToCache(s.baseTexture,u),$e.addToCache(s,u);var h=this.transform.localTransform.copyTo(Ua).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,s,!0,h,!1),t.projection.transform=a,t.renderTexture.bind(i,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var c=new no(s);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-r.x/r.width,c.anchor.y=-r.y/r.height,c.alpha=e,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=c.containsPoint.bind(c)}},ue.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},ue.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;var n=t.context,i=t._projTransform;e.ceil(W.RESOLUTION);var o=Qe.create({width:e.width,height:e.height}),a="cacheAsBitmap_"+Tt();this._cacheData.textureCacheId=a,Ne.addToCache(o.baseTexture,a),$e.addToCache(o,a);var s=Ua;this.transform.localTransform.copyTo(s),s.invert(),s.tx-=e.x,s.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,o,!0,s,!1),t.context=n,t._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var u=new no(o);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-e.x/e.width,u.anchor.y=-e.y/e.height,u.alpha=r,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)}},ue.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},ue.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},ue.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Ne.removeFromCache(this._cacheData.textureCacheId),$e.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},ue.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},
/*!
 * @pixi/mixin-get-child-by-name - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
ue.prototype.name=null,le.prototype.getChildByName=function(t,e){for(var r=0,n=this.children.length;r<n;r++)if(this.children[r].name===t)return this.children[r];if(e)for(r=0,n=this.children.length;r<n;r++){if(this.children[r].getChildByName){var i=this.children[r].getChildByName(t,!0);if(i)return i}}return null},
/*!
 * @pixi/mixin-get-global-position - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
ue.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new zt),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};
/*!
 * @pixi/mesh-extras - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var ja=function(t,e){return(ja=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Va(t,e){function r(){this.constructor=t}ja(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Xa=function(t){function e(e,r,n,i){void 0===e&&(e=100),void 0===r&&(r=100),void 0===n&&(n=10),void 0===i&&(i=10);var o=t.call(this)||this;return o.segWidth=n,o.segHeight=i,o.width=e,o.height=r,o.build(),o}return Va(e,t),e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],r=[],n=[],i=this.segWidth-1,o=this.segHeight-1,a=this.width/i,s=this.height/o,u=0;u<t;u++){var h=u%this.segWidth,c=u/this.segWidth|0;e.push(h*a,c*s),r.push(h/i,c/o)}var l=i*o;for(u=0;u<l;u++){var f=u%i,d=u/i|0,p=d*this.segWidth+f,v=d*this.segWidth+f+1,g=(d+1)*this.segWidth+f,m=(d+1)*this.segWidth+f+1;n.push(p,v,g,v,m,g)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(n),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(zo),Ga=function(t){function e(e,r,n){void 0===e&&(e=200),void 0===n&&(n=0);var i=t.call(this,new Float32Array(4*r.length),new Float32Array(4*r.length),new Uint16Array(6*(r.length-1)))||this;return i.points=r,i._width=e,i.textureScale=n,i.build(),i}return Va(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),n=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),r.data=new Float32Array(4*t.length),n.data=new Uint16Array(6*(t.length-1)));var i=r.data,o=n.data;i[0]=0,i[1]=0,i[2]=0,i[3]=1;for(var a=0,s=t[0],u=this._width*this.textureScale,h=t.length,c=0;c<h;c++){var l=4*c;if(this.textureScale>0){var f=s.x-t[c].x,d=s.y-t[c].y,p=Math.sqrt(f*f+d*d);s=t[c],a+=p/u}else a=c/(h-1);i[l]=a,i[l+1]=0,i[l+2]=a,i[l+3]=1}var v=0;for(c=0;c<h-1;c++){l=2*c;o[v++]=l,o[v++]=l+1,o[v++]=l+2,o[v++]=l+2,o[v++]=l+1,o[v++]=l+3}r.update(),n.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e,r=t[0],n=0,i=0,o=this.buffers[0].data,a=t.length,s=0;s<a;s++){var u=t[s],h=4*s;i=-((e=s<t.length-1?t[s+1]:u).x-r.x),n=e.y-r.y;var c=Math.sqrt(n*n+i*i),l=this.textureScale>0?this.textureScale*this._width/2:this._width/2;n/=c,i/=c,n*=l,i*=l,o[h]=u.x+n,o[h+1]=u.y+i,o[h+2]=u.x-n,o[h+3]=u.y-i,r=u}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(zo),Ha=function(t){function e(e,r,n){void 0===n&&(n=0);var i=this,o=new Ga(e.height,r,n),a=new Wo(e);return n>0&&(e.baseTexture.wrapMode=U.REPEAT),(i=t.call(this,o,a)||this).autoUpdate=!0,i}return Va(e,t),e.prototype._render=function(e){var r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),t.prototype._render.call(this,e)},e}(Yo),Ya=function(t){function e(e,r,n){var i=this,o=new Xa(e.width,e.height,r,n),a=new Wo($e.WHITE);return(i=t.call(this,o,a)||this).texture=e,i}return Va(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry;t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build()},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},e}(Yo),Wa=function(t){function e(e,r,n,i,o){void 0===e&&(e=$e.EMPTY);var a=this,s=new zo(r,n,i);s.getBuffer("aVertexPosition").static=!1;var u=new Wo(e);return(a=t.call(this,s,u,null,o)||this).autoUpdate=!0,a}return Va(e,t),Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)},e}(Yo),za=function(t){function e(e,r,n,i,o){void 0===r&&(r=10),void 0===n&&(n=10),void 0===i&&(i=10),void 0===o&&(o=10);var a=t.call(this,$e.WHITE,4,4)||this;return a._origWidth=e.orig.width,a._origHeight=e.orig.height,a._width=a._origWidth,a._height=a._origHeight,a._leftWidth=r,a._rightWidth=i,a._topHeight=n,a._bottomHeight=o,a.texture=e,a}return Va(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,r=this._topHeight+this._bottomHeight,n=this._height>r?1:this._height/r;return Math.min(e,n)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var r=1/this._origWidth,n=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=r*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-r*this._rightWidth,e[9]=e[11]=e[13]=e[15]=n*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-n*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e}(Ya),qa=function(t,e){return(qa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var Ka=function(t){function e(e,r){void 0===r&&(r=!0);var n=t.call(this,e[0]instanceof $e?e[0]:e[0].texture)||this;return n._textures=null,n._durations=null,n._autoUpdate=r,n._isConnectedToTicker=!1,n.animationSpeed=1,n.loop=!0,n.updateAnchor=!1,n.onComplete=null,n.onFrameChange=null,n.onLoop=null,n._currentTime=0,n._playing=!1,n._previousFrame=null,n.textures=e,n}return function(t,e){function r(){this.constructor=t}qa(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(ge.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(ge.shared.add(this.update,this,de.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=e/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())},e.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(t){for(var r=[],n=0;n<t.length;++n)r.push($e.from(t[n]));return new e(r)},e.fromImages=function(t){for(var r=[],n=0;n<t.length;++n)r.push($e.from(t[n]));return new e(r)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof $e)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(ge.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(ge.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e}(no),Za=function(t,e){return(Za=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};
/*!
 * pixi.js - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function $a(t,e){function r(){this.constructor=t}Za(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Ja="5.0.0";function Qa(){var t=this;Object.defineProperties(t,{SVG_SIZE:{get:function(){return St(Ja,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),t.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return St(Ja,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),t.Transform}},TransformBase:{get:function(){return St(Ja,"PIXI.TransformBase class has been removed, use PIXI.Transform"),t.Transform}},TRANSFORM_MODE:{get:function(){return St(Ja,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return St(Ja,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),t.Renderer}},CanvasRenderTarget:{get:function(){return St(Ja,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),t.utils.CanvasRenderTarget}},loader:{get:function(){return St(Ja,"PIXI.loader instance has moved to PIXI.Loader.shared"),t.Loader.shared}},FilterManager:{get:function(){return St(Ja,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),t.systems.FilterSystem}},CanvasTinter:{get:function(){return St("5.2.0","PIXI.CanvasTinter namespace has moved to PIXI.canvasUtils"),t.canvasUtils}},GroupD8:{get:function(){return St("5.2.0","PIXI.GroupD8 namespace has moved to PIXI.groupD8"),t.groupD8}}}),t.accessibility={},Object.defineProperties(t.accessibility,{AccessibilityManager:{get:function(){return St("5.3.0","PIXI.accessibility.AccessibilityManager moved to PIXI.AccessibilityManager"),t.AccessibilityManager}}}),t.interaction={},Object.defineProperties(t.interaction,{InteractionManager:{get:function(){return St("5.3.0","PIXI.interaction.InteractionManager moved to PIXI.InteractionManager"),t.InteractionManager}},InteractionData:{get:function(){return St("5.3.0","PIXI.interaction.InteractionData moved to PIXI.InteractionData"),t.InteractionData}},InteractionEvent:{get:function(){return St("5.3.0","PIXI.interaction.InteractionEvent moved to PIXI.InteractionEvent"),t.InteractionEvent}}}),t.prepare={},Object.defineProperties(t.prepare,{BasePrepare:{get:function(){return St("5.2.1","PIXI.prepare.BasePrepare moved to PIXI.BasePrepare"),t.BasePrepare}},Prepare:{get:function(){return St("5.2.1","PIXI.prepare.Prepare moved to PIXI.Prepare"),t.Prepare}},CanvasPrepare:{get:function(){return St("5.2.1","PIXI.prepare.CanvasPrepare moved to PIXI.CanvasPrepare"),t.CanvasPrepare}}}),t.extract={},Object.defineProperties(t.extract,{Extract:{get:function(){return St("5.2.1","PIXI.extract.Extract moved to PIXI.Extract"),t.Extract}},CanvasExtract:{get:function(){return St("5.2.1","PIXI.extract.CanvasExtract moved to PIXI.CanvasExtract"),t.CanvasExtract}}}),t.extras={},Object.defineProperties(t.extras,{TilingSprite:{get:function(){return St(Ja,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),t.TilingSprite}},TilingSpriteRenderer:{get:function(){return St(Ja,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),t.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return St(Ja,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),t.AnimatedSprite}},BitmapText:{get:function(){return St(Ja,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),t.BitmapText}}}),t.TilingSprite.fromFrame=function(e,r,n){return St("5.3.0","TilingSprite.fromFrame is deprecated, use TilingSprite.from"),t.TilingSprite.from(e,{width:r,height:n})},t.TilingSprite.fromImage=function(e,r,n,i){return void 0===i&&(i={}),St("5.3.0","TilingSprite.fromImage is deprecated, use TilingSprite.from"),i&&"object"!=typeof i&&(i={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}),i.width=r,i.height=n,t.TilingSprite.from(e,i)},Object.defineProperties(t.utils,{getSvgSize:{get:function(){return St(Ja,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),t.resources.SVGResource.getSize}}}),t.mesh={},Object.defineProperties(t.mesh,{Mesh:{get:function(){return St(Ja,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),t.SimpleMesh}},NineSlicePlane:{get:function(){return St(Ja,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),t.NineSlicePlane}},Plane:{get:function(){return St(Ja,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),t.SimplePlane}},Rope:{get:function(){return St(Ja,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),t.SimpleRope}},RawMesh:{get:function(){return St(Ja,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),t.Mesh}},CanvasMeshRenderer:{get:function(){return St(Ja,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),t.CanvasMeshRenderer}},MeshRenderer:{get:function(){return St(Ja,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),t.MeshRenderer}}}),t.particles={},Object.defineProperties(t.particles,{ParticleContainer:{get:function(){return St(Ja,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),t.ParticleContainer}},ParticleRenderer:{get:function(){return St(Ja,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),t.ParticleRenderer}}}),t.ticker={},Object.defineProperties(t.ticker,{Ticker:{get:function(){return St(Ja,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),t.Ticker}},shared:{get:function(){return St(Ja,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),t.Ticker.shared}}}),t.loaders={},Object.defineProperties(t.loaders,{Loader:{get:function(){return St(Ja,"PIXI.loaders.Loader class has moved to PIXI.Loader"),t.Loader}},Resource:{get:function(){return St(Ja,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),t.LoaderResource}},bitmapFontParser:{get:function(){return St(Ja,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),t.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){St(Ja,"PIXI.loaders.parseBitmapFontData function has removed")}},spritesheetParser:{get:function(){return St(Ja,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),t.SpritesheetLoader.use}},getResourcePath:{get:function(){return St(Ja,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),t.SpritesheetLoader.getResourcePath}}}),t.Loader.addPixiMiddleware=function(e){return St(Ja,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),t.loaders.Loader.registerPlugin({use:e()})};var e=function(t){return"on"+t.charAt(0).toUpperCase()+t.slice(1)};Object.assign(t.Loader.prototype,{on:function(t){var r=e(t);St(Ja,"PIXI.Loader#on is completely deprecated, use PIXI.Loader#"+r+".add")},once:function(t){var r=e(t);St(Ja,"PIXI.Loader#once is completely deprecated, use PIXI.Loader#"+r+".once")},off:function(t){var r=e(t);St(Ja,"PIXI.Loader#off is completely deprecated, use PIXI.Loader#"+r+".detach")}}),Object.defineProperty(t.extract,"WebGLExtract",{get:function(){return St(Ja,"PIXI.extract.WebGLExtract method has moved to PIXI.Extract"),t.Extract}}),Object.defineProperty(t.prepare,"WebGLPrepare",{get:function(){return St(Ja,"PIXI.prepare.WebGLPrepare class has moved to PIXI.Prepare"),t.Prepare}}),t.Container.prototype._renderWebGL=function(t){St(Ja,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(t)},t.Container.prototype.renderWebGL=function(t){St(Ja,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(t)},t.DisplayObject.prototype.renderWebGL=function(t){St(Ja,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(t)},t.Container.prototype.renderAdvancedWebGL=function(t){St(Ja,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(t)},Object.defineProperties(t.settings,{TRANSFORM_MODE:{get:function(){return St(Ja,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){St(Ja,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var r=t.BaseTexture;r.prototype.loadSource=function(e){St(Ja,"PIXI.BaseTexture.loadSource method has been deprecated");var r=t.resources.autoDetectResource(e);r.internal=!0,this.setResource(r),this.update()};var n=!1;Object.defineProperties(r.prototype,{hasLoaded:{get:function(){return St(Ja,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){var t;return St(Ja,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),null===(t=this.resource)||void 0===t?void 0:t.url},set:function(t){St(Ja,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&(this.resource.url=t)}},source:{get:function(){return St(Ja,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`"),this.resource.source},set:function(t){St(Ja,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=t)}},premultiplyAlpha:{get:function(){return St("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(t){St("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(t)}},_id:{get:function(){return n||(St("5.2.0","PIXI.BaseTexture._id batch local field has been changed to `_batchLocation`"),n=!0),this._batchLocation},set:function(t){this._batchLocation=t}}}),r.fromImage=function(t,e,n,i){St(Ja,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");var o={scale:i,crossorigin:e};return r.from(t,{scaleMode:n,resourceOptions:o})},r.fromCanvas=function(t,e){return St(Ja,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),r.from(t,{scaleMode:e})},r.fromSVG=function(t,e,n,i){St(Ja,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");var o={scale:i,crossorigin:e};return r.from(t,{scaleMode:n,resourceOptions:o})},Object.defineProperties(t.resources.ImageResource.prototype,{premultiplyAlpha:{get:function(){return St("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(t){St("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(t)}}}),t.Point.prototype.copy=function(t){return St(Ja,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(t)},t.ObservablePoint.prototype.copy=function(t){return St(Ja,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(t)},t.Rectangle.prototype.copy=function(t){return St(Ja,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(t)},t.Matrix.prototype.copy=function(t){return St(Ja,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(t)},t.systems.StateSystem.prototype.setState=function(t){return St("v5.1.0","StateSystem.setState has been renamed to StateSystem.set"),this.set(t)},Object.assign(t.systems.FilterSystem.prototype,{getRenderTarget:function(t,e){return St(Ja,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(null,e)},returnRenderTarget:function(t){St(Ja,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture(t)},calculateScreenSpaceMatrix:function(t){St(Ja,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var e=t.identity(),r=this.activeState,n=r.sourceFrame,i=r.destinationFrame;return e.translate(n.x/i.width,n.y/i.height),e.scale(i.width,i.height),e},calculateNormalizedScreenSpaceMatrix:function(t){St(Ja,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var e=this.activeState,r=e.sourceFrame,n=e.destinationFrame,i=t.identity();i.translate(r.x/n.width,r.y/n.height);var o=n.width/r.width,a=n.height/r.height;return i.scale(o,a),i}}),Object.defineProperties(t.RenderTexture.prototype,{sourceFrame:{get:function(){return St(Ja,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return St(Ja,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var i=function(t){function e(e,r,n,i){return St(Ja,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),t.call(this,!0,e,r,n,i)||this}return $a(e,t),e}(t.filters.BlurFilterPass),o=function(t){function e(e,r,n,i){return St(Ja,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),t.call(this,!1,e,r,n,i)||this}return $a(e,t),e}(t.filters.BlurFilterPass);Object.assign(t.filters,{BlurXFilter:i,BlurYFilter:o});var a=t.Sprite,s=t.Texture,u=t.Graphics;function h(t,e,r,n){return St(Ja,"PIXI.Sprite."+t+" method is deprecated, use PIXI.Sprite.from"),a.from(e,{resourceOptions:{scale:n,crossorigin:r}})}function c(t,e,r,n){return St(Ja,"PIXI.Texture."+t+" method is deprecated, use PIXI.Texture.from"),s.from(e,{resourceOptions:{scale:n,crossorigin:r}})}u.prototype.generateCanvasTexture||(u.prototype.generateCanvasTexture=function(){St(Ja,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),Object.defineProperty(u.prototype,"graphicsData",{get:function(){return St(Ja,"PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData"),this.geometry.graphicsData}}),a.fromImage=h.bind(null,"fromImage"),a.fromSVG=h.bind(null,"fromSVG"),a.fromCanvas=h.bind(null,"fromCanvas"),a.fromVideo=h.bind(null,"fromVideo"),a.fromFrame=h.bind(null,"fromFrame"),s.fromImage=c.bind(null,"fromImage"),s.fromSVG=c.bind(null,"fromSVG"),s.fromCanvas=c.bind(null,"fromCanvas"),s.fromVideo=c.bind(null,"fromVideo"),s.fromFrame=c.bind(null,"fromFrame"),Object.defineProperty(t.AbstractRenderer.prototype,"autoResize",{get:function(){return St(Ja,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity},set:function(t){St(Ja,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity=t}}),Object.defineProperty(t.Renderer.prototype,"textureManager",{get:function(){return St(Ja,"PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture"),this.texture}}),t.utils.mixins={mixin:function(){St(Ja,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){St(Ja,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){St(Ja,"PIXI.utils.mixins.performMixins function is no longer available")}},Object.defineProperty(t.BitmapText.prototype,"font",{get:function(){return St("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),{name:this._fontName,size:this._fontSize,tint:this._tint,align:this._align}},set:function(e){if(St("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),e){var r={font:e};this._upgradeStyle(r),r.fontSize=r.fontSize||t.BitmapFont.available[r.fontName].size,this._fontName=r.fontName,this._fontSize=r.fontSize,this.dirty=!0}}})}Sn.registerPlugin("accessibility",pe),Sn.registerPlugin("extract",Xn),Sn.registerPlugin("interaction",Se),Sn.registerPlugin("particle",_i),Sn.registerPlugin("prepare",Mo),Sn.registerPlugin("batch",Un),Sn.registerPlugin("tilingSprite",Bo),di.registerPlugin(ia),di.registerPlugin(Ro),Bn.registerPlugin(me),Bn.registerPlugin(pi);var ts="5.3.3",es={AlphaFilter:aa,BlurFilter:Ma,BlurFilterPass:Pa,ColorMatrixFilter:Ca,DisplacementFilter:Da,FXAAFilter:La,NoiseFilter:ka},rs=function(t,e){return(rs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var ns=function(){function t(t){this.renderer=t,this._foundShapes=[]}return t.prototype.pushMask=function(t){var e=this.renderer,r=t.maskObject||t;e.context.save();var n=this._foundShapes;if(this.recursiveFindShapes(r,n),n.length>0){var i=e.context;i.beginPath();for(var o=0;o<n.length;o++){var a=n[o],s=a.transform.worldTransform;this.renderer.setContextTransform(s),this.renderGraphicsShape(a)}n.length=0,i.clip()}},t.prototype.recursiveFindShapes=function(t,e){t.geometry&&t.geometry.graphicsData&&e.push(t);var r=t.children;if(r)for(var n=0;n<r.length;n++)this.recursiveFindShapes(r[n],e)},t.prototype.renderGraphicsShape=function(t){t.finishPoly();var e=this.renderer.context,r=t.geometry.graphicsData,n=r.length;if(0!==n)for(var i=0;i<n;i++){var o=r[i].shape;if(o.type===Ut.POLY){var a=o.points;e.moveTo(a[0],a[1]);for(var s=1;s<a.length/2;s++)e.lineTo(a[2*s],a[2*s+1]);a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath()}else if(o.type===Ut.RECT)e.rect(o.x,o.y,o.width,o.height),e.closePath();else if(o.type===Ut.CIRC)e.arc(o.x,o.y,o.radius,0,2*Math.PI),e.closePath();else if(o.type===Ut.ELIP){var u=2*o.width,h=2*o.height,c=o.x-u/2,l=o.y-h/2,f=u/2*.5522848,d=h/2*.5522848,p=c+u,v=l+h,g=c+u/2,m=l+h/2;e.moveTo(c,m),e.bezierCurveTo(c,m-d,g-f,l,g,l),e.bezierCurveTo(g+f,l,p,m-d,p,m),e.bezierCurveTo(p,m+d,g+f,v,g,v),e.bezierCurveTo(g-f,v,c,m+d,c,m),e.closePath()}else if(o.type===Ut.RREC){var y=o.x,b=o.y,x=o.width,_=o.height,w=o.radius,T=Math.min(x,_)/2|0;w=w>T?T:w,e.moveTo(y,b+w),e.lineTo(y,b+_-w),e.quadraticCurveTo(y,b+_,y+w,b+_),e.lineTo(y+x-w,b+_),e.quadraticCurveTo(y+x,b+_,y+x,b+_-w),e.lineTo(y+x,b+w),e.quadraticCurveTo(y+x,b,y+x-w,b),e.lineTo(y+w,b),e.quadraticCurveTo(y,b,y,b+w),e.closePath()}}},t.prototype.popMask=function(t){t.context.restore(),t.invalidateBlendMode()},t.prototype.destroy=function(){},t}();function is(t){var e=document.createElement("canvas");e.width=6,e.height=1;var r=e.getContext("2d");return r.fillStyle=t,r.fillRect(0,0,6,1),e}function os(){if("undefined"==typeof document)return!1;var t=is("#ff00ff"),e=is("#ffff00"),r=document.createElement("canvas");r.width=6,r.height=1;var n=r.getContext("2d");n.globalCompositeOperation="multiply",n.drawImage(t,0,0),n.drawImage(e,2,0);var i=n.getImageData(2,0,1,1);if(!i)return!1;var o=i.data;return 255===o[0]&&0===o[1]&&0===o[2]}var as=new Kt,ss=function(t){function e(r){var n,i=t.call(this,O.CANVAS,r)||this;if(i.rootContext=i.view.getContext("2d",{alpha:i.transparent}),i.context=i.rootContext,i.refresh=!0,i.maskManager=new ns(i),i.smoothProperty="imageSmoothingEnabled",!i.rootContext.imageSmoothingEnabled){var o=i.rootContext;o.webkitImageSmoothingEnabled?i.smoothProperty="webkitImageSmoothingEnabled":o.mozImageSmoothingEnabled?i.smoothProperty="mozImageSmoothingEnabled":o.oImageSmoothingEnabled?i.smoothProperty="oImageSmoothingEnabled":o.msImageSmoothingEnabled&&(i.smoothProperty="msImageSmoothingEnabled")}return i.initPlugins(e.__plugins),i.blendModes=(void 0===n&&(n=[]),os()?(n[R.NORMAL]="source-over",n[R.ADD]="lighter",n[R.MULTIPLY]="multiply",n[R.SCREEN]="screen",n[R.OVERLAY]="overlay",n[R.DARKEN]="darken",n[R.LIGHTEN]="lighten",n[R.COLOR_DODGE]="color-dodge",n[R.COLOR_BURN]="color-burn",n[R.HARD_LIGHT]="hard-light",n[R.SOFT_LIGHT]="soft-light",n[R.DIFFERENCE]="difference",n[R.EXCLUSION]="exclusion",n[R.HUE]="hue",n[R.SATURATION]="saturate",n[R.COLOR]="color",n[R.LUMINOSITY]="luminosity"):(n[R.NORMAL]="source-over",n[R.ADD]="lighter",n[R.MULTIPLY]="source-over",n[R.SCREEN]="source-over",n[R.OVERLAY]="source-over",n[R.DARKEN]="source-over",n[R.LIGHTEN]="source-over",n[R.COLOR_DODGE]="source-over",n[R.COLOR_BURN]="source-over",n[R.HARD_LIGHT]="source-over",n[R.SOFT_LIGHT]="source-over",n[R.DIFFERENCE]="source-over",n[R.EXCLUSION]="source-over",n[R.HUE]="source-over",n[R.SATURATION]="source-over",n[R.COLOR]="source-over",n[R.LUMINOSITY]="source-over"),n[R.NORMAL_NPM]=n[R.NORMAL],n[R.ADD_NPM]=n[R.ADD],n[R.SCREEN_NPM]=n[R.SCREEN],n[R.SRC_IN]="source-in",n[R.SRC_OUT]="source-out",n[R.SRC_ATOP]="source-atop",n[R.DST_OVER]="destination-over",n[R.DST_IN]="destination-in",n[R.DST_OUT]="destination-out",n[R.DST_ATOP]="destination-atop",n[R.XOR]="xor",n[R.SUBTRACT]="source-over",n),i._activeBlendMode=null,i._outerBlend=!1,i._projTransform=null,i.renderingToScreen=!1,rt("Canvas"),i.resize(i.options.width,i.options.height),i}return function(t,e){function r(){this.constructor=t}rs(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.render=function(t,e,r,n,i){if(this.view){this.renderingToScreen=!e,this.emit("prerender");var o=this.resolution;e?((e=e.castToBaseTexture())._canvasRenderTarget||(e._canvasRenderTarget=new Ct(e.width,e.height,e.resolution),e.resource=new He.CanvasResource(e._canvasRenderTarget.canvas),e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext;var a=this.context;if(this._projTransform=n||null,e||(this._lastObjectRendered=t),!i){var s=t.enableTempParent();t.updateTransform(),t.disableTempParent(s)}if(a.save(),a.setTransform(1,0,0,1,0,0),a.globalAlpha=1,this._activeBlendMode=R.NORMAL,this._outerBlend=!1,a.globalCompositeOperation=this.blendModes[R.NORMAL],void 0!==r?r:this.clearBeforeRender)if(this.renderingToScreen)this.transparent?a.clearRect(0,0,this.width,this.height):(a.fillStyle=this._backgroundColorString,a.fillRect(0,0,this.width,this.height));else{(e=e)._canvasRenderTarget.clear();var u=e.clearColor;u[3]>0&&(a.fillStyle=ot(st(u)),a.fillRect(0,0,e.realWidth,e.realHeight))}var h=this.context;this.context=a,t.renderCanvas(this),this.context=h,a.restore(),this.resolution=o,this._projTransform=null,this.emit("postrender")}},e.prototype.setContextTransform=function(t,e,r){var n=t,i=this._projTransform,o=this.resolution;r=r||o,i&&((n=as).copyFrom(t),n.prepend(i)),e?this.context.setTransform(n.a*r,n.b*r,n.c*r,n.d*r,n.tx*o|0,n.ty*o|0):this.context.setTransform(n.a*r,n.b*r,n.c*r,n.d*r,n.tx*o,n.ty*o)},e.prototype.clear=function(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)},e.prototype.setBlendMode=function(t,e){var r=t===R.SRC_IN||t===R.SRC_OUT||t===R.DST_IN||t===R.DST_ATOP;!e&&r&&(t=R.NORMAL),this._activeBlendMode!==t&&(this._activeBlendMode=t,this._outerBlend=r,this.context.globalCompositeOperation=this.blendModes[t])},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.smoothProperty&&(this.rootContext[this.smoothProperty]=W.SCALE_MODE===k.LINEAR)},e.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},e.registerPlugin=function(t,r){e.__plugins=e.__plugins||{},e.__plugins[t]=r},e}(En),us={canvas:null,getTintedCanvas:function(t,e){var r=t.texture,n="#"+("00000"+(0|(e=us.roundColor(e))).toString(16)).substr(-6);r.tintCache=r.tintCache||{};var i,o=r.tintCache[n];if(o){if(o.tintId===r._updateID)return r.tintCache[n];i=r.tintCache[n]}else i=document.createElement("canvas");if(us.tintMethod(r,e,i),i.tintId=r._updateID,us.convertTintToImage){var a=new Image;a.src=i.toDataURL(),r.tintCache[n]=a}else r.tintCache[n]=i;return i},getTintedPattern:function(t,e){var r="#"+("00000"+(0|(e=us.roundColor(e))).toString(16)).substr(-6);t.patternCache=t.patternCache||{};var n=t.patternCache[r];return n&&n.tintId===t._updateID||(us.canvas||(us.canvas=document.createElement("canvas")),us.tintMethod(t,e,us.canvas),(n=us.canvas.getContext("2d").createPattern(us.canvas,"repeat")).tintId=t._updateID,t.patternCache[r]=n),n},tintWithMultiply:function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.save(),n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="multiply";var a=t.baseTexture.getDrawableSource();n.drawImage(a,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(a,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.restore()},tintWithOverlay:function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.save(),n.globalCompositeOperation="copy",n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.getDrawableSource(),i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.restore()},tintWithPerPixel:function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.save(),n.globalCompositeOperation="copy",n.drawImage(t.baseTexture.getDrawableSource(),i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.restore();for(var a=it(e),s=a[0],u=a[1],h=a[2],c=n.getImageData(0,0,i.width,i.height),l=c.data,f=0;f<l.length;f+=4)l[f+0]*=s,l[f+1]*=u,l[f+2]*=h;n.putImageData(c,0,0)},roundColor:function(t){var e=us.cacheStepsPerColorChannel,r=it(t);return r[0]=Math.min(255,r[0]/e*e),r[1]=Math.min(255,r[1]/e*e),r[2]=Math.min(255,r[2]/e*e),st(r)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:os(),tintMethod:null};us.tintMethod=us.canUseMultiply?us.tintWithMultiply:us.tintWithPerPixel;var hs=Sn.create;Sn.create=function(t){if(!(t&&t.forceCanvas))try{return hs(t)}catch(t){}return new ss(t)},Ne.prototype.getDrawableSource=function(){var t=this.resource;return t?t.bitmap||t.source:null},qe.prototype._canvasRenderTarget=null,$e.prototype.patternCache=null,$e.prototype.tintCache=null;
/*!
 * @pixi/canvas-mesh - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/canvas-mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var cs=function(){function t(t){this.renderer=t}return t.prototype.render=function(t){var e=this.renderer,r=t.worldTransform;e.context.globalAlpha=t.worldAlpha,e.setBlendMode(t.blendMode),e.setContextTransform(r,t.roundPixels),t.drawMode!==D.TRIANGLES?this._renderTriangleMesh(t):this._renderTriangles(t)},t.prototype._renderTriangleMesh=function(t){for(var e=t.geometry.buffers[0].data.length,r=0;r<e-2;r++){var n=2*r;this._renderDrawTriangle(t,n,n+2,n+4)}},t.prototype._renderTriangles=function(t){for(var e=t.geometry.getIndex().data,r=e.length,n=0;n<r;n+=3){var i=2*e[n],o=2*e[n+1],a=2*e[n+2];this._renderDrawTriangle(t,i,o,a)}},t.prototype._renderDrawTriangle=function(t,e,r,n){var i=this.renderer.context,o=t.geometry.buffers[0].data,a=t.uvs,s=t.texture;if(s.valid){var u=16777215!==t.tint,h=s.baseTexture,c=h.width,l=h.height;u&&t._cachedTint!==t.tint&&(t._cachedTint=t.tint,t._tintedCanvas=us.getTintedCanvas(t,t.tint));var f=u?t._tintedCanvas:h.getDrawableSource(),d=a[e]*h.width,p=a[r]*h.width,v=a[n]*h.width,g=a[e+1]*h.height,m=a[r+1]*h.height,y=a[n+1]*h.height,b=o[e],x=o[r],_=o[n],w=o[e+1],T=o[r+1],E=o[n+1],S=t.canvasPadding/this.renderer.resolution;if(S>0){var I=S/Math.abs(t.worldTransform.a),A=S/Math.abs(t.worldTransform.d),P=(b+x+_)/3,M=(w+T+E)/3,O=b-P,C=w-M,R=Math.sqrt(O*O+C*C);b=P+O/R*(R+I),w=M+C/R*(R+A),C=T-M,x=P+(O=x-P)/(R=Math.sqrt(O*O+C*C))*(R+I),T=M+C/R*(R+A),C=E-M,_=P+(O=_-P)/(R=Math.sqrt(O*O+C*C))*(R+I),E=M+C/R*(R+A)}i.save(),i.beginPath(),i.moveTo(b,w),i.lineTo(x,T),i.lineTo(_,E),i.closePath(),i.clip();var D=d*m+g*v+p*y-m*v-g*p-d*y,N=b*m+g*_+x*y-m*_-g*x-b*y,L=d*x+b*v+p*_-x*v-b*p-d*_,F=d*m*_+g*x*v+b*p*y-b*m*v-g*p*_-d*x*y,k=w*m+g*E+T*y-m*E-g*T-w*y,U=d*T+w*v+p*E-T*v-w*p-d*E,B=d*m*E+g*T*v+w*p*y-w*m*v-g*p*E-d*T*y;i.transform(N/D,k/D,L/D,U/D,F/D,B/D),i.drawImage(f,0,0,c*h.resolution,l*h.resolution,0,0,c,l),i.restore(),this.renderer.invalidateBlendMode()}},t.prototype.renderMeshFlat=function(t){var e=this.renderer.context,r=t.geometry.getBuffer("aVertexPosition").data,n=r.length/2;e.beginPath();for(var i=1;i<n-2;++i){var o=2*i,a=r[o],s=r[o+1],u=r[o+2],h=r[o+3],c=r[o+4],l=r[o+5];e.moveTo(a,s),e.lineTo(u,h),e.lineTo(c,l)}e.fillStyle="#FF0000",e.fill(),e.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();W.MESH_CANVAS_PADDING=0,Wo.prototype._renderCanvas=function(t,e){t.plugins.mesh.render(e)},za.prototype._cachedTint=16777215,za.prototype._tintedCanvas=null,za.prototype._canvasUvs=null,za.prototype._renderCanvas=function(t){var e=t.context,r=this.worldTransform,n=16777215!==this.tint,i=this.texture;if(i.valid){n&&this._cachedTint!==this.tint&&(this._cachedTint=this.tint,this._tintedCanvas=us.getTintedCanvas(this,this.tint));var o=n?this._tintedCanvas:i.baseTexture.getDrawableSource();this._canvasUvs||(this._canvasUvs=[0,0,0,0,0,0,0,0]);var a=this.vertices,s=this._canvasUvs,u=n?0:i.frame.x,h=n?0:i.frame.y,c=u+i.frame.width,l=h+i.frame.height;s[0]=u,s[1]=u+this._leftWidth,s[2]=c-this._rightWidth,s[3]=c,s[4]=h,s[5]=h+this._topHeight,s[6]=l-this._bottomHeight,s[7]=l;for(var f=0;f<8;f++)s[f]*=i.baseTexture.resolution;e.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode),t.setContextTransform(r,this.roundPixels);for(var d=0;d<3;d++)for(var p=0;p<3;p++){var v=2*p+8*d,g=Math.max(1,s[p+1]-s[p]),m=Math.max(1,s[d+5]-s[d+4]),y=Math.max(1,a[v+10]-a[v]),b=Math.max(1,a[v+11]-a[v+1]);e.drawImage(o,s[p],s[d+4],g,m,a[v],a[v+1],y,b)}}};var ls=!1;Yo.prototype._cachedTint=16777215,Yo.prototype._tintedCanvas=null,Yo.prototype._renderCanvas=function(t){this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.material._renderCanvas?this.material._renderCanvas(t,this):ls||(ls=!0,window.console&&console.warn("Mesh with custom shaders are not supported in CanvasRenderer."))},Yo.prototype._canvasPadding=null,Object.defineProperty(Yo.prototype,"canvasPadding",{get:function(){return null!==this._canvasPadding?this._canvasPadding:W.MESH_CANVAS_PADDING},set:function(t){this._canvasPadding=t}}),Wa.prototype._renderCanvas=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),this.shader.update&&this.shader.update(),this.calculateUvs(),this.material._renderCanvas(t,this)},Ha.prototype._renderCanvas=function(t){(this.autoUpdate||this.geometry._width!==this.shader.texture.height)&&(this.geometry._width=this.shader.texture.height,this.geometry.update()),this.shader.update&&this.shader.update(),this.calculateUvs(),this.material._renderCanvas(t,this)};
/*!
 * @pixi/canvas-graphics - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/canvas-graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var fs,ds=function(){function t(t){this.renderer=t,this._svgMatrix=null,this._tempMatrix=new Kt}return t.prototype._calcCanvasStyle=function(t,e){var r;return t.texture?t.texture.valid?(r=us.getTintedPattern(t.texture,e),this.setPatternTransform(r,t.matrix||Kt.IDENTITY)):r="#808080":r="#"+("00000"+(0|e).toString(16)).substr(-6),r},t.prototype.render=function(t){var e=this.renderer,r=e.context,n=t.worldAlpha,i=t.transform.worldTransform;e.setContextTransform(i),e.setBlendMode(t.blendMode);for(var o,a,s=t.geometry.graphicsData,u=(t.tint>>16&255)/255,h=(t.tint>>8&255)/255,c=(255&t.tint)/255,l=0;l<s.length;l++){var f=s[l],d=f.shape,p=f.fillStyle,v=f.lineStyle,g=0|f.fillStyle.color,m=0|f.lineStyle.color;if(f.matrix&&e.setContextTransform(i.copyTo(this._tempMatrix).append(f.matrix)),p.visible){var y=((g>>16&255)/255*u*255<<16)+((g>>8&255)/255*h*255<<8)+(255&g)/255*c*255;o=this._calcCanvasStyle(p,y)}if(v.visible){var b=((m>>16&255)/255*u*255<<16)+((m>>8&255)/255*h*255<<8)+(255&m)/255*c*255;a=this._calcCanvasStyle(v,b)}if(r.lineWidth=v.width,r.lineCap=v.cap,r.lineJoin=v.join,r.miterLimit=v.miterLimit,f.type===Ut.POLY){r.beginPath();var x=(P=d).points,_=f.holes,w=void 0,T=void 0,E=void 0,S=void 0;r.moveTo(x[0],x[1]);for(var I=2;I<x.length;I+=2)r.lineTo(x[I],x[I+1]);if(P.closeStroke&&r.closePath(),_.length>0){w=0,E=x[0],S=x[1];for(I=2;I+2<x.length;I+=2)w+=(x[I]-E)*(x[I+3]-S)-(x[I+2]-E)*(x[I+1]-S);for(var A=0;A<_.length;A++)if(x=_[A].shape.points){T=0,E=x[0],S=x[1];for(I=2;I+2<x.length;I+=2)T+=(x[I]-E)*(x[I+3]-S)-(x[I+2]-E)*(x[I+1]-S);if(T*w<0){r.moveTo(x[0],x[1]);for(I=2;I<x.length;I+=2)r.lineTo(x[I],x[I+1])}else{r.moveTo(x[x.length-2],x[x.length-1]);for(I=x.length-4;I>=0;I-=2)r.lineTo(x[I],x[I+1])}_[A].shape.closeStroke&&r.closePath()}}p.visible&&(r.globalAlpha=p.alpha*n,r.fillStyle=o,r.fill()),v.visible&&(r.globalAlpha=v.alpha*n,r.strokeStyle=a,r.stroke())}else if(f.type===Ut.RECT){var P=d;p.visible&&(r.globalAlpha=p.alpha*n,r.fillStyle=o,r.fillRect(P.x,P.y,P.width,P.height)),v.visible&&(r.globalAlpha=v.alpha*n,r.strokeStyle=a,r.strokeRect(P.x,P.y,P.width,P.height))}else if(f.type===Ut.CIRC){P=d;r.beginPath(),r.arc(P.x,P.y,P.radius,0,2*Math.PI),r.closePath(),p.visible&&(r.globalAlpha=p.alpha*n,r.fillStyle=o,r.fill()),v.visible&&(r.globalAlpha=v.alpha*n,r.strokeStyle=a,r.stroke())}else if(f.type===Ut.ELIP){var M=2*(P=d).width,O=2*P.height,C=P.x-M/2,R=P.y-O/2;r.beginPath();var D=M/2*.5522848,N=O/2*.5522848,L=C+M,F=R+O,k=C+M/2,U=R+O/2;r.moveTo(C,U),r.bezierCurveTo(C,U-N,k-D,R,k,R),r.bezierCurveTo(k+D,R,L,U-N,L,U),r.bezierCurveTo(L,U+N,k+D,F,k,F),r.bezierCurveTo(k-D,F,C,U+N,C,U),r.closePath(),p.visible&&(r.globalAlpha=p.alpha*n,r.fillStyle=o,r.fill()),v.visible&&(r.globalAlpha=v.alpha*n,r.strokeStyle=a,r.stroke())}else if(f.type===Ut.RREC){var B=(P=d).x,j=P.y,V=P.width,X=P.height,G=P.radius,H=Math.min(V,X)/2|0;G=G>H?H:G,r.beginPath(),r.moveTo(B,j+G),r.lineTo(B,j+X-G),r.quadraticCurveTo(B,j+X,B+G,j+X),r.lineTo(B+V-G,j+X),r.quadraticCurveTo(B+V,j+X,B+V,j+X-G),r.lineTo(B+V,j+G),r.quadraticCurveTo(B+V,j,B+V-G,j),r.lineTo(B+G,j),r.quadraticCurveTo(B,j,B,j+G),r.closePath(),p.visible&&(r.globalAlpha=p.alpha*n,r.fillStyle=o,r.fill()),v.visible&&(r.globalAlpha=v.alpha*n,r.strokeStyle=a,r.stroke())}}},t.prototype.setPatternTransform=function(t,e){if(!1!==this._svgMatrix){if(!this._svgMatrix){var r=document.createElementNS("http://www.w3.org/2000/svg","svg");if(r&&r.createSVGMatrix&&(this._svgMatrix=r.createSVGMatrix()),!this._svgMatrix||!t.setTransform)return void(this._svgMatrix=!1)}this._svgMatrix.a=e.a,this._svgMatrix.b=e.b,this._svgMatrix.c=e.c,this._svgMatrix.d=e.d,this._svgMatrix.e=e.tx,this._svgMatrix.f=e.ty,t.setTransform(this._svgMatrix.inverse())}},t.prototype.destroy=function(){this.renderer=null,this._svgMatrix=null,this._tempMatrix=null},t}(),ps=new Kt;Ji.prototype.generateCanvasTexture=function(t,e){void 0===e&&(e=1);var r=this.getLocalBounds(),n=Qe.create({width:r.width,height:r.height,scaleMode:t,resolution:e});fs||(fs=new ss),this.transform.updateLocalTransform(),this.transform.localTransform.copyTo(ps),ps.invert(),ps.tx-=r.x,ps.ty-=r.y,fs.render(this,n,!0,ps);var i=$e.from(n.baseTexture._canvasRenderTarget.canvas,{scaleMode:t});return i.baseTexture.setResolution(e),i},Ji.prototype.cachedGraphicsData=[],Ji.prototype._renderCanvas=function(t){!0!==this.isMask&&(this.finishPoly(),t.plugins.graphics.render(this))};
/*!
 * @pixi/canvas-sprite - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/canvas-sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var vs=new Kt,gs=function(){function t(t){this.renderer=t}return t.prototype.render=function(t){var e=t._texture,r=this.renderer,n=r.context,i=e._frame.width,o=e._frame.height,a=t.transform.worldTransform,s=0,u=0,h=e.baseTexture.getDrawableSource();if(!(e.orig.width<=0||e.orig.height<=0)&&e.valid&&h&&e.valid){r.setBlendMode(t.blendMode,!0),r.context.globalAlpha=t.worldAlpha;var c=e.baseTexture.scaleMode===k.LINEAR;r.smoothProperty&&r.context[r.smoothProperty]!==c&&(n[r.smoothProperty]=c),e.trim?(s=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,u=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(s=(.5-t.anchor.x)*e.orig.width,u=(.5-t.anchor.y)*e.orig.height),e.rotate&&(a.copyTo(vs),a=vs,ne.matrixAppendRotationInv(a,e.rotate,s,u),s=0,u=0),s-=i/2,u-=o/2,r.setContextTransform(a,t.roundPixels,1),t.roundPixels&&(s|=0,u|=0);var l=e.baseTexture.resolution,f=r._outerBlend;f&&(n.save(),n.beginPath(),n.rect(s*r.resolution,u*r.resolution,i*r.resolution,o*r.resolution),n.clip()),16777215!==t.tint?(t._cachedTint===t.tint&&t._tintedCanvas.tintId===t._texture._updateID||(t._cachedTint=t.tint,t._tintedCanvas=us.getTintedCanvas(t,t.tint)),n.drawImage(t._tintedCanvas,0,0,Math.floor(i*l),Math.floor(o*l),Math.floor(s*r.resolution),Math.floor(u*r.resolution),Math.floor(i*r.resolution),Math.floor(o*r.resolution))):n.drawImage(h,e._frame.x*l,e._frame.y*l,Math.floor(i*l),Math.floor(o*l),Math.floor(s*r.resolution),Math.floor(u*r.resolution),Math.floor(i*r.resolution),Math.floor(o*r.resolution)),f&&n.restore(),r.setBlendMode(R.NORMAL)}},t.prototype.destroy=function(){this.renderer=null},t}();no.prototype._tintedCanvas=null,no.prototype._renderCanvas=function(t){t.plugins.sprite.render(this)};
/*!
 * @pixi/canvas-extract - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/canvas-extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var ms=new Xt,ys=function(){function t(t){this.renderer=t}return t.prototype.image=function(t,e,r){var n=new Image;return n.src=this.base64(t,e,r),n},t.prototype.base64=function(t,e,r){return this.canvas(t).toDataURL(e,r)},t.prototype.canvas=function(t){var e,r,n,i,o=this.renderer;t&&(i=t instanceof Qe?t:o.generateTexture(t)),i?(e=i.baseTexture._canvasRenderTarget.context,r=i.baseTexture._canvasRenderTarget.resolution,n=i.frame):(e=o.rootContext,r=o.resolution,(n=ms).width=this.renderer.width,n.height=this.renderer.height);var a=Math.floor(n.width*r+1e-4),s=Math.floor(n.height*r+1e-4),u=new Ct(a,s,1),h=e.getImageData(n.x*r,n.y*r,a,s);return u.context.putImageData(h,0,0),u.canvas},t.prototype.pixels=function(t){var e,r,n,i,o=this.renderer;return t&&(i=t instanceof Qe?t:o.generateTexture(t)),i?(e=i.baseTexture._canvasRenderTarget.context,r=i.baseTexture._canvasRenderTarget.resolution,n=i.frame):(e=o.rootContext,(n=ms).width=o.width,n.height=o.height),e.getImageData(0,0,n.width*r,n.height*r).data},t.prototype.destroy=function(){this.renderer=null},t}();Object.defineProperty(ss.prototype,"extract",{get:function(){return St("v5.3.0","CanvasRenderer#extract is deprecated, use CanvasRenderer#plugins.extract"),this.plugins.extract}});
/*!
 * @pixi/canvas-prepare - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/canvas-prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var bs=function(t,e){return(bs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function xs(t,e){var r=t;if(e instanceof Ne){var n=e.source,i=0===n.width?r.canvas.width:Math.min(r.canvas.width,n.width),o=0===n.height?r.canvas.height:Math.min(r.canvas.height,n.height);return r.ctx.drawImage(n,0,0,i,o,0,0,r.canvas.width,r.canvas.height),!0}return!1}var _s=function(t){function e(e){var r=t.call(this,e)||this;return r.uploadHookHelper=r,r.canvas=document.createElement("canvas"),r.canvas.width=16,r.canvas.height=16,r.ctx=r.canvas.getContext("2d"),r.registerUploadHook(xs),r}return function(t,e){function r(){this.constructor=t}bs(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.ctx=null,this.canvas=null},e}(So);
/*!
 * @pixi/canvas-sprite-tiling - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/canvas-sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Fo.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.valid){var r=t.context,n=this.worldTransform,i=e.baseTexture,o=i.getDrawableSource(),a=i.resolution,s=this.tilePosition.x/this.tileScale.x%e._frame.width*a,u=this.tilePosition.y/this.tileScale.y%e._frame.height*a;if(this._textureID!==this._texture._updateID||this._cachedTint!==this.tint){this._textureID=this._texture._updateID;var h=new Ct(e._frame.width,e._frame.height,a);16777215!==this.tint?(this._tintedCanvas=us.getTintedCanvas(this,this.tint),h.context.drawImage(this._tintedCanvas,0,0)):h.context.drawImage(o,-e._frame.x*a,-e._frame.y*a),this._cachedTint=this.tint,this._canvasPattern=h.context.createPattern(h.canvas,"repeat")}r.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode),t.setContextTransform(n),r.fillStyle=this._canvasPattern,r.scale(this.tileScale.x/a,this.tileScale.y/a);var c=this.anchor.x*-this._width,l=this.anchor.y*-this._height;this.uvRespectAnchor?(r.translate(s,u),r.fillRect(-s+c,-u+l,this._width/this.tileScale.x*a,this._height/this.tileScale.y*a)):(r.translate(s+c,u+l),r.fillRect(-s,-u,this._width/this.tileScale.x*a,this._height/this.tileScale.y*a))}},
/*!
 * @pixi/canvas-particles - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/canvas-particles is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
bi.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,r=this.worldTransform,n=!0,i=0,o=0,a=0,s=0;t.setBlendMode(this.blendMode),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var u=0;u<this.children.length;++u){var h=this.children[u];if(h.visible&&h._texture.valid){var c=h._texture.frame;if(e.globalAlpha=this.worldAlpha*h.alpha,h.rotation%(2*Math.PI)==0)n&&(t.setContextTransform(r,!1,1),n=!1),i=h.anchor.x*(-c.width*h.scale.x)+h.position.x+.5,o=h.anchor.y*(-c.height*h.scale.y)+h.position.y+.5,a=c.width*h.scale.x,s=c.height*h.scale.y;else{n||(n=!0),h.displayObjectUpdateTransform();var l=h.worldTransform;t.setContextTransform(l,this.roundPixels,1),i=h.anchor.x*-c.width+.5,o=h.anchor.y*-c.height+.5,a=c.width,s=c.height}var f=h._texture.baseTexture.resolution;e.drawImage(h._texture.baseTexture.getDrawableSource(),c.x*f,c.y*f,c.width*f,c.height*f,i*t.resolution,o*t.resolution,a*t.resolution,s*t.resolution)}}}},
/*!
 * @pixi/canvas-display - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/canvas-display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
le.prototype._renderCanvas=function(t){},le.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},ue.prototype.renderCanvas=function(t){},
/*!
 * @pixi/canvas-text - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/canvas-text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
vo.prototype._renderCanvas=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),no.prototype._renderCanvas.call(this,t)},
/*!
 * pixi.js-legacy - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * pixi.js-legacy is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
ss.registerPlugin("accessibility",pe),ss.registerPlugin("extract",ys),ss.registerPlugin("graphics",ds),ss.registerPlugin("interaction",Se),ss.registerPlugin("mesh",cs),ss.registerPlugin("prepare",_s),ss.registerPlugin("sprite",gs)},function(t,e,r){(function(e){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof e&&e)||Function("return this")()}).call(this,r(52))},function(t,e,r){var n=r(1),i=r(116),o=r(13),a=r(21),s=r(50),u=r(75),h=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,r,c,l){var f,d,p,v,g,m,y,b=a(e,r,c?2:1);if(l)f=t;else{if("function"!=typeof(d=s(t)))throw TypeError("Target is not iterable");if(i(d)){for(p=0,v=o(t.length);v>p;p++)if((g=c?b(n(y=t[p])[0],y[1]):b(t[p]))&&g instanceof h)return g;return new h(!1)}f=d.call(t)}for(m=f.next;!(y=m.call(f)).done;)if("object"==typeof(g=u(f,b,y.value,c))&&g&&g instanceof h)return g;return new h(!1)}).stop=function(t){return new h(!0,t)}},function(t,e,r){var n=r(6),i=r(84),o=r(18),a=r(67),s=r(114),u=r(150),h=i("wks"),c=n.Symbol,l=u?c:c&&c.withoutSetter||a;t.exports=function(t){return o(h,t)||(s&&o(c,t)?h[t]=c[t]:h[t]=l("Symbol."+t)),h[t]}},function(t,e,r){var n=r(2);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,r){"use strict";r.d(e,"c",(function(){return i})),r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return a})),r.d(e,"d",(function(){return s}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function i(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var o=function(){return(o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))}function s(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;Object.create},function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return s})),r.d(e,"b",(function(){return v})),r.d(e,"c",(function(){return p})),r.d(e,"d",(function(){return d})),r.d(e,"e",(function(){return w})),r.d(e,"f",(function(){return y})),r.d(e,"g",(function(){return b})),r.d(e,"h",(function(){return o})),r.d(e,"i",(function(){return a})),r.d(e,"j",(function(){return h})),r.d(e,"k",(function(){return c})),r.d(e,"l",(function(){return l})),r.d(e,"m",(function(){return u})),r.d(e,"n",(function(){return f}));var n=r(205),i=function(t){for(var e=[],r=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=63&i|128):55296==(64512&i)&&n+1<t.length&&56320==(64512&t.charCodeAt(n+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++n)),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=63&i|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=63&i|128)}return e};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function o(t){return a(void 0,t)}function a(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)e.hasOwnProperty(r)&&(t[r]=a(t[r],e[r]));return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,r){t.resolve=e,t.reject=r}))}return t.prototype.wrapCallback=function(t){var e=this;return function(r,n){r?e.reject(r):e.resolve(n),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(r):t(r,n))}},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(t){return!1}}function h(){return"object"==typeof self&&self.self===self}function c(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function l(){return"indexedDB"in self&&null!=indexedDB}function f(){return new Promise((function(t,e){try{var r=!0,n="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(n);i.onsuccess=function(){i.result.close(),r||window.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=function(){r=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}}))}function d(){return!(!navigator||!navigator.cookieEnabled)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p=function(t){function e(r,n,i){var o=t.call(this,n)||this;return o.code=r,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,v.prototype.create),o}return Object(n.a)(e,t),e}(Error),v=function(){function t(t,e,r){this.service=t,this.serviceName=e,this.errors=r}return t.prototype.create=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?g(o,n):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new p(i,s,n);return u},t}();function g(t,e){return t.replace(m,(function(t,r){var n=e[r];return null!=n?String(n):"<"+r+"?>"}))}var m=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function y(t,e){return Object.prototype.hasOwnProperty.call(t,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var r=this.W_;if("string"==typeof t)for(var n=0;n<16;n++)r[n]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(n=0;n<16;n++)r[n]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(n=16;n<80;n++){var i=r[n-3]^r[n-8]^r[n-14]^r[n-16];r[n]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],h=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(n=0;n<80;n++){n<40?n<20?(o=c^u&(h^c),a=1518500249):(o=u^h^c,a=1859775393):n<60?(o=u&h|c&(u|h),a=2400959708):(o=u^h^c,a=3395469782);i=(s<<5|s>>>27)+o+l+a+r[n]&4294967295;l=c,c=h,h=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var r=e-this.blockSize,n=0,i=this.buf_,o=this.inbuf_;n<e;){if(0===o)for(;n<=r;)this.compress_(t,n),n+=this.blockSize;if("string"==typeof t){for(;n<e;)if(i[o]=t.charCodeAt(n),++n,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;n<e;)if(i[o]=t[n],++n,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&e,e/=256;this.compress_(this.buf_);var n=0;for(r=0;r<5;r++)for(var i=24;i>=0;i-=8)t[n]=this.chain_[r]>>i&255,++n;return t}}();function b(t,e){var r=new x(t,e);return r.subscribe.bind(r)}var x=function(){function t(t,e){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(r)})).catch((function(t){r.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,r){var n,i=this;if(void 0===t&&void 0===e&&void 0===r)throw new Error("Missing Observer.");void 0===(n=function(t,e){if("object"!=typeof t||null===t)return!1;for(var r=0,n=e;r<n.length;r++){var i=n[r];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:r}).next&&(n.next=_),void 0===n.error&&(n.error=_),void 0===n.complete&&(n.complete=_);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?n.error(i.finalError):n.complete()}catch(t){}})),this.observers.push(n),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var r=this;this.task.then((function(){if(void 0!==r.observers&&void 0!==r.observers[t])try{e(r.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function _(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w(t,e,r){void 0===e&&(e=1e3),void 0===r&&(r=2);var n=e*Math.pow(r,t),i=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+i)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}).call(this,r(52))},function(t,e,r){var n=r(32),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},function(t,e,r){var n=r(9),i=r(146),o=r(1),a=r(36),s=Object.defineProperty;e.f=n?s:function(t,e,r){if(o(t),e=a(e,!0),o(r),i)try{return s(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},function(t,e,r){"use strict";var n,i=r(134),o=r(9),a=r(6),s=r(10),u=r(18),h=r(74),c=r(19),l=r(27),f=r(14).f,d=r(28),p=r(51),v=r(8),g=r(67),m=a.Int8Array,y=m&&m.prototype,b=a.Uint8ClampedArray,x=b&&b.prototype,_=m&&d(m),w=y&&d(y),T=Object.prototype,E=T.isPrototypeOf,S=v("toStringTag"),I=g("TYPED_ARRAY_TAG"),A=i&&!!p&&"Opera"!==h(a.opera),P=!1,M={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},O=function(t){return s(t)&&u(M,h(t))};for(n in M)a[n]||(A=!1);if((!A||"function"!=typeof _||_===Function.prototype)&&(_=function(){throw TypeError("Incorrect invocation")},A))for(n in M)a[n]&&p(a[n],_);if((!A||!w||w===T)&&(w=_.prototype,A))for(n in M)a[n]&&p(a[n].prototype,w);if(A&&d(x)!==w&&p(x,w),o&&!u(w,S))for(n in P=!0,f(w,S,{get:function(){return s(this)?this[I]:void 0}}),M)a[n]&&c(a[n],I,n);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:A,TYPED_ARRAY_TAG:P&&I,aTypedArray:function(t){if(O(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(p){if(E.call(_,t))return t}else for(var e in M)if(u(M,n)){var r=a[e];if(r&&(t===r||E.call(r,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,r){if(o){if(r)for(var n in M){var i=a[n];i&&u(i.prototype,t)&&delete i.prototype[t]}w[t]&&!r||l(w,t,r?e:A&&y[t]||e)}},exportTypedArrayStaticMethod:function(t,e,r){var n,i;if(o){if(p){if(r)for(n in M)(i=a[n])&&u(i,t)&&delete i[t];if(_[t]&&!r)return;try{return l(_,t,r?e:A&&m[t]||e)}catch(t){}}for(n in M)!(i=a[n])||i[t]&&!r||l(i,t,e)}},isView:function(t){var e=h(t);return"DataView"===e||u(M,e)},isTypedArray:O,TypedArray:_,TypedArrayPrototype:w}},function(t,e,r){var n=r(38),i=r(6),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(n[t])||o(i[t]):n[t]&&n[t][e]||i[t]&&i[t][e]}},function(t,e,r){var n=r(24);t.exports=function(t){return Object(n(t))}},function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},function(t,e,r){var n=r(9),i=r(14),o=r(43);t.exports=n?function(t,e,r){return i.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},function(t,e,r){var n,i,o,a=r(147),s=r(6),u=r(10),h=r(19),c=r(18),l=r(83),f=r(68),d=s.WeakMap;if(a){var p=new d,v=p.get,g=p.has,m=p.set;n=function(t,e){return m.call(p,t,e),e},i=function(t){return v.call(p,t)||{}},o=function(t){return g.call(p,t)}}else{var y=l("state");f[y]=!0,n=function(t,e){return h(t,y,e),e},i=function(t){return c(t,y)?t[y]:{}},o=function(t){return c(t,y)}}t.exports={set:n,get:i,has:o,enforce:function(t){return o(t)?i(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!u(e)||(r=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}}},function(t,e,r){var n=r(3);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,r){var n=r(38),i=r(18),o=r(153),a=r(14).f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},function(t,e,r){var n=r(1),i=r(3),o=r(8)("species");t.exports=function(t,e){var r,a=n(t).constructor;return void 0===a||null==(r=n(a)[o])?e:i(r)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,r){var n=r(21),i=r(66),o=r(17),a=r(13),s=r(71),u=[].push,h=function(t){var e=1==t,r=2==t,h=3==t,c=4==t,l=6==t,f=5==t||l;return function(d,p,v,g){for(var m,y,b=o(d),x=i(b),_=n(p,v,3),w=a(x.length),T=0,E=g||s,S=e?E(d,w):r?E(d,0):void 0;w>T;T++)if((f||T in x)&&(y=_(m=x[T],T,b),t))if(e)S[T]=y;else if(y)switch(t){case 3:return!0;case 5:return m;case 6:return T;case 2:u.call(S,m)}else if(c)return!1;return l?-1:h||c?c:S}};t.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6)}},function(t,e,r){var n=r(9),i=r(82),o=r(43),a=r(31),s=r(36),u=r(18),h=r(146),c=Object.getOwnPropertyDescriptor;e.f=n?c:function(t,e){if(t=a(t),e=s(e,!0),h)try{return c(t,e)}catch(t){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e,r){var n=r(6),i=r(19),o=r(18),a=r(108),s=r(109),u=r(20),h=u.get,c=u.enforce,l=String(String).split("String");(t.exports=function(t,e,r,s){var u=!!s&&!!s.unsafe,h=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof r&&("string"!=typeof e||o(r,"name")||i(r,"name",e),c(r).source=l.join("string"==typeof e?e:"")),t!==n?(u?!f&&t[e]&&(h=!0):delete t[e],h?t[e]=r:i(t,e,r)):h?t[e]=r:a(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&h(this).source||s(this)}))},function(t,e,r){var n=r(18),i=r(17),o=r(83),a=r(118),s=o("IE_PROTO"),u=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=i(t),n(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e,r){var n,i=r(1),o=r(115),a=r(112),s=r(68),u=r(151),h=r(107),c=r(83),l=c("IE_PROTO"),f=function(){},d=function(t){return"<script>"+t+"<\/script>"},p=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;p=n?function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e}(n):((e=h("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F);for(var r=a.length;r--;)delete p.prototype[a[r]];return p()};s[l]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(f.prototype=i(t),r=new f,f.prototype=null,r[l]=t):r=p(),void 0===e?r:o(r,e)}},function(t,e,r){var n=r(9),i=r(2),o=r(18),a=Object.defineProperty,s={},u=function(t){throw t};t.exports=function(t,e){if(o(s,t))return s[t];e||(e={});var r=[][t],h=!!o(e,"ACCESSORS")&&e.ACCESSORS,c=o(e,0)?e[0]:u,l=o(e,1)?e[1]:void 0;return s[t]=!!r&&!i((function(){if(h&&!n)return!0;var t={length:-1};h?a(t,1,{enumerable:!0,get:u}):t[1]=1,r.call(t,c,l)}))}},function(t,e,r){var n=r(66),i=r(24);t.exports=function(t){return n(i(t))}},function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},function(t,e,r){var n=r(24),i=/"/g;t.exports=function(t,e,r,o){var a=String(n(t)),s="<"+e;return""!==r&&(s+=" "+r+'="'+String(o).replace(i,"&quot;")+'"'),s+">"+a+"</"+e+">"}},function(t,e,r){var n=r(2);t.exports=function(t){return n((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e,r){var n=r(10);t.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e,r){if(!(t instanceof e))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return t}},function(t,e,r){var n=r(6);t.exports=n},function(t,e,r){var n=r(14).f,i=r(18),o=r(8)("toStringTag");t.exports=function(t,e,r){t&&!i(t=r?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},function(t,e,r){var n=r(8),i=r(29),o=r(14),a=n("unscopables"),s=Array.prototype;null==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),t.exports=function(t){s[a][t]=!0}},function(t,e,r){var n=r(4),i=r(80);t.exports=n?i:function(t){return Map.prototype.entries.call(t)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e,r,n){void 0===r&&(r=!1),i(this,t),this._fn=e,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return n(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function a(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var s=function(){function t(){i(this,t),this._head=this._tail=void 0}return n(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r}},{key:"has",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return a(this,new o(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return a(this,new o(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();s.MiniSignalBinding=o,e.default=s,t.exports=e.default},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,r){"use strict";var n=r(2);t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){throw 1},1)}))}},function(t,e,r){var n=r(27);t.exports=function(t,e,r){for(var i in e)n(t,i,e[i],r);return t}},function(t,e,r){"use strict";var n=r(0),i=r(6),o=r(9),a=r(135),s=r(15),u=r(100),h=r(37),c=r(43),l=r(19),f=r(13),d=r(183),p=r(184),v=r(36),g=r(18),m=r(74),y=r(10),b=r(29),x=r(51),_=r(53).f,w=r(185),T=r(25).forEach,E=r(56),S=r(14),I=r(26),A=r(20),P=r(96),M=A.get,O=A.set,C=S.f,R=I.f,D=Math.round,N=i.RangeError,L=u.ArrayBuffer,F=u.DataView,k=s.NATIVE_ARRAY_BUFFER_VIEWS,U=s.TYPED_ARRAY_TAG,B=s.TypedArray,j=s.TypedArrayPrototype,V=s.aTypedArrayConstructor,X=s.isTypedArray,G=function(t,e){for(var r=0,n=e.length,i=new(V(t))(n);n>r;)i[r]=e[r++];return i},H=function(t,e){C(t,e,{get:function(){return M(this)[e]}})},Y=function(t){var e;return t instanceof L||"ArrayBuffer"==(e=m(t))||"SharedArrayBuffer"==e},W=function(t,e){return X(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},z=function(t,e){return W(t,e=v(e,!0))?c(2,t[e]):R(t,e)},q=function(t,e,r){return!(W(t,e=v(e,!0))&&y(r)&&g(r,"value"))||g(r,"get")||g(r,"set")||r.configurable||g(r,"writable")&&!r.writable||g(r,"enumerable")&&!r.enumerable?C(t,e,r):(t[e]=r.value,t)};o?(k||(I.f=z,S.f=q,H(j,"buffer"),H(j,"byteOffset"),H(j,"byteLength"),H(j,"length")),n({target:"Object",stat:!0,forced:!k},{getOwnPropertyDescriptor:z,defineProperty:q}),t.exports=function(t,e,r){var o=t.match(/\d+$/)[0]/8,s=t+(r?"Clamped":"")+"Array",u="get"+t,c="set"+t,v=i[s],g=v,m=g&&g.prototype,S={},I=function(t,e){C(t,e,{get:function(){return function(t,e){var r=M(t);return r.view[u](e*o+r.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,n){var i=M(t);r&&(n=(n=D(n))<0?0:n>255?255:255&n),i.view[c](e*o+i.byteOffset,n,!0)}(this,e,t)},enumerable:!0})};k?a&&(g=e((function(t,e,r,n){return h(t,g,s),P(y(e)?Y(e)?void 0!==n?new v(e,p(r,o),n):void 0!==r?new v(e,p(r,o)):new v(e):X(e)?G(g,e):w.call(g,e):new v(d(e)),t,g)})),x&&x(g,B),T(_(v),(function(t){t in g||l(g,t,v[t])})),g.prototype=m):(g=e((function(t,e,r,n){h(t,g,s);var i,a,u,c=0,l=0;if(y(e)){if(!Y(e))return X(e)?G(g,e):w.call(g,e);i=e,l=p(r,o);var v=e.byteLength;if(void 0===n){if(v%o)throw N("Wrong length");if((a=v-l)<0)throw N("Wrong length")}else if((a=f(n)*o)+l>v)throw N("Wrong length");u=a/o}else u=d(e),i=new L(a=u*o);for(O(t,{buffer:i,byteOffset:l,byteLength:a,length:u,view:new F(i)});c<u;)I(t,c++)})),x&&x(g,B),m=g.prototype=b(j)),m.constructor!==g&&l(m,"constructor",g),U&&l(m,U,s),S[s]=g,n({global:!0,forced:g!=v,sham:!k},S),"BYTES_PER_ELEMENT"in g||l(g,"BYTES_PER_ELEMENT",o),"BYTES_PER_ELEMENT"in m||l(m,"BYTES_PER_ELEMENT",o),E(s)}):t.exports=function(){}},function(t,e,r){var n=r(132),i=r(133),o=r(84)("metadata"),a=o.store||(o.store=new i),s=function(t,e,r){var i=a.get(t);if(!i){if(!r)return;a.set(t,i=new n)}var o=i.get(e);if(!o){if(!r)return;i.set(e,o=new n)}return o};t.exports={store:a,getMap:s,has:function(t,e,r){var n=s(e,r,!1);return void 0!==n&&n.has(t)},get:function(t,e,r){var n=s(e,r,!1);return void 0===n?void 0:n.get(t)},set:function(t,e,r,n){s(r,n,!0).set(t,e)},keys:function(t,e){var r=s(t,e,!1),n=[];return r&&r.forEach((function(t,e){n.push(e)})),n},toKey:function(t){return void 0===t||"symbol"==typeof t?t:String(t)}}},function(t,e,r){var n=r(32),i=Math.max,o=Math.min;t.exports=function(t,e){var r=n(t);return r<0?i(r+e,0):o(r,e)}},function(t,e,r){var n=r(35);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,r){var n=r(74),i=r(73),o=r(8)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[n(t)]}},function(t,e,r){var n=r(1),i=r(157);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}return function(r,o){return n(r),i(o),e?t.call(r,o):r.__proto__=o,r}}():void 0)},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){var n=r(149),i=r(112).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},function(t,e,r){var n=r(68),i=r(10),o=r(18),a=r(14).f,s=r(67),u=r(72),h=s("meta"),c=0,l=Object.isExtensible||function(){return!0},f=function(t){a(t,h,{value:{objectID:"O"+ ++c,weakData:{}}})},d=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,h)){if(!l(t))return"F";if(!e)return"E";f(t)}return t[h].objectID},getWeakData:function(t,e){if(!o(t,h)){if(!l(t))return!0;if(!e)return!1;f(t)}return t[h].weakData},onFreeze:function(t){return u&&d.REQUIRED&&l(t)&&!o(t,h)&&f(t),t}};n[h]=!0},function(t,e,r){"use strict";var n=r(36),i=r(14),o=r(43);t.exports=function(t,e,r){var a=n(e);a in t?i.f(t,a,o(0,r)):t[a]=r}},function(t,e,r){"use strict";var n=r(16),i=r(14),o=r(8),a=r(9),s=o("species");t.exports=function(t){var e=n(t),r=i.f;a&&e&&!e[s]&&r(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,r){var n=r(4),i=r(80);t.exports=n?i:function(t){return Set.prototype.values.call(t)}},function(t,e,r){"use strict";var n=r(38),i=r(3),o=r(1),a=r(29),s=r(19),u=r(45),h=r(8),c=r(20),l=r(16)("Promise"),f=c.set,d=c.get,p=h("toStringTag"),v=function(t){var e=d(this).iterator,r=e.return;return void 0===r?l.resolve({done:!0,value:t}):o(r.call(e,t))},g=function(t){var e=d(this).iterator,r=e.throw;return void 0===r?l.reject(t):r.call(e,t)};t.exports=function(t,e){var r=function(t){t.next=i(t.iterator.next),t.done=!1,f(this,t)};return r.prototype=u(a(n.AsyncIterator.prototype),{next:function(e){var r=d(this);if(r.done)return l.resolve({done:!0,value:void 0});try{return l.resolve(o(t.call(r,e,l)))}catch(t){return l.reject(t)}},return:v,throw:g}),e||s(r.prototype,p,"Generator"),r}},function(t,e,r){"use strict";var n=r(38),i=r(3),o=r(1),a=r(29),s=r(19),u=r(45),h=r(8),c=r(20),l=c.set,f=c.get,d=h("toStringTag"),p=function(t){var e=f(this).iterator,r=e.return;return void 0===r?{done:!0,value:t}:o(r.call(e,t))},v=function(t){var e=f(this).iterator,r=e.throw;if(void 0===r)throw t;return r.call(e,t)};t.exports=function(t,e){var r=function(t){t.next=i(t.iterator.next),t.done=!1,l(this,t)};return r.prototype=u(a(n.Iterator.prototype),{next:function(){var e=f(this),r=e.done?void 0:t.apply(e,arguments);return{done:e.done,value:r}},return:p,throw:v}),e||s(r.prototype,d,"Generator"),r}},function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return i}));var n=r(11),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n.c)(e,t),e}(t.spine.Spine)}).call(this,r(5))},function(t,e,r){var n=r(149),i=r(112);t.exports=Object.keys||function(t){return n(t,i)}},function(t,e,r){"use strict";var n=r(122).IteratorPrototype,i=r(29),o=r(43),a=r(39),s=r(73),u=function(){return this};t.exports=function(t,e,r){var h=e+" Iterator";return t.prototype=i(n,{next:o(1,r)}),a(t,h,!1,!0),s[h]=u,t}},function(t,e,r){var n=r(32),i=r(24),o=function(t){return function(e,r){var o,a,s=String(i(e)),u=n(r),h=s.length;return u<0||u>=h?t?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===h||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},function(t,e,r){"use strict";var n=r(1);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,r){var n=r(24),i="["+r(95)+"]",o=RegExp("^"+i+i+"*"),a=RegExp(i+i+"*$"),s=function(t){return function(e){var r=String(n(e));return 1&t&&(r=r.replace(o,"")),2&t&&(r=r.replace(a,"")),r}};t.exports={start:s(1),end:s(2),trim:s(3)}},function(t,e,r){var n=r(2),i=r(35),o="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++r+n).toString(36)}},function(t,e){t.exports={}},function(t,e,r){var n=r(31),i=r(13),o=r(48),a=function(t){return function(e,r,a){var s,u=n(e),h=i(u.length),c=o(a,h);if(t&&r!=r){for(;h>c;)if((s=u[c++])!=s)return!0}else for(;h>c;c++)if((t||c in u)&&u[c]===r)return t||c||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,r){var n=r(2),i=/#|\.prototype\./,o=function(t,e){var r=s[a(t)];return r==h||r!=u&&("function"==typeof e?n(e):!!e)},a=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",h=o.POLYFILL="P";t.exports=o},function(t,e,r){var n=r(10),i=r(49),o=r(8)("species");t.exports=function(t,e){var r;return i(t)&&("function"!=typeof(r=t.constructor)||r!==Array&&!i(r.prototype)?n(r)&&null===(r=r[o])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},function(t,e,r){var n=r(2);t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e){t.exports={}},function(t,e,r){var n=r(117),i=r(35),o=r(8)("toStringTag"),a="Arguments"==i(function(){return arguments}());t.exports=n?i:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?r:a?i(e):"Object"==(n=i(e))&&"function"==typeof e.callee?"Arguments":n}},function(t,e,r){var n=r(1);t.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(e){var o=t.return;throw void 0!==o&&n(o.call(t)),e}}},function(t,e,r){var n=r(2),i=r(8),o=r(119),a=i("species");t.exports=function(t){return o>=51||!n((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,r){var n=r(10),i=r(35),o=r(8)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,r){"use strict";var n=r(3),i=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=n(e),this.reject=n(r)};t.exports.f=function(t){return new i(t)}},function(t,e,r){var n=r(32);t.exports=function(t){var e=n(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}},function(t,e,r){var n=r(1),i=r(50);t.exports=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return n(e.call(t))}},function(t,e,r){"use strict";var n=r(3),i=r(1),o=r(16)("Promise"),a=[].push,s=function(t){var e=0==t,r=1==t,s=2==t,u=3==t;return function(t,h){i(t);var c=n(t.next),l=e?[]:void 0;return e||n(h),new o((function(n,f){var d=function(){try{o.resolve(i(c.call(t))).then((function(t){try{if(i(t).done)n(e?l:!u&&(s||void 0));else{var c=t.value;e?(a.call(l,c),d()):o.resolve(h(c)).then((function(t){r?d():s?t?d():n(!1):t?n(u||c):d()}),f)}}catch(t){f(t)}}),f)}catch(t){f(t)}};d()}))}};t.exports={toArray:s(0),forEach:s(1),every:s(2),some:s(3),find:s(4)}},function(t,e,r){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!n.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:n},function(t,e,r){var n=r(84),i=r(67),o=n("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e,r){var n=r(4),i=r(110);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:n?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e,r){"use strict";var n=r(4),i=r(6),o=r(2);t.exports=n||!o((function(){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete i[t]}))},function(t,e,r){var n=r(8)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var r=!1;try{var o={};o[n]=function(){return{next:function(){return{done:r=!0}}}},t(o)}catch(t){}return r}},function(t,e,r){var n=r(16);t.exports=n("navigator","userAgent")||""},function(t,e,r){var n=r(3),i=r(17),o=r(66),a=r(13),s=function(t){return function(e,r,s,u){n(r);var h=i(e),c=o(h),l=a(h.length),f=t?l-1:0,d=t?-1:1;if(s<2)for(;;){if(f in c){u=c[f],f+=d;break}if(f+=d,t?f<0:l<=f)throw TypeError("Reduce of empty array with no initial value")}for(;t?f>=0:l>f;f+=d)f in c&&(u=r(u,c[f],f,h));return u}};t.exports={left:s(!1),right:s(!0)}},function(t,e,r){"use strict";var n=r(31),i=r(40),o=r(73),a=r(20),s=r(121),u=a.set,h=a.getterFor("Array Iterator");t.exports=s(Array,"Array",(function(t,e){u(this,{type:"Array Iterator",target:n(t),index:0,kind:e})}),(function(){var t=h(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,r){"use strict";r(125);var n=r(27),i=r(2),o=r(8),a=r(91),s=r(19),u=o("species"),h=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),c="$0"==="a".replace(/./,"$0"),l=o("replace"),f=!!/./[l]&&""===/./[l]("a","$0"),d=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));t.exports=function(t,e,r,l){var p=o(t),v=!i((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),g=v&&!i((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[u]=function(){return r},r.flags="",r[p]=/./[p]),r.exec=function(){return e=!0,null},r[p](""),!e}));if(!v||!g||"replace"===t&&(!h||!c||f)||"split"===t&&!d){var m=/./[p],y=r(p,""[t],(function(t,e,r,n,i){return e.exec===a?v&&!i?{done:!0,value:m.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),b=y[0],x=y[1];n(String.prototype,t,b),n(RegExp.prototype,p,2==e?function(t,e){return x.call(t,this,e)}:function(t){return x.call(t,this)})}l&&s(RegExp.prototype[p],"sham",!0)}},function(t,e,r){"use strict";var n,i,o=r(64),a=r(92),s=RegExp.prototype.exec,u=String.prototype.replace,h=s,c=(n=/a/,i=/b*/g,s.call(n,"a"),s.call(i,"a"),0!==n.lastIndex||0!==i.lastIndex),l=a.UNSUPPORTED_Y||a.BROKEN_CARET,f=void 0!==/()??/.exec("")[1];(c||f||l)&&(h=function(t){var e,r,n,i,a=this,h=l&&a.sticky,d=o.call(a),p=a.source,v=0,g=t;return h&&(-1===(d=d.replace("y","")).indexOf("g")&&(d+="g"),g=String(t).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==t[a.lastIndex-1])&&(p="(?: "+p+")",g=" "+g,v++),r=new RegExp("^(?:"+p+")",d)),f&&(r=new RegExp("^"+p+"$(?!\\s)",d)),c&&(e=a.lastIndex),n=s.call(h?r:a,g),h?n?(n.input=n.input.slice(v),n[0]=n[0].slice(v),n.index=a.lastIndex,a.lastIndex+=n[0].length):a.lastIndex=0:c&&n&&(a.lastIndex=a.global?n.index+n[0].length:e),f&&n&&n.length>1&&u.call(n[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)})),n}),t.exports=h},function(t,e,r){"use strict";var n=r(2);function i(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=n((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},function(t,e,r){"use strict";var n=r(63).charAt;t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},function(t,e,r){var n=r(35),i=r(91);t.exports=function(t,e){var r=t.exec;if("function"==typeof r){var o=r.call(t,e);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(t,e,r){var n=r(10),i=r(51);t.exports=function(t,e,r){var o,a;return i&&"function"==typeof(o=e.constructor)&&o!==r&&n(a=o.prototype)&&a!==r.prototype&&i(t,a),t}},function(t,e){var r=Math.expm1,n=Math.exp;t.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:n(t)-1}:r},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,r){"use strict";var n=r(0),i=r(6),o=r(70),a=r(27),s=r(54),u=r(7),h=r(37),c=r(10),l=r(2),f=r(86),d=r(39),p=r(96);t.exports=function(t,e,r){var v=-1!==t.indexOf("Map"),g=-1!==t.indexOf("Weak"),m=v?"set":"add",y=i[t],b=y&&y.prototype,x=y,_={},w=function(t){var e=b[t];a(b,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(g&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!c(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!c(t))&&e.call(this,0===t?0:t)}:function(t,r){return e.call(this,0===t?0:t,r),this})};if(o(t,"function"!=typeof y||!(g||b.forEach&&!l((function(){(new y).entries().next()})))))x=r.getConstructor(e,t,v,m),s.REQUIRED=!0;else if(o(t,!0)){var T=new x,E=T[m](g?{}:-0,1)!=T,S=l((function(){T.has(1)})),I=f((function(t){new y(t)})),A=!g&&l((function(){for(var t=new y,e=5;e--;)t[m](e,e);return!t.has(-0)}));I||((x=e((function(e,r){h(e,x,t);var n=p(new y,e,x);return null!=r&&u(r,n[m],n,v),n}))).prototype=b,b.constructor=x),(S||A)&&(w("delete"),w("has"),v&&w("get")),(A||E)&&w(m),g&&b.clear&&delete b.clear}return _[t]=x,n({global:!0,forced:x!=y},_),d(x,t),g||r.setStrong(x,t,v),x}},function(t,e,r){"use strict";var n=r(6),i=r(9),o=r(134),a=r(19),s=r(45),u=r(2),h=r(37),c=r(32),l=r(13),f=r(183),d=r(372),p=r(28),v=r(51),g=r(53).f,m=r(14).f,y=r(120),b=r(39),x=r(20),_=x.get,w=x.set,T=n.ArrayBuffer,E=T,S=n.DataView,I=S&&S.prototype,A=Object.prototype,P=n.RangeError,M=d.pack,O=d.unpack,C=function(t){return[255&t]},R=function(t){return[255&t,t>>8&255]},D=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},N=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},L=function(t){return M(t,23,4)},F=function(t){return M(t,52,8)},k=function(t,e){m(t.prototype,e,{get:function(){return _(this)[e]}})},U=function(t,e,r,n){var i=f(r),o=_(t);if(i+e>o.byteLength)throw P("Wrong index");var a=_(o.buffer).bytes,s=i+o.byteOffset,u=a.slice(s,s+e);return n?u:u.reverse()},B=function(t,e,r,n,i,o){var a=f(r),s=_(t);if(a+e>s.byteLength)throw P("Wrong index");for(var u=_(s.buffer).bytes,h=a+s.byteOffset,c=n(+i),l=0;l<e;l++)u[h+l]=c[o?l:e-l-1]};if(o){if(!u((function(){T(1)}))||!u((function(){new T(-1)}))||u((function(){return new T,new T(1.5),new T(NaN),"ArrayBuffer"!=T.name}))){for(var j,V=(E=function(t){return h(this,E),new T(f(t))}).prototype=T.prototype,X=g(T),G=0;X.length>G;)(j=X[G++])in E||a(E,j,T[j]);V.constructor=E}v&&p(I)!==A&&v(I,A);var H=new S(new E(2)),Y=I.setInt8;H.setInt8(0,2147483648),H.setInt8(1,2147483649),!H.getInt8(0)&&H.getInt8(1)||s(I,{setInt8:function(t,e){Y.call(this,t,e<<24>>24)},setUint8:function(t,e){Y.call(this,t,e<<24>>24)}},{unsafe:!0})}else E=function(t){h(this,E,"ArrayBuffer");var e=f(t);w(this,{bytes:y.call(new Array(e),0),byteLength:e}),i||(this.byteLength=e)},S=function(t,e,r){h(this,S,"DataView"),h(t,E,"DataView");var n=_(t).byteLength,o=c(e);if(o<0||o>n)throw P("Wrong offset");if(o+(r=void 0===r?n-o:l(r))>n)throw P("Wrong length");w(this,{buffer:t,byteLength:r,byteOffset:o}),i||(this.buffer=t,this.byteLength=r,this.byteOffset=o)},i&&(k(E,"byteLength"),k(S,"buffer"),k(S,"byteLength"),k(S,"byteOffset")),s(S.prototype,{getInt8:function(t){return U(this,1,t)[0]<<24>>24},getUint8:function(t){return U(this,1,t)[0]},getInt16:function(t){var e=U(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=U(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return N(U(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return N(U(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return O(U(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return O(U(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){B(this,1,t,C,e)},setUint8:function(t,e){B(this,1,t,C,e)},setInt16:function(t,e){B(this,2,t,R,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){B(this,2,t,R,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){B(this,4,t,D,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){B(this,4,t,D,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){B(this,4,t,L,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){B(this,8,t,F,e,arguments.length>2?arguments[2]:void 0)}});b(E,"ArrayBuffer"),b(S,"DataView"),t.exports={ArrayBuffer:E,DataView:S}},function(t,e,r){"use strict";var n=r(1),i=r(3);t.exports=function(){for(var t,e=n(this),r=i(e.delete),o=!0,a=0,s=arguments.length;a<s;a++)t=r.call(e,arguments[a]),o=o&&t;return!!o}},function(t,e,r){"use strict";var n=r(3),i=r(21),o=r(7);t.exports=function(t){var e,r,a,s,u=arguments.length,h=u>1?arguments[1]:void 0;return n(this),(e=void 0!==h)&&n(h),null==t?new this:(r=[],e?(a=0,s=i(h,u>2?arguments[2]:void 0,2),o(t,(function(t){r.push(s(t,a++))}))):o(t,r.push,r),new this(r))}},function(t,e,r){"use strict";t.exports=function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,r){"use strict";var n=r(214),i=r(215);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=b,e.resolve=function(t,e){return b(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?b(t,!1,!0).resolveObject(e):e},e.format=function(t){i.isString(t)&&(t=b(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(h),l=["%","/","?",";","#"].concat(c),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=r(216);function b(t,e,r){if(t&&i.isObject(t)&&t instanceof o)return t;var n=new o;return n.parse(t,e,r),n}o.prototype.parse=function(t,e,r){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),s=-1!==o&&o<t.indexOf("#")?"?":"#",h=t.split(s);h[0]=h[0].replace(/\\/g,"/");var b=t=h.join(s);if(b=b.trim(),!r&&1===t.split("#").length){var x=u.exec(b);if(x)return this.path=b,this.href=b,this.pathname=x[1],x[2]?(this.search=x[2],this.query=e?y.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var _=a.exec(b);if(_){var w=(_=_[0]).toLowerCase();this.protocol=w,b=b.substr(_.length)}if(r||_||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var T="//"===b.substr(0,2);!T||_&&g[_]||(b=b.substr(2),this.slashes=!0)}if(!g[_]&&(T||_&&!m[_])){for(var E,S,I=-1,A=0;A<f.length;A++){-1!==(P=b.indexOf(f[A]))&&(-1===I||P<I)&&(I=P)}-1!==(S=-1===I?b.lastIndexOf("@"):b.lastIndexOf("@",I))&&(E=b.slice(0,S),b=b.slice(S+1),this.auth=decodeURIComponent(E)),I=-1;for(A=0;A<l.length;A++){var P;-1!==(P=b.indexOf(l[A]))&&(-1===I||P<I)&&(I=P)}-1===I&&(I=b.length),this.host=b.slice(0,I),b=b.slice(I),this.parseHost(),this.hostname=this.hostname||"";var M="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!M)for(var O=this.hostname.split(/\./),C=(A=0,O.length);A<C;A++){var R=O[A];if(R&&!R.match(d)){for(var D="",N=0,L=R.length;N<L;N++)R.charCodeAt(N)>127?D+="x":D+=R[N];if(!D.match(d)){var F=O.slice(0,A),k=O.slice(A+1),U=R.match(p);U&&(F.push(U[1]),k.unshift(U[2])),k.length&&(b="/"+k.join(".")+b),this.hostname=F.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),M||(this.hostname=n.toASCII(this.hostname));var B=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+B,this.href+=this.host,M&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!v[w])for(A=0,C=c.length;A<C;A++){var V=c[A];if(-1!==b.indexOf(V)){var X=encodeURIComponent(V);X===V&&(X=escape(V)),b=b.split(V).join(X)}}var G=b.indexOf("#");-1!==G&&(this.hash=b.substr(G),b=b.slice(0,G));var H=b.indexOf("?");if(-1!==H?(this.search=b.substr(H),this.query=b.substr(H+1),e&&(this.query=y.parse(this.query)),b=b.slice(0,H)):e&&(this.search="",this.query={}),b&&(this.pathname=b),m[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var Y=this.search||"";this.path=B+Y}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,a="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var s=this.search||a&&"?"+a||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||m[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),e+o+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(s=s.replace("#","%23"))+n},o.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var r=new o,n=Object.keys(this),a=0;a<n.length;a++){var s=n[a];r[s]=this[s]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),h=0;h<u.length;h++){var c=u[h];"protocol"!==c&&(r[c]=t[c])}return m[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!m[t.protocol]){for(var l=Object.keys(t),f=0;f<l.length;f++){var d=l[f];r[d]=t[d]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||g[t.protocol])r.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var v=r.pathname||"",y=r.search||"";r.path=v+y}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),x=t.host||t.pathname&&"/"===t.pathname.charAt(0),_=x||b||r.host&&t.pathname,w=_,T=r.pathname&&r.pathname.split("/")||[],E=(p=t.pathname&&t.pathname.split("/")||[],r.protocol&&!m[r.protocol]);if(E&&(r.hostname="",r.port=null,r.host&&(""===T[0]?T[0]=r.host:T.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),_=_&&(""===p[0]||""===T[0])),x)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,T=p;else if(p.length)T||(T=[]),T.pop(),T=T.concat(p),r.search=t.search,r.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(E)r.hostname=r.host=T.shift(),(M=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=M.shift(),r.host=r.hostname=M.shift());return r.search=t.search,r.query=t.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!T.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var S=T.slice(-1)[0],I=(r.host||t.host||T.length>1)&&("."===S||".."===S)||""===S,A=0,P=T.length;P>=0;P--)"."===(S=T[P])?T.splice(P,1):".."===S?(T.splice(P,1),A++):A&&(T.splice(P,1),A--);if(!_&&!w)for(;A--;A)T.unshift("..");!_||""===T[0]||T[0]&&"/"===T[0].charAt(0)||T.unshift(""),I&&"/"!==T.join("/").substr(-1)&&T.push("");var M,O=""===T[0]||T[0]&&"/"===T[0].charAt(0);E&&(r.hostname=r.host=O?"":T.length?T.shift():"",(M=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=M.shift(),r.host=r.hostname=M.shift()));return(_=_||r.host&&T.length)&&!O&&T.unshift(""),T.length?r.pathname=T.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var t=this.host,e=s.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){var n=r(6),i=r(10),o=n.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},function(t,e,r){var n=r(6),i=r(19);t.exports=function(t,e){try{i(n,t,e)}catch(r){n[t]=e}return e}},function(t,e,r){var n=r(110),i=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return i.call(t)}),t.exports=n.inspectSource},function(t,e,r){var n=r(6),i=r(108),o=n["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=o},function(t,e,r){var n=r(16),i=r(53),o=r(113),a=r(1);t.exports=n("Reflect","ownKeys")||function(t){var e=i.f(a(t)),r=o.f;return r?e.concat(r(t)):e}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,r){var n=r(2);t.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},function(t,e,r){var n=r(9),i=r(14),o=r(1),a=r(61);t.exports=n?Object.defineProperties:function(t,e){o(t);for(var r,n=a(e),s=n.length,u=0;s>u;)i.f(t,r=n[u++],e[r]);return t}},function(t,e,r){var n=r(8),i=r(73),o=n("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},function(t,e,r){var n={};n[r(8)("toStringTag")]="z",t.exports="[object z]"===String(n)},function(t,e,r){var n=r(2);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,r){var n,i,o=r(6),a=r(87),s=o.process,u=s&&s.versions,h=u&&u.v8;h?i=(n=h.split("."))[0]+n[1]:a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(i=n[1]),t.exports=i&&+i},function(t,e,r){"use strict";var n=r(17),i=r(48),o=r(13);t.exports=function(t){for(var e=n(this),r=o(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,r),u=a>2?arguments[2]:void 0,h=void 0===u?r:i(u,r);h>s;)e[s++]=t;return e}},function(t,e,r){"use strict";var n=r(0),i=r(62),o=r(28),a=r(51),s=r(39),u=r(19),h=r(27),c=r(8),l=r(4),f=r(73),d=r(122),p=d.IteratorPrototype,v=d.BUGGY_SAFARI_ITERATORS,g=c("iterator"),m=function(){return this};t.exports=function(t,e,r,c,d,y,b){i(r,e,c);var x,_,w,T=function(t){if(t===d&&P)return P;if(!v&&t in I)return I[t];switch(t){case"keys":case"values":case"entries":return function(){return new r(this,t)}}return function(){return new r(this)}},E=e+" Iterator",S=!1,I=t.prototype,A=I[g]||I["@@iterator"]||d&&I[d],P=!v&&A||T(d),M="Array"==e&&I.entries||A;if(M&&(x=o(M.call(new t)),p!==Object.prototype&&x.next&&(l||o(x)===p||(a?a(x,p):"function"!=typeof x[g]&&u(x,g,m)),s(x,E,!0,!0),l&&(f[E]=m))),"values"==d&&A&&"values"!==A.name&&(S=!0,P=function(){return A.call(this)}),l&&!b||I[g]===P||u(I,g,P),f[e]=P,d)if(_={values:T("values"),keys:y?P:T("keys"),entries:T("entries")},b)for(w in _)(v||S||!(w in I))&&h(I,w,_[w]);else n({target:e,proto:!0,forced:v||S},_);return _}},function(t,e,r){"use strict";var n,i,o,a=r(28),s=r(19),u=r(18),h=r(8),c=r(4),l=h("iterator"),f=!1;[].keys&&("next"in(o=[].keys())?(i=a(a(o)))!==Object.prototype&&(n=i):f=!0),null==n&&(n={}),c||u(n,l)||s(n,l,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:f}},function(t,e,r){var n=r(77);t.exports=function(t){if(n(t))throw TypeError("The method doesn't accept regular expressions");return t}},function(t,e,r){var n=r(8)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e,r){"use strict";var n=r(0),i=r(91);n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},function(t,e,r){var n=r(13),i=r(127),o=r(24),a=Math.ceil,s=function(t){return function(e,r,s){var u,h,c=String(o(e)),l=c.length,f=void 0===s?" ":String(s),d=n(r);return d<=l||""==f?c:(u=d-l,(h=i.call(f,a(u/f.length))).length>u&&(h=h.slice(0,u)),t?c+h:h+c)}};t.exports={start:s(!1),end:s(!0)}},function(t,e,r){"use strict";var n=r(32),i=r(24);t.exports="".repeat||function(t){var e=String(i(this)),r="",o=n(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(r+=e);return r}},function(t,e,r){var n=r(2),i=r(95);t.exports=function(t){return n((function(){return!!i[t]()||"​᠎"!="​᠎"[t]()||i[t].name!==t}))}},function(t,e,r){var n=r(6),i=r(65).trim,o=r(95),a=n.parseInt,s=/^[+-]?0[Xx]/,u=8!==a(o+"08")||22!==a(o+"0x16");t.exports=u?function(t,e){var r=i(String(t));return a(r,e>>>0||(s.test(r)?16:10))}:a},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,r){var n,i,o,a=r(6),s=r(2),u=r(35),h=r(21),c=r(151),l=r(107),f=r(175),d=a.location,p=a.setImmediate,v=a.clearImmediate,g=a.process,m=a.MessageChannel,y=a.Dispatch,b=0,x={},_=function(t){if(x.hasOwnProperty(t)){var e=x[t];delete x[t],e()}},w=function(t){return function(){_(t)}},T=function(t){_(t.data)},E=function(t){a.postMessage(t+"",d.protocol+"//"+d.host)};p&&v||(p=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return x[++b]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},n(b),b},v=function(t){delete x[t]},"process"==u(g)?n=function(t){g.nextTick(w(t))}:y&&y.now?n=function(t){y.now(w(t))}:m&&!f?(o=(i=new m).port2,i.port1.onmessage=T,n=h(o.postMessage,o,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(E)||"file:"===d.protocol?n="onreadystatechange"in l("script")?function(t){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),_(t)}}:function(t){setTimeout(w(t),0)}:(n=E,a.addEventListener("message",T,!1))),t.exports={set:p,clear:v}},function(t,e,r){"use strict";var n=r(99),i=r(180);t.exports=n("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},function(t,e,r){"use strict";var n,i=r(6),o=r(45),a=r(54),s=r(99),u=r(182),h=r(10),c=r(20).enforce,l=r(147),f=!i.ActiveXObject&&"ActiveXObject"in i,d=Object.isExtensible,p=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},v=t.exports=s("WeakMap",p,u);if(l&&f){n=u.getConstructor(p,"WeakMap",!0),a.REQUIRED=!0;var g=v.prototype,m=g.delete,y=g.has,b=g.get,x=g.set;o(g,{delete:function(t){if(h(t)&&!d(t)){var e=c(this);return e.frozen||(e.frozen=new n),m.call(this,t)||e.frozen.delete(t)}return m.call(this,t)},has:function(t){if(h(t)&&!d(t)){var e=c(this);return e.frozen||(e.frozen=new n),y.call(this,t)||e.frozen.has(t)}return y.call(this,t)},get:function(t){if(h(t)&&!d(t)){var e=c(this);return e.frozen||(e.frozen=new n),y.call(this,t)?b.call(this,t):e.frozen.get(t)}return b.call(this,t)},set:function(t,e){if(h(t)&&!d(t)){var r=c(this);r.frozen||(r.frozen=new n),y.call(this,t)?x.call(this,t,e):r.frozen.set(t,e)}else x.call(this,t,e);return this}})}},function(t,e){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(t,e,r){var n=r(6),i=r(2),o=r(86),a=r(15).NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,u=n.Int8Array;t.exports=!a||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!o((function(t){new u,new u(null),new u(1.5),new u(t)}),!0)||i((function(){return 1!==new u(new s(2),1,void 0).length}))},function(t,e,r){"use strict";r(89);var n=r(0),i=r(16),o=r(187),a=r(27),s=r(45),u=r(39),h=r(62),c=r(20),l=r(37),f=r(18),d=r(21),p=r(74),v=r(1),g=r(10),m=r(29),y=r(43),b=r(80),x=r(50),_=r(8),w=i("fetch"),T=i("Headers"),E=_("iterator"),S=c.set,I=c.getterFor("URLSearchParams"),A=c.getterFor("URLSearchParamsIterator"),P=/\+/g,M=Array(4),O=function(t){return M[t-1]||(M[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},C=function(t){try{return decodeURIComponent(t)}catch(e){return t}},R=function(t){var e=t.replace(P," "),r=4;try{return decodeURIComponent(e)}catch(t){for(;r;)e=e.replace(O(r--),C);return e}},D=/[!'()~]|%20/g,N={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},L=function(t){return N[t]},F=function(t){return encodeURIComponent(t).replace(D,L)},k=function(t,e){if(e)for(var r,n,i=e.split("&"),o=0;o<i.length;)(r=i[o++]).length&&(n=r.split("="),t.push({key:R(n.shift()),value:R(n.join("="))}))},U=function(t){this.entries.length=0,k(this.entries,t)},B=function(t,e){if(t<e)throw TypeError("Not enough arguments")},j=h((function(t,e){S(this,{type:"URLSearchParamsIterator",iterator:b(I(t).entries),kind:e})}),"Iterator",(function(){var t=A(this),e=t.kind,r=t.iterator.next(),n=r.value;return r.done||(r.value="keys"===e?n.key:"values"===e?n.value:[n.key,n.value]),r})),V=function(){l(this,V,"URLSearchParams");var t,e,r,n,i,o,a,s,u,h=arguments.length>0?arguments[0]:void 0,c=this,d=[];if(S(c,{type:"URLSearchParams",entries:d,updateURL:function(){},updateSearchParams:U}),void 0!==h)if(g(h))if("function"==typeof(t=x(h)))for(r=(e=t.call(h)).next;!(n=r.call(e)).done;){if((a=(o=(i=b(v(n.value))).next).call(i)).done||(s=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");d.push({key:a.value+"",value:s.value+""})}else for(u in h)f(h,u)&&d.push({key:u,value:h[u]+""});else k(d,"string"==typeof h?"?"===h.charAt(0)?h.slice(1):h:h+"")},X=V.prototype;s(X,{append:function(t,e){B(arguments.length,2);var r=I(this);r.entries.push({key:t+"",value:e+""}),r.updateURL()},delete:function(t){B(arguments.length,1);for(var e=I(this),r=e.entries,n=t+"",i=0;i<r.length;)r[i].key===n?r.splice(i,1):i++;e.updateURL()},get:function(t){B(arguments.length,1);for(var e=I(this).entries,r=t+"",n=0;n<e.length;n++)if(e[n].key===r)return e[n].value;return null},getAll:function(t){B(arguments.length,1);for(var e=I(this).entries,r=t+"",n=[],i=0;i<e.length;i++)e[i].key===r&&n.push(e[i].value);return n},has:function(t){B(arguments.length,1);for(var e=I(this).entries,r=t+"",n=0;n<e.length;)if(e[n++].key===r)return!0;return!1},set:function(t,e){B(arguments.length,1);for(var r,n=I(this),i=n.entries,o=!1,a=t+"",s=e+"",u=0;u<i.length;u++)(r=i[u]).key===a&&(o?i.splice(u--,1):(o=!0,r.value=s));o||i.push({key:a,value:s}),n.updateURL()},sort:function(){var t,e,r,n=I(this),i=n.entries,o=i.slice();for(i.length=0,r=0;r<o.length;r++){for(t=o[r],e=0;e<r;e++)if(i[e].key>t.key){i.splice(e,0,t);break}e===r&&i.push(t)}n.updateURL()},forEach:function(t){for(var e,r=I(this).entries,n=d(t,arguments.length>1?arguments[1]:void 0,3),i=0;i<r.length;)n((e=r[i++]).value,e.key,this)},keys:function(){return new j(this,"keys")},values:function(){return new j(this,"values")},entries:function(){return new j(this,"entries")}},{enumerable:!0}),a(X,E,X.entries),a(X,"toString",(function(){for(var t,e=I(this).entries,r=[],n=0;n<e.length;)t=e[n++],r.push(F(t.key)+"="+F(t.value));return r.join("&")}),{enumerable:!0}),u(V,"URLSearchParams"),n({global:!0,forced:!o},{URLSearchParams:V}),o||"function"!=typeof w||"function"!=typeof T||n({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,r,n,i=[t];return arguments.length>1&&(g(e=arguments[1])&&(r=e.body,"URLSearchParams"===p(r)&&((n=e.headers?new T(e.headers):new T).has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=m(e,{body:y(0,String(r)),headers:y(0,n)}))),i.push(e)),w.apply(this,i)}}),t.exports={URLSearchParams:V,getState:I}},function(t,e,r){"use strict";var n=r(20),i=r(62),o=r(18),a=r(61),s=r(17),u=n.set,h=n.getterFor("Object Iterator");t.exports=i((function(t,e){var r=s(t);u(this,{type:"Object Iterator",mode:e,object:r,keys:a(r),index:0})}),"Object",(function(){for(var t=h(this),e=t.keys;;){if(null===e||t.index>=e.length)return t.object=t.keys=null,{value:void 0,done:!0};var r=e[t.index++],n=t.object;if(o(n,r)){switch(t.mode){case"keys":return{value:r,done:!1};case"values":return{value:n[r],done:!1}}return{value:[r,n[r]],done:!1}}}}))},function(t,e,r){"use strict";var n=r(1);t.exports=function(t,e){var r,i=n(this),o=arguments.length>2?arguments[2]:void 0;if("function"!=typeof e&&"function"!=typeof o)throw TypeError("At least one callback required");return i.has(t)?(r=i.get(t),"function"==typeof e&&(r=e(r),i.set(t,r))):"function"==typeof o&&(r=o(),i.set(t,r)),r}},function(t,e,r){var n=r(197),i=r(596),o=r(597),a=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},function(t,e,r){var n=r(198),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();t.exports=o},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,r){"use strict";t.exports=function(t,e){if(t){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={},o=14;o--;)i[r.key[o]]=n[o]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,(function(t,e,n){e&&(i[r.q.name][e]=n)})),i}}},function(t,e,r){
/*!
* screenfull
* v5.0.2 - 2020-02-13
* (c) Sindre Sorhus; MIT License
*/
!function(){"use strict";var e="undefined"!=typeof window&&void 0!==window.document?window.document:{},r=t.exports,n=function(){for(var t,r=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,i=r.length,o={};n<i;n++)if((t=r[n])&&t[1]in e){for(n=0;n<t.length;n++)o[r[0][n]]=t[n];return o}return!1}(),i={change:n.fullscreenchange,error:n.fullscreenerror},o={request:function(t){return new Promise(function(r,i){var o=function(){this.off("change",o),r()}.bind(this);this.on("change",o);var a=(t=t||e.documentElement)[n.requestFullscreen]();a instanceof Promise&&a.then(o).catch(i)}.bind(this))},exit:function(){return new Promise(function(t,r){if(this.isFullscreen){var i=function(){this.off("change",i),t()}.bind(this);this.on("change",i);var o=e[n.exitFullscreen]();o instanceof Promise&&o.then(i).catch(r)}else t()}.bind(this))},toggle:function(t){return this.isFullscreen?this.exit():this.request(t)},onchange:function(t){this.on("change",t)},onerror:function(t){this.on("error",t)},on:function(t,r){var n=i[t];n&&e.addEventListener(n,r,!1)},off:function(t,r){var n=i[t];n&&e.removeEventListener(n,r,!1)},raw:n};n?(Object.defineProperties(o,{isFullscreen:{get:function(){return Boolean(e[n.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[n.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(e[n.fullscreenEnabled])}}}),r?t.exports=o:window.screenfull=o):r?t.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}()},function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function o(){}function a(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function s(t,e,r,n,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new a(r,n||t,o),u=i?i+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],s]:t._events[u].push(s):(t._events[u]=s,t._eventsCount++),t}function u(t,e){0==--t._eventsCount?t._events=new o:delete t._events[e]}function h(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),h.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)n.call(t,e)&&r.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},h.prototype.listeners=function(t){var e=i?i+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,o=r.length,a=new Array(o);n<o;n++)a[n]=r[n].fn;return a},h.prototype.listenerCount=function(t){var e=i?i+t:t,r=this._events[e];return r?r.fn?1:r.length:0},h.prototype.emit=function(t,e,r,n,o,a){var s=i?i+t:t;if(!this._events[s])return!1;var u,h,c=this._events[s],l=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),l){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,r),!0;case 4:return c.fn.call(c.context,e,r,n),!0;case 5:return c.fn.call(c.context,e,r,n,o),!0;case 6:return c.fn.call(c.context,e,r,n,o,a),!0}for(h=1,u=new Array(l-1);h<l;h++)u[h-1]=arguments[h];c.fn.apply(c.context,u)}else{var f,d=c.length;for(h=0;h<d;h++)switch(c[h].once&&this.removeListener(t,c[h].fn,void 0,!0),l){case 1:c[h].fn.call(c[h].context);break;case 2:c[h].fn.call(c[h].context,e);break;case 3:c[h].fn.call(c[h].context,e,r);break;case 4:c[h].fn.call(c[h].context,e,r,n);break;default:if(!u)for(f=1,u=new Array(l-1);f<l;f++)u[f-1]=arguments[f];c[h].fn.apply(c[h].context,u)}}return!0},h.prototype.on=function(t,e,r){return s(this,t,e,r,!1)},h.prototype.once=function(t,e,r){return s(this,t,e,r,!0)},h.prototype.removeListener=function(t,e,r,n){var o=i?i+t:t;if(!this._events[o])return this;if(!e)return u(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||n&&!a.once||r&&a.context!==r||u(this,o);else{for(var s=0,h=[],c=a.length;s<c;s++)(a[s].fn!==e||n&&!a[s].once||r&&a[s].context!==r)&&h.push(a[s]);h.length?this._events[o]=1===h.length?h[0]:h:u(this,o)}return this},h.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&u(this,e)):(this._events=new o,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=i,h.EventEmitter=h,t.exports=h},function(t,e,r){"use strict";function n(t,e,r){r=r||2;var n,s,u,h,c,d,p,g=e&&e.length,m=g?e[0]*r:t.length,y=i(t,0,m,r,!0),b=[];if(!y||y.next===y.prev)return b;if(g&&(y=function(t,e,r,n){var a,s,u,h,c,d=[];for(a=0,s=e.length;a<s;a++)u=e[a]*n,h=a<s-1?e[a+1]*n:t.length,(c=i(t,u,h,n,!1))===c.next&&(c.steiner=!0),d.push(v(c));for(d.sort(l),a=0;a<d.length;a++)f(d[a],r),r=o(r,r.next);return r}(t,e,y,r)),t.length>80*r){n=u=t[0],s=h=t[1];for(var x=r;x<m;x+=r)(c=t[x])<n&&(n=c),(d=t[x+1])<s&&(s=d),c>u&&(u=c),d>h&&(h=d);p=0!==(p=Math.max(u-n,h-s))?1/p:0}return a(y,b,r,n,s,p),b}function i(t,e,r,n,i){var o,a;if(i===P(t,e,r,n)>0)for(o=e;o<r;o+=n)a=S(o,t[o],t[o+1],a);else for(o=r-n;o>=e;o-=n)a=S(o,t[o],t[o+1],a);return a&&b(a,a.next)&&(I(a),a=a.next),a}function o(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!b(n,n.next)&&0!==y(n.prev,n,n.next))n=n.next;else{if(I(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function a(t,e,r,n,i,l,f){if(t){!f&&l&&function(t,e,r,n){var i=t;do{null===i.z&&(i.z=p(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,r,n,i,o,a,s,u,h=1;do{for(r=t,t=null,o=null,a=0;r;){for(a++,n=r,s=0,e=0;e<h&&(s++,n=n.nextZ);e++);for(u=h;s>0||u>0&&n;)0!==s&&(0===u||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}o.nextZ=null,h*=2}while(a>1)}(i)}(t,n,i,l);for(var d,v,g=t;t.prev!==t.next;)if(d=t.prev,v=t.next,l?u(t,n,i,l):s(t))e.push(d.i/r),e.push(t.i/r),e.push(v.i/r),I(t),t=v.next,g=v.next;else if((t=v)===g){f?1===f?a(t=h(o(t),e,r),e,r,n,i,l,2):2===f&&c(t,e,r,n,i,l):a(o(t),e,r,n,i,l,1);break}}}function s(t){var e=t.prev,r=t,n=t.next;if(y(e,r,n)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(g(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&y(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(t,e,r,n){var i=t.prev,o=t,a=t.next;if(y(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,h=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,l=p(s,u,e,r,n),f=p(h,c,e,r,n),d=t.prevZ,v=t.nextZ;d&&d.z>=l&&v&&v.z<=f;){if(d!==t.prev&&d!==t.next&&g(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&y(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,v!==t.prev&&v!==t.next&&g(i.x,i.y,o.x,o.y,a.x,a.y,v.x,v.y)&&y(v.prev,v,v.next)>=0)return!1;v=v.nextZ}for(;d&&d.z>=l;){if(d!==t.prev&&d!==t.next&&g(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&y(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;v&&v.z<=f;){if(v!==t.prev&&v!==t.next&&g(i.x,i.y,o.x,o.y,a.x,a.y,v.x,v.y)&&y(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function h(t,e,r){var n=t;do{var i=n.prev,a=n.next.next;!b(i,a)&&x(i,n,n.next,a)&&T(i,a)&&T(a,i)&&(e.push(i.i/r),e.push(n.i/r),e.push(a.i/r),I(n),I(n.next),n=t=a),n=n.next}while(n!==t);return o(n)}function c(t,e,r,n,i,s){var u=t;do{for(var h=u.next.next;h!==u.prev;){if(u.i!==h.i&&m(u,h)){var c=E(u,h);return u=o(u,u.next),c=o(c,c.next),a(u,e,r,n,i,s),void a(c,e,r,n,i,s)}h=h.next}u=u.next}while(u!==t)}function l(t,e){return t.x-e.x}function f(t,e){if(e=function(t,e){var r,n=e,i=t.x,o=t.y,a=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var s=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>a){if(a=s,s===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(i===a)return r;var u,h=r,c=r.x,l=r.y,f=1/0;n=r;do{i>=n.x&&n.x>=c&&i!==n.x&&g(o<l?i:a,o,c,l,o<l?a:i,o,n.x,n.y)&&(u=Math.abs(o-n.y)/(i-n.x),T(n,t)&&(u<f||u===f&&(n.x>r.x||n.x===r.x&&d(r,n)))&&(r=n,f=u)),n=n.next}while(n!==h);return r}(t,e)){var r=E(e,t);o(e,e.next),o(r,r.next)}}function d(t,e){return y(t.prev,t,e.prev)<0&&y(e.next,t,t.next)<0}function p(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function v(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function g(t,e,r,n,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(n-s)-(r-a)*(e-s)>=0&&(r-a)*(o-s)-(i-a)*(n-s)>=0}function m(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&x(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&(T(t,e)&&T(e,t)&&function(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)&&(y(t.prev,t,e.prev)||y(t,e.prev,e))||b(t,e)&&y(t.prev,t,t.next)>0&&y(e.prev,e,e.next)>0)}function y(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function b(t,e){return t.x===e.x&&t.y===e.y}function x(t,e,r,n){var i=w(y(t,e,r)),o=w(y(t,e,n)),a=w(y(r,n,t)),s=w(y(r,n,e));return i!==o&&a!==s||(!(0!==i||!_(t,r,e))||(!(0!==o||!_(t,n,e))||(!(0!==a||!_(r,t,n))||!(0!==s||!_(r,e,n)))))}function _(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function w(t){return t>0?1:t<0?-1:0}function T(t,e){return y(t.prev,t,t.next)<0?y(t,e,t.next)>=0&&y(t,t.prev,e)>=0:y(t,e,t.prev)<0||y(t,t.next,e)<0}function E(t,e){var r=new A(t.i,t.x,t.y),n=new A(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function S(t,e,r,n){var i=new A(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function I(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function A(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function P(t,e,r,n){for(var i=0,o=e,a=r-n;o<r;o+=n)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}t.exports=n,t.exports.default=n,n.deviation=function(t,e,r,n){var i=e&&e.length,o=i?e[0]*r:t.length,a=Math.abs(P(t,0,o,r));if(i)for(var s=0,u=e.length;s<u;s++){var h=e[s]*r,c=s<u-1?e[s+1]*r:t.length;a-=Math.abs(P(t,h,c,r))}var l=0;for(s=0;s<n.length;s+=3){var f=n[s]*r,d=n[s+1]*r,p=n[s+2]*r;l+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===a&&0===l?0:Math.abs((l-a)/a)},n.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)r.vertices.push(t[i][o][a]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r}},function(t,e,r){var n=r(9),i=r(2),o=r(107);t.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(t,e,r){var n=r(6),i=r(109),o=n.WeakMap;t.exports="function"==typeof o&&/native code/.test(i(o))},function(t,e,r){var n=r(18),i=r(111),o=r(26),a=r(14);t.exports=function(t,e){for(var r=i(e),s=a.f,u=o.f,h=0;h<r.length;h++){var c=r[h];n(t,c)||s(t,c,u(e,c))}}},function(t,e,r){var n=r(18),i=r(31),o=r(69).indexOf,a=r(68);t.exports=function(t,e){var r,s=i(t),u=0,h=[];for(r in s)!n(a,r)&&n(s,r)&&h.push(r);for(;e.length>u;)n(s,r=e[u++])&&(~o(h,r)||h.push(r));return h}},function(t,e,r){var n=r(114);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,r){var n=r(16);t.exports=n("document","documentElement")},function(t,e,r){var n=r(31),i=r(53).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(n(t))}},function(t,e,r){var n=r(8);e.f=n},function(t,e,r){"use strict";var n=r(9),i=r(2),o=r(61),a=r(113),s=r(82),u=r(17),h=r(66),c=Object.assign,l=Object.defineProperty;t.exports=!c||i((function(){if(n&&1!==c({b:1},c(l({},"a",{enumerable:!0,get:function(){l(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol();return t[r]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=c({},t)[r]||"abcdefghijklmnopqrst"!=o(c({},e)).join("")}))?function(t,e){for(var r=u(t),i=arguments.length,c=1,l=a.f,f=s.f;i>c;)for(var d,p=h(arguments[c++]),v=l?o(p).concat(l(p)):o(p),g=v.length,m=0;g>m;)d=v[m++],n&&!f.call(p,d)||(r[d]=p[d]);return r}:c},function(t,e,r){var n=r(9),i=r(61),o=r(31),a=r(82).f,s=function(t){return function(e){for(var r,s=o(e),u=i(s),h=u.length,c=0,l=[];h>c;)r=u[c++],n&&!a.call(s,r)||l.push(t?[r,s[r]]:s[r]);return l}};t.exports={entries:s(!0),values:s(!1)}},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,r){var n=r(10);t.exports=function(t){if(!n(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,r){"use strict";var n=r(3),i=r(10),o=[].slice,a={},s=function(t,e,r){if(!(e in a)){for(var n=[],i=0;i<e;i++)n[i]="a["+i+"]";a[e]=Function("C,a","return new C("+n.join(",")+")")}return a[e](t,r)};t.exports=Function.bind||function(t){var e=n(this),r=o.call(arguments,1),a=function(){var n=r.concat(o.call(arguments));return this instanceof a?s(e,n.length,n):e.apply(t,n)};return i(e.prototype)&&(a.prototype=e.prototype),a}},function(t,e,r){r(0)({global:!0},{globalThis:r(6)})},function(t,e,r){"use strict";var n=r(21),i=r(17),o=r(75),a=r(116),s=r(13),u=r(55),h=r(50);t.exports=function(t){var e,r,c,l,f,d,p=i(t),v="function"==typeof this?this:Array,g=arguments.length,m=g>1?arguments[1]:void 0,y=void 0!==m,b=h(p),x=0;if(y&&(m=n(m,g>2?arguments[2]:void 0,2)),null==b||v==Array&&a(b))for(r=new v(e=s(p.length));e>x;x++)d=y?m(p[x],x):p[x],u(r,x,d);else for(f=(l=b.call(p)).next,r=new v;!(c=f.call(l)).done;x++)d=y?o(l,m,[c.value,x],!0):c.value,u(r,x,d);return r.length=x,r}},function(t,e,r){"use strict";var n=r(17),i=r(48),o=r(13),a=Math.min;t.exports=[].copyWithin||function(t,e){var r=n(this),s=o(r.length),u=i(t,s),h=i(e,s),c=arguments.length>2?arguments[2]:void 0,l=a((void 0===c?s:i(c,s))-h,s-u),f=1;for(h<u&&u<h+l&&(f=-1,h+=l-1,u+=l-1);l-- >0;)h in r?r[u]=r[h]:delete r[u],u+=f,h+=f;return r}},function(t,e,r){"use strict";var n=r(49),i=r(13),o=r(21),a=function(t,e,r,s,u,h,c,l){for(var f,d=u,p=0,v=!!c&&o(c,l,3);p<s;){if(p in r){if(f=v?v(r[p],p,e):r[p],h>0&&n(f))d=a(t,e,f,i(f.length),d,h-1)-1;else{if(d>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[d]=f}d++}p++}return d};t.exports=a},function(t,e,r){"use strict";var n=r(25).forEach,i=r(44),o=r(30),a=i("forEach"),s=o("forEach");t.exports=a&&s?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,r){"use strict";var n=r(31),i=r(32),o=r(13),a=r(44),s=r(30),u=Math.min,h=[].lastIndexOf,c=!!h&&1/[1].lastIndexOf(1,-0)<0,l=a("lastIndexOf"),f=s("indexOf",{ACCESSORS:!0,1:0}),d=c||!l||!f;t.exports=d?function(t){if(c)return h.apply(this,arguments)||0;var e=n(this),r=o(e.length),a=r-1;for(arguments.length>1&&(a=u(a,i(arguments[1]))),a<0&&(a=r+a);a>=0;a--)if(a in e&&e[a]===t)return a||0;return-1}:h},function(t,e,r){"use strict";var n=r(0),i=r(62),o=r(24),a=r(13),s=r(3),u=r(1),h=r(35),c=r(77),l=r(64),f=r(19),d=r(2),p=r(8),v=r(23),g=r(93),m=r(20),y=r(4),b=p("matchAll"),x=m.set,_=m.getterFor("RegExp String Iterator"),w=RegExp.prototype,T=w.exec,E="".matchAll,S=!!E&&!d((function(){"a".matchAll(/./)})),I=i((function(t,e,r,n){x(this,{type:"RegExp String Iterator",regexp:t,string:e,global:r,unicode:n,done:!1})}),"RegExp String",(function(){var t=_(this);if(t.done)return{value:void 0,done:!0};var e=t.regexp,r=t.string,n=function(t,e){var r,n=t.exec;if("function"==typeof n){if("object"!=typeof(r=n.call(t,e)))throw TypeError("Incorrect exec result");return r}return T.call(t,e)}(e,r);return null===n?{value:void 0,done:t.done=!0}:t.global?(""==String(n[0])&&(e.lastIndex=g(r,a(e.lastIndex),t.unicode)),{value:n,done:!1}):(t.done=!0,{value:n,done:!1})})),A=function(t){var e,r,n,i,o,s,h=u(this),c=String(t);return e=v(h,RegExp),void 0===(r=h.flags)&&h instanceof RegExp&&!("flags"in w)&&(r=l.call(h)),n=void 0===r?"":String(r),i=new e(e===RegExp?h.source:h,n),o=!!~n.indexOf("g"),s=!!~n.indexOf("u"),i.lastIndex=a(h.lastIndex),new I(i,c,o,s)};n({target:"String",proto:!0,forced:S},{matchAll:function(t){var e,r,n,i=o(this);if(null!=t){if(c(t)&&!~String(o("flags"in w?t.flags:l.call(t))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(S)return E.apply(i,arguments);if(void 0===(r=t[b])&&y&&"RegExp"==h(t)&&(r=A),null!=r)return s(r).call(t,i)}else if(S)return E.apply(i,arguments);return e=String(i),n=new RegExp(t,"g"),y?A.call(n,e):n[b](e)}}),y||b in w||f(w,b,A)},function(t,e,r){var n=r(87);t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n)},function(t,e,r){"use strict";var n=r(63).charAt,i=r(20),o=r(121),a=i.set,s=i.getterFor("String Iterator");o(String,"String",(function(t){a(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=s(this),r=e.string,i=e.index;return i>=r.length?{value:void 0,done:!0}:(t=n(r,i),e.index+=t.length,{value:t,done:!1})}))},function(t,e,r){var n=r(6),i=r(65).trim,o=r(95),a=n.parseFloat,s=1/a(o+"-0")!=-1/0;t.exports=s?function(t){var e=i(String(t)),r=a(e);return 0===r&&"-"==e.charAt(0)?-0:r}:a},function(t,e,r){var n=r(6).isFinite;t.exports=Number.isFinite||function(t){return"number"==typeof t&&n(t)}},function(t,e,r){var n=r(10),i=Math.floor;t.exports=function(t){return!n(t)&&isFinite(t)&&i(t)===t}},function(t,e,r){var n=r(35);t.exports=function(t){if("number"!=typeof t&&"Number"!=n(t))throw TypeError("Incorrect invocation");return+t}},function(t,e){var r=Math.log;t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:r(1+t)}},function(t,e,r){var n=r(130),i=Math.abs,o=Math.pow,a=o(2,-52),s=o(2,-23),u=o(2,127)*(2-s),h=o(2,-126);t.exports=Math.fround||function(t){var e,r,o=i(t),c=n(t);return o<h?c*(o/h/s+1/a-1/a)*h*s:(r=(e=(1+s/a)*o)-(e-o))>u||r!=r?c*(1/0):c*r}},function(t,e,r){var n=r(6);t.exports=n.Promise},function(t,e,r){var n=r(87);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},function(t,e,r){var n,i,o,a,s,u,h,c,l=r(6),f=r(26).f,d=r(35),p=r(131).set,v=r(175),g=l.MutationObserver||l.WebKitMutationObserver,m=l.process,y=l.Promise,b="process"==d(m),x=f(l,"queueMicrotask"),_=x&&x.value;_||(n=function(){var t,e;for(b&&(t=m.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?a():o=void 0,t}}o=void 0,t&&t.enter()},b?a=function(){m.nextTick(n)}:g&&!v?(s=!0,u=document.createTextNode(""),new g(n).observe(u,{characterData:!0}),a=function(){u.data=s=!s}):y&&y.resolve?(h=y.resolve(void 0),c=h.then,a=function(){c.call(h,n)}):a=function(){p.call(l,n)}),t.exports=_||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,a()),o=e}},function(t,e,r){var n=r(1),i=r(10),o=r(78);t.exports=function(t,e){if(n(t),i(e)&&e.constructor===t)return e;var r=o.f(t);return(0,r.resolve)(e),r.promise}},function(t,e,r){var n=r(6);t.exports=function(t,e){var r=n.console;r&&r.error&&(1===arguments.length?r.error(t):r.error(t,e))}},function(t,e,r){"use strict";var n=r(0),i=r(3),o=r(78),a=r(98),s=r(7);n({target:"Promise",stat:!0},{allSettled:function(t){var e=this,r=o.f(e),n=r.resolve,u=r.reject,h=a((function(){var r=i(e.resolve),o=[],a=0,u=1;s(t,(function(t){var i=a++,s=!1;o.push(void 0),u++,r.call(e,t).then((function(t){s||(s=!0,o[i]={status:"fulfilled",value:t},--u||n(o))}),(function(t){s||(s=!0,o[i]={status:"rejected",reason:t},--u||n(o))}))})),--u||n(o)}));return h.error&&u(h.value),r.promise}})},function(t,e,r){"use strict";var n=r(14).f,i=r(29),o=r(45),a=r(21),s=r(37),u=r(7),h=r(121),c=r(56),l=r(9),f=r(54).fastKey,d=r(20),p=d.set,v=d.getterFor;t.exports={getConstructor:function(t,e,r,h){var c=t((function(t,n){s(t,c,e),p(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),l||(t.size=0),null!=n&&u(n,t[h],t,r)})),d=v(e),g=function(t,e,r){var n,i,o=d(t),a=m(t,e);return a?a.value=r:(o.last=a={index:i=f(e,!0),key:e,value:r,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=a),n&&(n.next=a),l?o.size++:t.size++,"F"!==i&&(o.index[i]=a)),t},m=function(t,e){var r,n=d(t),i=f(e);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key==e)return r};return o(c.prototype,{clear:function(){for(var t=d(this),e=t.index,r=t.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete e[r.index],r=r.next;t.first=t.last=void 0,l?t.size=0:this.size=0},delete:function(t){var e=d(this),r=m(this,t);if(r){var n=r.next,i=r.previous;delete e.index[r.index],r.removed=!0,i&&(i.next=n),n&&(n.previous=i),e.first==r&&(e.first=n),e.last==r&&(e.last=i),l?e.size--:this.size--}return!!r},forEach:function(t){for(var e,r=d(this),n=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!m(this,t)}}),o(c.prototype,r?{get:function(t){var e=m(this,t);return e&&e.value},set:function(t,e){return g(this,0===t?0:t,e)}}:{add:function(t){return g(this,t=0===t?0:t,t)}}),l&&n(c.prototype,"size",{get:function(){return d(this).size}}),c},setStrong:function(t,e,r){var n=e+" Iterator",i=v(e),o=v(n);h(t,e,(function(t,e){p(this,{type:n,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?"keys"==e?{value:r.key,done:!1}:"values"==e?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),c(e)}}},function(t,e,r){"use strict";var n=r(99),i=r(180);t.exports=n("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},function(t,e,r){"use strict";var n=r(45),i=r(54).getWeakData,o=r(1),a=r(10),s=r(37),u=r(7),h=r(25),c=r(18),l=r(20),f=l.set,d=l.getterFor,p=h.find,v=h.findIndex,g=0,m=function(t){return t.frozen||(t.frozen=new y)},y=function(){this.entries=[]},b=function(t,e){return p(t.entries,(function(t){return t[0]===e}))};y.prototype={get:function(t){var e=b(this,t);if(e)return e[1]},has:function(t){return!!b(this,t)},set:function(t,e){var r=b(this,t);r?r[1]=e:this.entries.push([t,e])},delete:function(t){var e=v(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,r,h){var l=t((function(t,n){s(t,l,e),f(t,{type:e,id:g++,frozen:void 0}),null!=n&&u(n,t[h],t,r)})),p=d(e),v=function(t,e,r){var n=p(t),a=i(o(e),!0);return!0===a?m(n).set(e,r):a[n.id]=r,t};return n(l.prototype,{delete:function(t){var e=p(this);if(!a(t))return!1;var r=i(t);return!0===r?m(e).delete(t):r&&c(r,e.id)&&delete r[e.id]},has:function(t){var e=p(this);if(!a(t))return!1;var r=i(t);return!0===r?m(e).has(t):r&&c(r,e.id)}}),n(l.prototype,r?{get:function(t){var e=p(this);if(a(t)){var r=i(t);return!0===r?m(e).get(t):r?r[e.id]:void 0}},set:function(t,e){return v(this,t,e)}}:{add:function(t){return v(this,t,!0)}}),l}}},function(t,e,r){var n=r(32),i=r(13);t.exports=function(t){if(void 0===t)return 0;var e=n(t),r=i(e);if(e!==r)throw RangeError("Wrong length or index");return r}},function(t,e,r){var n=r(79);t.exports=function(t,e){var r=n(t);if(r%e)throw RangeError("Wrong offset");return r}},function(t,e,r){var n=r(17),i=r(13),o=r(50),a=r(116),s=r(21),u=r(15).aTypedArrayConstructor;t.exports=function(t){var e,r,h,c,l,f,d=n(t),p=arguments.length,v=p>1?arguments[1]:void 0,g=void 0!==v,m=o(d);if(null!=m&&!a(m))for(f=(l=m.call(d)).next,d=[];!(c=f.call(l)).done;)d.push(c.value);for(g&&p>2&&(v=s(v,arguments[2],2)),r=i(d.length),h=new(u(this))(r),e=0;r>e;e++)h[e]=g?v(d[e],e):d[e];return h}},function(t,e,r){"use strict";r(167);var n,i=r(0),o=r(9),a=r(187),s=r(6),u=r(115),h=r(27),c=r(37),l=r(18),f=r(154),d=r(160),p=r(63).codeAt,v=r(445),g=r(39),m=r(136),y=r(20),b=s.URL,x=m.URLSearchParams,_=m.getState,w=y.set,T=y.getterFor("URL"),E=Math.floor,S=Math.pow,I=/[A-Za-z]/,A=/[\d+-.A-Za-z]/,P=/\d/,M=/^(0x|0X)/,O=/^[0-7]+$/,C=/^\d+$/,R=/^[\dA-Fa-f]+$/,D=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,N=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,L=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,F=/[\u0009\u000A\u000D]/g,k=function(t,e){var r,n,i;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return"Invalid host";if(!(r=B(e.slice(1,-1))))return"Invalid host";t.host=r}else if(z(t)){if(e=v(e),D.test(e))return"Invalid host";if(null===(r=U(e)))return"Invalid host";t.host=r}else{if(N.test(e))return"Invalid host";for(r="",n=d(e),i=0;i<n.length;i++)r+=Y(n[i],V);t.host=r}},U=function(t){var e,r,n,i,o,a,s,u=t.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),(e=u.length)>4)return t;for(r=[],n=0;n<e;n++){if(""==(i=u[n]))return t;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=M.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?C:8==o?O:R).test(i))return t;a=parseInt(i,o)}r.push(a)}for(n=0;n<e;n++)if(a=r[n],n==e-1){if(a>=S(256,5-e))return null}else if(a>255)return null;for(s=r.pop(),n=0;n<r.length;n++)s+=r[n]*S(256,3-n);return s},B=function(t){var e,r,n,i,o,a,s,u=[0,0,0,0,0,0,0,0],h=0,c=null,l=0,f=function(){return t.charAt(l)};if(":"==f()){if(":"!=t.charAt(1))return;l+=2,c=++h}for(;f();){if(8==h)return;if(":"!=f()){for(e=r=0;r<4&&R.test(f());)e=16*e+parseInt(f(),16),l++,r++;if("."==f()){if(0==r)return;if(l-=r,h>6)return;for(n=0;f();){if(i=null,n>0){if(!("."==f()&&n<4))return;l++}if(!P.test(f()))return;for(;P.test(f());){if(o=parseInt(f(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;l++}u[h]=256*u[h]+i,2!=++n&&4!=n||h++}if(4!=n)return;break}if(":"==f()){if(l++,!f())return}else if(f())return;u[h++]=e}else{if(null!==c)return;l++,c=++h}}if(null!==c)for(a=h-c,h=7;0!=h&&a>0;)s=u[h],u[h--]=u[c+a-1],u[c+--a]=s;else if(8!=h)return;return u},j=function(t){var e,r,n,i;if("number"==typeof t){for(e=[],r=0;r<4;r++)e.unshift(t%256),t=E(t/256);return e.join(".")}if("object"==typeof t){for(e="",n=function(t){for(var e=null,r=1,n=null,i=0,o=0;o<8;o++)0!==t[o]?(i>r&&(e=n,r=i),n=null,i=0):(null===n&&(n=o),++i);return i>r&&(e=n,r=i),e}(t),r=0;r<8;r++)i&&0===t[r]||(i&&(i=!1),n===r?(e+=r?":":"::",i=!0):(e+=t[r].toString(16),r<7&&(e+=":")));return"["+e+"]"}return t},V={},X=f({},V,{" ":1,'"':1,"<":1,">":1,"`":1}),G=f({},X,{"#":1,"?":1,"{":1,"}":1}),H=f({},G,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Y=function(t,e){var r=p(t,0);return r>32&&r<127&&!l(e,t)?t:encodeURIComponent(t)},W={ftp:21,file:null,http:80,https:443,ws:80,wss:443},z=function(t){return l(W,t.scheme)},q=function(t){return""!=t.username||""!=t.password},K=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},Z=function(t,e){var r;return 2==t.length&&I.test(t.charAt(0))&&(":"==(r=t.charAt(1))||!e&&"|"==r)},$=function(t){var e;return t.length>1&&Z(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},J=function(t){var e=t.path,r=e.length;!r||"file"==t.scheme&&1==r&&Z(e[0],!0)||e.pop()},Q=function(t){return"."===t||"%2e"===t.toLowerCase()},tt={},et={},rt={},nt={},it={},ot={},at={},st={},ut={},ht={},ct={},lt={},ft={},dt={},pt={},vt={},gt={},mt={},yt={},bt={},xt={},_t=function(t,e,r,i){var o,a,s,u,h,c=r||tt,f=0,p="",v=!1,g=!1,m=!1;for(r||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(L,"")),e=e.replace(F,""),o=d(e);f<=o.length;){switch(a=o[f],c){case tt:if(!a||!I.test(a)){if(r)return"Invalid scheme";c=rt;continue}p+=a.toLowerCase(),c=et;break;case et:if(a&&(A.test(a)||"+"==a||"-"==a||"."==a))p+=a.toLowerCase();else{if(":"!=a){if(r)return"Invalid scheme";p="",c=rt,f=0;continue}if(r&&(z(t)!=l(W,p)||"file"==p&&(q(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=p,r)return void(z(t)&&W[t.scheme]==t.port&&(t.port=null));p="","file"==t.scheme?c=dt:z(t)&&i&&i.scheme==t.scheme?c=nt:z(t)?c=st:"/"==o[f+1]?(c=it,f++):(t.cannotBeABaseURL=!0,t.path.push(""),c=yt)}break;case rt:if(!i||i.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(i.cannotBeABaseURL&&"#"==a){t.scheme=i.scheme,t.path=i.path.slice(),t.query=i.query,t.fragment="",t.cannotBeABaseURL=!0,c=xt;break}c="file"==i.scheme?dt:ot;continue;case nt:if("/"!=a||"/"!=o[f+1]){c=ot;continue}c=ut,f++;break;case it:if("/"==a){c=ht;break}c=mt;continue;case ot:if(t.scheme=i.scheme,a==n)t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query=i.query;else if("/"==a||"\\"==a&&z(t))c=at;else if("?"==a)t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query="",c=bt;else{if("#"!=a){t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.path.pop(),c=mt;continue}t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query=i.query,t.fragment="",c=xt}break;case at:if(!z(t)||"/"!=a&&"\\"!=a){if("/"!=a){t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,c=mt;continue}c=ht}else c=ut;break;case st:if(c=ut,"/"!=a||"/"!=p.charAt(f+1))continue;f++;break;case ut:if("/"!=a&&"\\"!=a){c=ht;continue}break;case ht:if("@"==a){v&&(p="%40"+p),v=!0,s=d(p);for(var y=0;y<s.length;y++){var b=s[y];if(":"!=b||m){var x=Y(b,H);m?t.password+=x:t.username+=x}else m=!0}p=""}else if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&z(t)){if(v&&""==p)return"Invalid authority";f-=d(p).length+1,p="",c=ct}else p+=a;break;case ct:case lt:if(r&&"file"==t.scheme){c=vt;continue}if(":"!=a||g){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&z(t)){if(z(t)&&""==p)return"Invalid host";if(r&&""==p&&(q(t)||null!==t.port))return;if(u=k(t,p))return u;if(p="",c=gt,r)return;continue}"["==a?g=!0:"]"==a&&(g=!1),p+=a}else{if(""==p)return"Invalid host";if(u=k(t,p))return u;if(p="",c=ft,r==lt)return}break;case ft:if(!P.test(a)){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&z(t)||r){if(""!=p){var _=parseInt(p,10);if(_>65535)return"Invalid port";t.port=z(t)&&_===W[t.scheme]?null:_,p=""}if(r)return;c=gt;continue}return"Invalid port"}p+=a;break;case dt:if(t.scheme="file","/"==a||"\\"==a)c=pt;else{if(!i||"file"!=i.scheme){c=mt;continue}if(a==n)t.host=i.host,t.path=i.path.slice(),t.query=i.query;else if("?"==a)t.host=i.host,t.path=i.path.slice(),t.query="",c=bt;else{if("#"!=a){$(o.slice(f).join(""))||(t.host=i.host,t.path=i.path.slice(),J(t)),c=mt;continue}t.host=i.host,t.path=i.path.slice(),t.query=i.query,t.fragment="",c=xt}}break;case pt:if("/"==a||"\\"==a){c=vt;break}i&&"file"==i.scheme&&!$(o.slice(f).join(""))&&(Z(i.path[0],!0)?t.path.push(i.path[0]):t.host=i.host),c=mt;continue;case vt:if(a==n||"/"==a||"\\"==a||"?"==a||"#"==a){if(!r&&Z(p))c=mt;else if(""==p){if(t.host="",r)return;c=gt}else{if(u=k(t,p))return u;if("localhost"==t.host&&(t.host=""),r)return;p="",c=gt}continue}p+=a;break;case gt:if(z(t)){if(c=mt,"/"!=a&&"\\"!=a)continue}else if(r||"?"!=a)if(r||"#"!=a){if(a!=n&&(c=mt,"/"!=a))continue}else t.fragment="",c=xt;else t.query="",c=bt;break;case mt:if(a==n||"/"==a||"\\"==a&&z(t)||!r&&("?"==a||"#"==a)){if(".."===(h=(h=p).toLowerCase())||"%2e."===h||".%2e"===h||"%2e%2e"===h?(J(t),"/"==a||"\\"==a&&z(t)||t.path.push("")):Q(p)?"/"==a||"\\"==a&&z(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&Z(p)&&(t.host&&(t.host=""),p=p.charAt(0)+":"),t.path.push(p)),p="","file"==t.scheme&&(a==n||"?"==a||"#"==a))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==a?(t.query="",c=bt):"#"==a&&(t.fragment="",c=xt)}else p+=Y(a,G);break;case yt:"?"==a?(t.query="",c=bt):"#"==a?(t.fragment="",c=xt):a!=n&&(t.path[0]+=Y(a,V));break;case bt:r||"#"!=a?a!=n&&("'"==a&&z(t)?t.query+="%27":t.query+="#"==a?"%23":Y(a,V)):(t.fragment="",c=xt);break;case xt:a!=n&&(t.fragment+=Y(a,X))}f++}},wt=function(t){var e,r,n=c(this,wt,"URL"),i=arguments.length>1?arguments[1]:void 0,a=String(t),s=w(n,{type:"URL"});if(void 0!==i)if(i instanceof wt)e=T(i);else if(r=_t(e={},String(i)))throw TypeError(r);if(r=_t(s,a,null,e))throw TypeError(r);var u=s.searchParams=new x,h=_(u);h.updateSearchParams(s.query),h.updateURL=function(){s.query=String(u)||null},o||(n.href=Et.call(n),n.origin=St.call(n),n.protocol=It.call(n),n.username=At.call(n),n.password=Pt.call(n),n.host=Mt.call(n),n.hostname=Ot.call(n),n.port=Ct.call(n),n.pathname=Rt.call(n),n.search=Dt.call(n),n.searchParams=Nt.call(n),n.hash=Lt.call(n))},Tt=wt.prototype,Et=function(){var t=T(this),e=t.scheme,r=t.username,n=t.password,i=t.host,o=t.port,a=t.path,s=t.query,u=t.fragment,h=e+":";return null!==i?(h+="//",q(t)&&(h+=r+(n?":"+n:"")+"@"),h+=j(i),null!==o&&(h+=":"+o)):"file"==e&&(h+="//"),h+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(h+="?"+s),null!==u&&(h+="#"+u),h},St=function(){var t=T(this),e=t.scheme,r=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&z(t)?e+"://"+j(t.host)+(null!==r?":"+r:""):"null"},It=function(){return T(this).scheme+":"},At=function(){return T(this).username},Pt=function(){return T(this).password},Mt=function(){var t=T(this),e=t.host,r=t.port;return null===e?"":null===r?j(e):j(e)+":"+r},Ot=function(){var t=T(this).host;return null===t?"":j(t)},Ct=function(){var t=T(this).port;return null===t?"":String(t)},Rt=function(){var t=T(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Dt=function(){var t=T(this).query;return t?"?"+t:""},Nt=function(){return T(this).searchParams},Lt=function(){var t=T(this).fragment;return t?"#"+t:""},Ft=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(o&&u(Tt,{href:Ft(Et,(function(t){var e=T(this),r=String(t),n=_t(e,r);if(n)throw TypeError(n);_(e.searchParams).updateSearchParams(e.query)})),origin:Ft(St),protocol:Ft(It,(function(t){var e=T(this);_t(e,String(t)+":",tt)})),username:Ft(At,(function(t){var e=T(this),r=d(String(t));if(!K(e)){e.username="";for(var n=0;n<r.length;n++)e.username+=Y(r[n],H)}})),password:Ft(Pt,(function(t){var e=T(this),r=d(String(t));if(!K(e)){e.password="";for(var n=0;n<r.length;n++)e.password+=Y(r[n],H)}})),host:Ft(Mt,(function(t){var e=T(this);e.cannotBeABaseURL||_t(e,String(t),ct)})),hostname:Ft(Ot,(function(t){var e=T(this);e.cannotBeABaseURL||_t(e,String(t),lt)})),port:Ft(Ct,(function(t){var e=T(this);K(e)||(""==(t=String(t))?e.port=null:_t(e,t,ft))})),pathname:Ft(Rt,(function(t){var e=T(this);e.cannotBeABaseURL||(e.path=[],_t(e,t+"",gt))})),search:Ft(Dt,(function(t){var e=T(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",_t(e,t,bt)),_(e.searchParams).updateSearchParams(e.query)})),searchParams:Ft(Nt),hash:Ft(Lt,(function(t){var e=T(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",_t(e,t,xt)):e.fragment=null}))}),h(Tt,"toJSON",(function(){return Et.call(this)}),{enumerable:!0}),h(Tt,"toString",(function(){return Et.call(this)}),{enumerable:!0}),b){var kt=b.createObjectURL,Ut=b.revokeObjectURL;kt&&h(wt,"createObjectURL",(function(t){return kt.apply(b,arguments)})),Ut&&h(wt,"revokeObjectURL",(function(t){return Ut.apply(b,arguments)}))}g(wt,"URL"),i({global:!0,forced:!a,sham:!o},{URL:wt})},function(t,e,r){var n=r(2),i=r(8),o=r(4),a=i("iterator");t.exports=!n((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,r="";return t.pathname="c%20d",e.forEach((function(t,n){e.delete("b"),r+=n+t})),o&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},function(t,e,r){"use strict";r(0)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(t,e,r){"use strict";var n=r(1),i=r(3);t.exports=function(){for(var t=n(this),e=i(t.add),r=0,o=arguments.length;r<o;r++)e.call(t,arguments[r]);return t}},function(t,e,r){var n=r(132),i=r(133),o=r(29),a=r(10),s=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=o(null)};s.prototype.get=function(t,e){return this[t]||(this[t]=e())},s.prototype.next=function(t,e,r){var o=r?this.objectsByIndex[t]||(this.objectsByIndex[t]=new i):this.primitives||(this.primitives=new n),a=o.get(e);return a||o.set(e,a=new s),a};var u=new s;t.exports=function(){var t,e,r=u,n=arguments.length;for(t=0;t<n;t++)a(e=arguments[t])&&(r=r.next(t,e,!0));if(this===Object&&r===u)throw TypeError("Composite keys must contain a non-primitive component");for(t=0;t<n;t++)a(e=arguments[t])||(r=r.next(t,e,!1));return r}},function(t,e){t.exports=Math.scale||function(t,e,r,n,i){return 0===arguments.length||t!=t||e!=e||r!=r||n!=n||i!=i?NaN:t===1/0||t===-1/0?t:(t-e)*(i-n)/(r-e)+n}},function(t,e,r){var n=r(50),i=r(8)("asyncIterator");t.exports=function(t){var e=t[i];return void 0===e?n(t):e}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,r){var n=r(195),i=r(588),o=r(590);t.exports=function(t,e){return o(i(t,e,n),t+"")}},function(t,e){t.exports=function(t){return t}},function(t,e,r){var n=r(139),i=r(104);t.exports=function(t){if(!i(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,r){var n=r(140).Symbol;t.exports=n},function(t,e,r){(function(e){var r="object"==typeof e&&e&&e.Object===Object&&e;t.exports=r}).call(this,r(52))},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,r){var n=r(196),i=r(201);t.exports=function(t){return null!=t&&i(t.length)&&!n(t)}},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e){var r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,r){(function(n,i){var o;!function(n){var a=n.Promise,s=a&&"resolve"in a&&"reject"in a&&"all"in a&&"race"in a&&function(){var t;return new a((function(e){t=e})),"function"==typeof t}();e?(e.Promise=s?a:T,e.Polyfill=T):void 0===(o=function(){return s?a:T}.call(e,r,e,t))||(t.exports=o);var u=function(){};function h(t){return"[object Array]"===Object.prototype.toString.call(t)}var c,l=void 0!==i?i:setTimeout,f=[];function d(){for(var t=0;t<f.length;t++)f[t][0](f[t][1]);f=[],c=!1}function p(t,e){f.push([t,e]),c||(c=!0,l(d,0))}function v(t){var e=t.owner,r=e.state_,n=e.data_,i=t[r],o=t.then;if("function"==typeof i){r="fulfilled";try{n=i(n)}catch(t){b(o,t)}}g(o,n)||("fulfilled"===r&&m(o,n),"rejected"===r&&b(o,n))}function g(t,e){var r;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"==typeof e)){var n=e.then;if("function"==typeof n)return n.call(e,(function(n){r||(r=!0,e!==n?m(t,n):y(t,n))}),(function(e){r||(r=!0,b(t,e))})),!0}}catch(e){return r||b(t,e),!0}return!1}function m(t,e){t!==e&&g(t,e)||y(t,e)}function y(t,e){"pending"===t.state_&&(t.state_="sealed",t.data_=e,p(_,t))}function b(t,e){"pending"===t.state_&&(t.state_="sealed",t.data_=e,p(w,t))}function x(t){var e=t.then_;t.then_=void 0;for(var r=0;r<e.length;r++)v(e[r])}function _(t){t.state_="fulfilled",x(t)}function w(t){t.state_="rejected",x(t)}function T(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof T==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(t,e){function r(t){b(e,t)}try{t((function(t){m(e,t)}),r)}catch(t){r(t)}}(t,this)}T.prototype={constructor:T,state_:"pending",then_:null,data_:void 0,then:function(t,e){var r={owner:this,then:new this.constructor(u),fulfilled:t,rejected:e};return"fulfilled"===this.state_||"rejected"===this.state_?p(v,r):this.then_.push(r),r.then},catch:function(t){return this.then(null,t)}},T.all=function(t){if(!h(t))throw new TypeError("You must pass an array to Promise.all().");return new this((function(e,r){var n=[],i=0;function o(t){return i++,function(r){n[t]=r,--i||e(n)}}for(var a,s=0;s<t.length;s++)(a=t[s])&&"function"==typeof a.then?a.then(o(s),r):n[s]=a;i||e(n)}))},T.race=function(t){if(!h(t))throw new TypeError("You must pass an array to Promise.race().");return new this((function(e,r){for(var n,i=0;i<t.length;i++)(n=t[i])&&"function"==typeof n.then?n.then(e,r):e(n)}))},T.resolve=function(t){return t&&"object"==typeof t&&t.constructor===this?t:new this((function(e){e(t)}))},T.reject=function(t){return new this((function(e,r){r(t)}))}}("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:this)}).call(this,r(52),r(211).setImmediate)},function(t,e,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,s,u=a(t),h=1;h<arguments.length;h++){for(var c in r=Object(arguments[h]))i.call(r,c)&&(u[c]=r[c]);if(n){s=n(r);for(var l=0;l<s.length;l++)o.call(r,s[l])&&(u[s[l]]=r[s[l]])}}return u}},function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function i(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}},function(t,e,r){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function r(t){return new Promise((function(e,r){t.onsuccess=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function n(t,e,n){var i,o=new Promise((function(o,a){r(i=t[e].apply(t,n)).then(o,a)}));return o.request=i,o}function i(t,e,r){var i=n(t,e,r);return i.then((function(t){if(t)return new c(t,i.request)}))}function o(t,e,r){r.forEach((function(r){Object.defineProperty(t.prototype,r,{get:function(){return this[e][r]},set:function(t){this[e][r]=t}})}))}function a(t,e,r,i){i.forEach((function(i){i in r.prototype&&(t.prototype[i]=function(){return n(this[e],i,arguments)})}))}function s(t,e,r,n){n.forEach((function(n){n in r.prototype&&(t.prototype[n]=function(){return this[e][n].apply(this[e],arguments)})}))}function u(t,e,r,n){n.forEach((function(n){n in r.prototype&&(t.prototype[n]=function(){return i(this[e],n,arguments)})}))}function h(t){this._index=t}function c(t,e){this._cursor=t,this._request=e}function l(t){this._store=t}function f(t){this._tx=t,this.complete=new Promise((function(e,r){t.oncomplete=function(){e()},t.onerror=function(){r(t.error)},t.onabort=function(){r(t.error)}}))}function d(t,e,r){this._db=t,this.oldVersion=e,this.transaction=new f(r)}function p(t){this._db=t}o(h,"_index",["name","keyPath","multiEntry","unique"]),a(h,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(h,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(c,"_cursor",["direction","key","primaryKey","value"]),a(c,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(c.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,n),r(e._request).then((function(t){if(t)return new c(t,e._request)}))}))})})),l.prototype.createIndex=function(){return new h(this._store.createIndex.apply(this._store,arguments))},l.prototype.index=function(){return new h(this._store.index.apply(this._store,arguments))},o(l,"_store",["name","keyPath","indexNames","autoIncrement"]),a(l,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(l,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(l,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new l(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new l(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[l,h].forEach((function(r){t in r.prototype&&(r.prototype[t.replace("open","iterate")]=function(){var r=e(arguments),n=r[r.length-1],i=this._store||this._index,o=i[t].apply(i,r.slice(0,-1));o.onsuccess=function(){n(o.result)}})}))})),[h,l].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var r=this,n=[];return new Promise((function(i){r.iterateCursor(t,(function(t){t?(n.push(t.value),void 0===e||n.length!=e?t.continue():i(n)):i(n)}))}))})})),t.openDb=function(t,e,r){var i=n(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){r&&r(new d(o.result,t.oldVersion,o.transaction))}),i.then((function(t){return new p(t)}))},t.deleteDb=function(t){return n(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,r){var n=r(194),i=r(199),o=r(603),a=r(604),s=Object.prototype,u=s.hasOwnProperty,h=n((function(t,e){t=Object(t);var r=-1,n=e.length,h=n>2?e[2]:void 0;for(h&&o(e[0],e[1],h)&&(n=1);++r<n;)for(var c=e[r],l=a(c),f=-1,d=l.length;++f<d;){var p=l[f],v=t[p];(void 0===v||i(v,s[p])&&!u.call(t,p))&&(t[p]=c[p])}return t}));t.exports=h},function(t,e,r){var n=r(619),i=r(194)((function(t,e){return n(t,1,e)}));t.exports=i},function(t,e,r){"use strict";r.d(e,"a",(function(){return I})),r.d(e,"b",(function(){return A}));var n=r(11),i=r(207),o=r.n(i),a=r(5),s=r(143),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dpr=1,e.width=0,e.height=0,e.root=new a.Container,e.events=new a.utils.EventEmitter,e}return Object(n.c)(e,t),e.prototype.init=function(){this.stage.addChild(this.root),this.ticker.add(this.update,this),this.resizeRoot(window.innerWidth,window.innerHeight,this.getWindowDpr()),this.events.emit("init")},e.prototype.update=function(t){var e=this.getWindowDpr();window.innerWidth===this.width&&window.innerHeight===this.height&&this.dpr===e||this.resizeRoot(window.innerWidth,window.innerHeight,e),this.events.emit("update",t)},e.prototype.requestFullscreen=function(){return Object(n.b)(this,void 0,void 0,(function(){return Object(n.d)(this,(function(t){return s.isEnabled?[2,s.request(this.view)]:[2]}))}))},e.prototype.getWindowDpr=function(){return Math.round(Math.min(window.devicePixelRatio,4))},e.prototype.resizeRoot=function(t,e,r){this.width=t,this.height=e,this.dpr=r,this.view.style.width=this.width+"px",this.view.style.height=this.height+"px",this.renderer.resolution=this.dpr,this.renderer.plugins.interaction.resolution=this.dpr,this.renderer.resize(this.width,this.height),this.root.x=this.renderer.width*(1/this.dpr)/2,this.root.y=this.renderer.height*(1/this.dpr)/2,this.events.emit("resize",this.width,this.height)},e.prototype.getAtlas=function(t){var e=this.loader.resources[t];if(!e)throw new Error("Can't find atlas: \""+t+'"');if(!e.spritesheet)throw new Error('Not a valid atlas: "'+t+'"');return e},e.prototype.getFrame=function(t,e){var r=this.getAtlas(t);if(!(r.textures&&r.textures[e]instanceof a.Texture))throw new Error("Can't find frame \""+e+'" in atlas "'+t+'"');return r.textures[e]},e.prototype.getSpine=function(t){var e=this.loader.resources[t];if(!e)throw new Error("Can't find spine: \""+t+'"');if(!e.spineData)throw new Error('Not a valid spine: "'+t+'"');return e.spineData},e.prototype.getJson=function(t){var e=this.loader.resources[t];if(!e.data)throw new Error("Can't find json: \""+t+'"');return e.data},e.prototype.addSpine=function(t,e){void 0===e&&(e=this.dpr);var r={spineSkeletonScale:1/4,spineAtlasFile:t+"@"+e+"x.atlas"};this.loader.add(t,t+".skel",{metadata:r})},e.prototype.addAtlas=function(t,e){void 0===e&&(e=this.dpr),this.loader.add(t,t+"-0-@"+e+"x.json")},e.prototype.addJson=function(t,e){this.loader.add(t,e)},e}(a.Application);function h(t){return parseInt(t.replace("#","0x"))}var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n.c)(e,t),e}(createjs.Tween);function l(t,e,r){return Math.max(e,Math.min(r,t))}var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n.c)(e,t),e}(createjs.Ease),d=function(t){function e(e,r,n){var i=t.call(this,r,n)||this;return i.app=e,i.resolution=e.renderer.resolution,i}return Object(n.c)(e,t),e}(a.Text),p=r(60),v=function(t){function e(e,r){var n=t.call(this)||this;n.textureFrontTileSize=32,n.app=e,n.state=r,n.viewState={x:-1,y:-1,adjacent:0,covered:!0,mine:!1,flag:!1},n.mine=n.createMine(),n.flag=n.createFlag(),n.edges={l:n.createEdgeSprite(0),r:n.createEdgeSprite(180),u:n.createEdgeSprite(90),d:n.createEdgeSprite(-90)},n.textureFront=n.app.getFrame("tiles","front-0"),n.hover=a.Sprite.from(a.Texture.WHITE),n.hover.anchor.set(.5),n.hover.alpha=0,n.hover.width=64,n.hover.height=64,n.hover.x=32,n.hover.y=32,n.hover.blendMode=a.BLEND_MODES.ADD;var i=new a.TextStyle({fontWeight:n.app.config.colorNumberWeight,fontSize:Math.floor(41.6)});return n.adjacentText=new d(n.app,"",i),n.adjacentText.anchor.set(.5),n.adjacentText.x=32,n.adjacentText.y=32,n.front=new a.TilingSprite(n.textureFront),n.front.scale.set(64/n.textureFrontTileSize),n.front.width=n.textureFrontTileSize,n.front.height=n.textureFrontTileSize,n.front.visible=!0,n.front.cacheAsBitmap=!0,n.feedback=new p.a(n.app.getSpine("feedback")),n.feedback.visible=!1,n.feedback.x=32,n.feedback.y=32,Object.values(n.edges).forEach((function(t){t.position.set(32,32),t.width=64,t.height=64})),n.hitArea=new a.Rectangle(0,0,64,64),n.addChild(n.mine),n.addChild(n.adjacentText),n.addChild(n.front),n.addChild.apply(n,Object.values(n.edges)),n.addChild(n.flag),n.addChild(n.feedback),n.addChild(n.hover),n.on("mouseover",n.animateHoverStart,n),n.on("mouseout",n.animateHoverEnd,n),n.tabIndex=n.app.state.indexOf(n.ix,n.iy),n.accessibleHint="cell:"+n.ix+","+n.iy,n}return Object(n.c)(e,t),Object.defineProperty(e.prototype,"ix",{get:function(){return this.viewState.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"iy",{get:function(){return this.viewState.y},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.updateState(),this.updateGridPosition(),this.setInteractiveEnabled(!0)},e.prototype.reset=function(){this.feedback.visible=!1},e.prototype.createFlag=function(){var t=new p.a(this.app.getSpine("flag"));return t.stateData.defaultMix=.05,t.x=30,t.y=52,t.visible=!1,t.scale.set(.75),this.addChild(t),t},e.prototype.createMine=function(){var t=new p.a(this.app.getSpine("mine"));return t.state.setAnimation(0,"idle",!0),t.x=32,t.y=32,t.visible=!1,this.addChild(t),t},e.prototype.updateGridPosition=function(){this.x=64*this.ix,this.y=64*this.iy,this.front.tilePosition.x=-this.viewState.x*this.textureFrontTileSize,this.front.tilePosition.y=-this.viewState.y*this.textureFrontTileSize},e.prototype.createEdgeSprite=function(t){void 0===t&&(t=0);var e=this.app.getFrame("tiles","front-edge-0"),r=new a.Sprite(e);return r.alpha=.5,r.anchor.set(.5),r.visible=!1,r.width=64,r.height=64,r.position.set(32,32),r.angle=t,r},e.prototype.updateEdgeSprites=function(){var t=this;if(Object.values(this.edges).forEach((function(e){var r=t.viewState.covered?"front-edge-0":"back-edge-0";e.texture=t.app.getFrame("tiles",r)})),this.ix-1>-1){var e=this.app.state.cellAt(this.ix-1,this.iy).view;this.edges.l.visible=e.viewState.covered!==this.viewState.covered,e.edges.r.visible=e.viewState.covered!==this.viewState.covered}else this.edges.l.visible=!0;if(this.ix+1<this.app.state.width){var r=this.app.state.cellAt(this.ix+1,this.iy).view;this.edges.r.visible=r.viewState.covered!==this.viewState.covered,r.edges.l.visible=r.viewState.covered!==this.viewState.covered}else this.edges.r.visible=!0;if(this.iy-1>-1){var n=this.app.state.cellAt(this.ix,this.iy-1).view;this.edges.u.visible=n.viewState.covered!==this.viewState.covered,n.edges.d.visible=n.viewState.covered!==this.viewState.covered}else this.edges.u.visible=!0;if(this.iy+1<this.app.state.height){var i=this.app.state.cellAt(this.ix,this.iy+1).view;this.edges.d.visible=i.viewState.covered!==this.viewState.covered,i.edges.u.visible=i.viewState.covered!==this.viewState.covered}else this.edges.d.visible=!0},e.prototype.updateState=function(t){void 0===t&&(t=this.state),t.flag!==this.viewState.flag&&this.setFlagEnabled(t.flag),t.mine!==this.viewState.mine&&this.setMineEnabled(t.mine),t.covered!==this.viewState.covered&&this.setCoveredEnabled(t.covered),0===t.adjacent||t.mine?this.adjacentText.visible=!1:this.setText(t.adjacent),this.viewState.x===t.x&&this.viewState.y===t.y||this.updateGridPosition(),this.front.alpha=this.app.state.config.cheatMode?.9:1,Object.assign(this.viewState,t),this.updateEdgeSprites()},e.prototype.animateResult=function(){this.viewState.mine&&this.viewState.flag&&this.animateCorrect(),this.viewState.mine&&!this.viewState.flag&&(this.setCoveredEnabled(!1),this.updateEdgeSprites(),this.animateIncorrect(),this.explodeMine()),!this.viewState.mine&&this.viewState.flag&&(this.adjacentText.text="",this.animateIncorrect())},e.prototype.animatePress=function(){c.get(this.hover).to({width:32,height:32,alpha:0},150,f.sineOut)},e.prototype.animateHoverStart=function(){c.get(this.hover).to({alpha:.25},50)},e.prototype.animateHoverEnd=function(){c.get(this.hover).to({alpha:0},50)},e.prototype.setText=function(t){var e,r=t.toString();this.adjacentText.style.fill=null!==(e=this.app.config.colorNumbers[r])&&void 0!==e?e:0,this.adjacentText.visible=!0,this.adjacentText.text=r},e.prototype.setCoveredEnabled=function(t){void 0===t&&(t=!0),this.viewState.covered=t,t?(this.setInteractiveEnabled(!0),this.front.visible=!0):(this.setInteractiveEnabled(!1),this.front.visible=!1)},e.prototype.setInteractiveEnabled=function(t){void 0===t&&(t=!0),t||this.animateHoverEnd(),this.interactive=t,this.buttonMode=t,this.accessible=t},e.prototype.setMineEnabled=function(t){void 0===t&&(t=!0),this.viewState.mine=t,this.mine&&(this.mine.visible=!!t)},e.prototype.setFlagEnabled=function(t){void 0===t&&(t=!0),this.viewState.flag=t,this.flag&&(t?(this.flag.state.setAnimation(0,"place-confirm",!1),this.flag.visible=!0):(this.flag.state.setAnimation(0,"destroy",!1),this.flag.state.addAnimation(0,"hidden",!1,0)))},e.prototype.animateCorrect=function(){this.feedback.visible=!0,this.feedback.state.setAnimation(0,"correct",!1)},e.prototype.animateIncorrect=function(){this.feedback.visible=!0,this.feedback.state.setAnimation(0,"incorrect",!1)},e.prototype.explodeMine=function(){var t;null===(t=this.mine)||void 0===t||t.state.setAnimation(0,"explode",!1)},e}(a.Container),g={colorCellUncovered:"#bfb46b",colorCellCovered:"#b8e66e",colorBackground:"#303030",colorBoard:"#bda355",colorUiBar:"#7b6536",colorNumberFont:"Arial",colorNumberWeight:"bold",colorNumbers:{1:"#326cff",2:"#007a00",3:"#962727",4:"#FAC7D2",5:"#FB7B04",6:"#762407",7:"#AD0E71",8:"#4A6C98"},levels:{easy:{startMines:4,gridWidth:6,gridHeight:6},medium:{startMines:10,gridWidth:10,gridHeight:10},hard:{startMines:30,gridWidth:16,gridHeight:16}}},m=r(208),y=r.n(m),b=function(t){function e(e,r){var n=t.call(this)||this;return n.app=e,n.back=a.Sprite.from(r),n.back.anchor.set(.5),n.buttonMode=!0,n.accessible=!0,n.interactive=!0,n.addChild(n.back),n.on("mouseout",n.onPointerOut,n),n.on("mouseover",n.onPointerOver,n),n.on("pointertap",n.onPointerTap,n),n.on("pointerdown",n.onPointerDown,n),n.on("pointerup",n.onPointerUp,n),n.on("pointerupoutside",n.onPointerCancel,n),n.on("pointercancel",n.onPointerCancel,n),n}return Object(n.c)(e,t),e.prototype.onPointerOut=function(t){},e.prototype.onPointerOver=function(t){},e.prototype.onPointerUp=function(t){},e.prototype.onPointerDown=function(t){},e.prototype.onPointerCancel=function(t){},e.prototype.onPointerTap=function(t){this.emit("tap",t)},e}(a.Sprite),x=function(t){function e(e,r){var n=t.call(this)||this;return n.app=e,n._min=r.min,n._max=r.max,n._default=r.default,n._current=n.default,n.buttonLeft=new b(n.app,r.textureArrow),n.buttonLeft.anchor.set(.5),n.buttonLeft.scale.set(3),n.buttonLeft.x=-64,n.buttonRight=new b(n.app,r.textureArrow),n.buttonRight.anchor.set(.5),n.buttonRight.scale.set(3),n.buttonRight.scale.y=-3,n.buttonRight.x=64,n.number=new d(n.app,n.default.toString(),r.textStyle),n.number.anchor.set(.5,.5),n.label=new d(n.app,r.label,r.textStyle),n.label.anchor.set(1,.5),n.label.position.set(-110,0),n.addChild(n.label,n.number,n.buttonLeft,n.buttonRight),n.buttonLeft.on("pointertap",(function(){return n.set(n.current-1)})),n.buttonRight.on("pointertap",(function(){return n.set(n.current+1)})),n.set(n.default),n}return Object(n.c)(e,t),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this._current},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"default",{get:function(){return this._default},enumerable:!1,configurable:!0}),e.prototype.set=function(t){this._current=Math.floor(l(t,this.min,this.max)),this.number.text=this.current.toString(),this.buttonLeft.interactive=this.current!==this.min,this.buttonLeft.alpha=this.current!==this.min?1:.5,this.buttonRight.interactive=this.current!==this.max,this.buttonRight.alpha=this.current!==this.max?1:.5,this.emit("set",this.current)},e.prototype.setMin=function(t){this._min=t,this.set(this.current)},e.prototype.setMax=function(t){this._max=t,this.set(this.current)},e}(a.Container),_=function(t){function e(e,r){var n=t.call(this,e,r.backTexture)||this;return n.label=new d(n.app,r.text,r.textStyle),n.label.anchor.set(.5),n.addChild(n.label),n}return Object(n.c)(e,t),e}(b),w=function(t){function e(e){var r=t.call(this)||this;return r.app=e,r}return Object(n.c)(e,t),e.prototype.init=function(){var t=this,e=new a.TextStyle({fontFamily:"Arial",fontWeight:"Bold",fill:16777215,fontSize:36});this.title=a.Sprite.from(this.app.getFrame("textures","title")),this.title.y=-160,this.title.scale.set(.75),this.title.anchor.set(.5),this.buttonStart=new _(this.app,{textStyle:e,text:"Start",backTexture:this.app.getFrame("textures","button-long")}),this.buttonStart.position.set(0,128),this.buttonStart.anchor.set(.5),this.widthScroller=new x(this.app,{textStyle:e,textureArrow:a.Texture.WHITE,label:"Width",default:I.gridWidth,min:4,max:16}),this.widthScroller.x=64,this.widthScroller.y=-80,this.heightScroller=new x(this.app,{textStyle:e,textureArrow:a.Texture.WHITE,label:"Height",default:I.gridWidth,min:4,max:16}),this.heightScroller.x=64,this.heightScroller.y=-20,this.minesScroller=new x(this.app,{textStyle:e,textureArrow:a.Texture.WHITE,label:"Mines",default:I.startMines,min:1,max:I.gridWidth*I.gridHeight-2}),this.minesScroller.x=64,this.minesScroller.y=40,this.background=new a.Graphics,this.background.beginFill(11184810,.8),this.background.drawRect(-200,-200,400,400),this.background.endFill(),this.addChild(this.background),this.addChild(this.buttonStart),this.addChild(this.title),this.addChild(this.widthScroller),this.addChild(this.heightScroller),this.addChild(this.minesScroller),this.widthScroller.on("set",this.updatePreview,this),this.heightScroller.on("set",this.updatePreview,this),this.updatePreview(),this.buttonStart.on("tap",(function(){t.visible=!1;var e=t.widthScroller.current,r=t.heightScroller.current,n=t.minesScroller.current;y()((function(){return t.app.newGame({startMines:n,gridWidth:e,gridHeight:r})}))}))},e.prototype.updatePreview=function(){var t=this.widthScroller.current,e=this.heightScroller.current,r=this.minesScroller.current;this.minesScroller.setMax(t*e-2),this.app.previewGame({startMines:r,gridWidth:t,gridHeight:e})},e}(a.Container),T=function(){function t(){this.width=0,this.height=0,this.config={startMines:1,gridWidth:4,gridHeight:4},this.cells=[]}return Object.defineProperty(t.prototype,"totalMines",{get:function(){return this.cells.filter((function(t){return t.mine})).length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalFlags",{get:function(){return this.cells.filter((function(t){return t.flag})).length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalCells",{get:function(){return this.cells.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flagCount",{get:function(){return this.totalMines-this.totalFlags},enumerable:!1,configurable:!0}),t.prototype.init=function(t){if(t.gridWidth<4)throw new Error("Grid width below 4");if(t.gridHeight<4)throw new Error("Grid height below 4");if(t.gridWidth>64)throw new Error("Grid width bigger than 64");if(t.gridHeight>64)throw new Error("Grid height bigger than 64");if(t.startMines<1)throw new Error("Must have at least 1 mine");if(t.startMines>t.gridWidth*t.gridHeight-1)throw new Error("Too many mines ("+t.startMines+") for grid size: "+t.gridWidth+" x "+t.gridHeight);this.config=Object(n.a)({},t),this.width=t.gridWidth,this.height=t.gridHeight,this.initCells(),this.shuffleMines(t.startMines)},t.prototype.reset=function(){for(var t=0;t<this.width;t++)for(var e=0;e<this.height;e++){var r=this.cells[this.indexOf(t,e)];r.x=t,r.y=e,r.adjacent=0,r.mine=!1,r.flag=!1,r.covered=!0,r.view.reset()}this.shuffleMines(this.config.startMines)},t.prototype.initCells=function(){this.cells=[];for(var t=0;t<this.width;t++)for(var e=0;e<this.height;e++)this.cells[this.indexOf(t,e)]={x:t,y:e,adjacent:0,covered:!0,mine:!1,flag:!1};if(this.totalMines>this.width*this.height-1)throw new Error("Must be at least one free cell.")},t.prototype.cellAt=function(t,e){if(!this.coordsInBounds(t,e))throw new Error("cellAt: Coords out of bounds");return this.cells[t+e*this.width]},t.prototype.find=function(t){return this.cells.find(t)},t.prototype.placeFlag=function(t,e){if(!this.coordsInBounds(t,e))throw new Error("placeFlag: Coords out of bounds");this.cellAt(t,e).flag=!0},t.prototype.clearFlag=function(t,e){if(!this.coordsInBounds(t,e))throw new Error("clearFlag: Coords out of bounds");this.cellAt(t,e).flag=!1},t.prototype.placeMine=function(t,e){if(!this.coordsInBounds(t,e))throw new Error("placeMine: Coords out of bounds");this.cellAt(t,e).mine=!0},t.prototype.clearMine=function(t,e){if(!this.coordsInBounds(t,e))throw new Error("clearMine: Coords out of bounds");var r=this.cellAt(t,e);r.mine&&(r.mine=!1)},t.prototype.clearAllMines=function(){for(var t=0;t<this.width;t++)for(var e=0;e<this.height;e++)this.clearMine(t,e)},t.prototype.getLossData=function(){for(var t={correct:[],incorrect:[]},e=0;e<this.cells.length;e++){var r=this.cells[e];r.mine&&r.flag&&t.correct.push(r),r.mine&&!r.flag&&t.incorrect.push(r),!r.mine&&r.flag&&t.incorrect.push(r)}return t},t.prototype.getUnplacedFlags=function(){for(var t=[],e=0;e<this.cells.length;e++){var r=this.cells[e];r.mine&&!r.flag&&t.push(r)}return t},t.prototype.isWin=function(){return!this.cells.filter((function(t){return t.covered})).find((function(t){return!t.mine}))},t.prototype.indexOf=function(t,e){return t%this.width+e*this.width},t.prototype.indexInBounds=function(t){return t>-1&&t<this.cells.length},t.prototype.coordsOf=function(t){return[t%this.width,Math.floor(t/this.width)]},t.prototype.coordsInBounds=function(t,e){return t>-1&&t<this.width&&e>-1&&e<this.height},t.prototype.select=function(t,e){var r=this.cellAt(t,e),n=[];return 0!==r.adjacent||r.mine?(r.adjacent>0||r.mine)&&(n.push(r),this.uncover(t,e)):this.fill(t,e,n),n},t.prototype.selectFirst=function(t,e){for(var r=this.cellAt(t,e),n=!r.mine&&0===r.adjacent,i=0;!n;)this.shuffleMines(this.config.startMines),n=i<1e3?!r.mine&&0===r.adjacent:!r.mine,i++;return this.select(t,e)},t.prototype.uncover=function(t,e){var r=this.cellAt(t,e);r.covered=!1,r.flag&&(r.flag=!1)},t.prototype.fill=function(t,e,r){var n=this.cellAt(t,e);if(n.covered){if(r.push(n),this.uncover(t,e),n.adjacent>0)return;t>0&&(this.fill(t-1,e,r),e>0&&this.fill(t-1,e-1,r),e<this.height-1&&this.fill(t-1,e+1,r)),t<this.width-1&&(this.fill(t+1,e,r),e>0&&this.fill(t+1,e-1,r),e<this.height-1&&this.fill(t+1,e+1,r)),e>0&&this.fill(t,e-1,r),e<this.height-1&&this.fill(t,e+1,r)}},t.prototype.calculateAdjacent=function(){for(var t=this.width,e=this.height,r=0;r<this.cells.length;r++){var n=this.cells[r],i=r%t,o=Math.floor(r/t),a=0;i>0&&(a+=this.cells[r-1].mine?1:0,o<e-1&&(a+=this.cells[r-1+t].mine?1:0),o>0&&(a+=this.cells[r-1-t].mine?1:0)),i<t-1&&(a+=this.cells[r+1].mine?1:0,o<e-1&&(a+=this.cells[r+1+t].mine?1:0),o>0&&(a+=this.cells[r+1-t].mine?1:0)),o>0&&(a+=this.cells[r-t].mine?1:0),o<e-1&&(a+=this.cells[r+t].mine?1:0),n.adjacent=a}},t.prototype.shuffleMines=function(t){var e=this;this.clearAllMines();for(var r=[];r.length<t;){var n=Math.floor(Math.random()*this.cells.length);-1===r.indexOf(n)&&r.push(n)}r.forEach((function(t){return e.cells[t].mine=!0})),this.calculateAdjacent()},t}(),E=function(t){function e(e){var r=t.call(this)||this;return r.app=e,r}return Object(n.c)(e,t),e.prototype.init=function(){var t=this;this.visible=!1;var e=new a.Graphics;e.beginFill(65280),e.drawCircle(0,0,8),this.buttonFlag=new b(this.app,this.app.getFrame("textures","button-flag")),this.buttonFlag.tint=4473924,this.buttonFlag.x=-64,this.buttonFlag.y=0,this.buttonDig=new b(this.app,this.app.getFrame("textures","button-dig")),this.buttonDig.tint=4473924,this.buttonDig.x=0,this.buttonDig.y=64,this.addChild(this.buttonFlag),this.addChild(this.buttonDig),this.addChild(e),this.buttonDig.on("pointertap",(function(){t.targetCell&&(t.app.leftClick(t.targetCell),t.visible=!1)})),this.buttonFlag.on("pointertap",(function(){t.targetCell&&(t.app.rightClick(t.targetCell),t.visible=!1)}))},e.prototype.setTargetCell=function(t){this.targetCell=t},e.prototype.hide=function(){this.visible=!1},e.prototype.show=function(){this.visible=!0},e}(a.Container),S=function(t){function e(e){var r=t.call(this)||this;return r.app=e,r.background=new a.Graphics,r.addChild(r.background),r}return Object(n.c)(e,t),e.prototype.init=function(){var t=this,e=new a.TextStyle({fill:16777215,fontWeight:"bold"});this.flagsContainer=new a.Container,this.flagsContainer.y=-8,this.flagsGraphic=new p.a(this.app.getSpine("flag")),this.flagsGraphic.state.setAnimation(0,"place-confirm",!1),this.flagsGraphic.scale.set(.75),this.flagsGraphic.y=-4,this.flagsCount=new d(this.app,"",e),this.flagsCount.anchor.set(0,.5),this.flagsCount.x=38,this.flagsCount.y=-24,this.timeContainer=new a.Container,this.timeContainer.y=-8,this.timeGraphic=new p.a(this.app.getSpine("timer")),this.timeGraphic.scale.set(.75),this.timeGraphic.y=-22,this.timeCount=new d(this.app,"",e),this.timeCount.anchor.set(0,.5),this.timeCount.x=38,this.timeCount.y=-24,this.buttonRestart=new b(this.app,this.app.getFrame("textures","button-restart")),this.buttonRestart.on("pointertap",(function(){return t.app.restartGame()})),this.timeContainer.addChild(this.timeGraphic),this.timeContainer.addChild(this.timeCount),this.flagsContainer.addChild(this.flagsGraphic),this.flagsContainer.addChild(this.flagsCount),this.addChild(this.timeContainer),this.addChild(this.flagsContainer),this.addChild(this.buttonRestart),this.app.events.on("update",this.onUpdate,this),this.app.events.on("resize",this.onResize,this),this.onResize(this.app.width,this.app.height)},e.prototype.onUpdate=function(t){var e=this.app.state.flagCount.toString();e!==this.flagsCount.text&&(this.flagsCount.text=e);var r=Math.min(999,Math.floor(this.app.currentTime)).toString();r!==this.timeCount.text&&(this.timeCount.text=r)},e.prototype.onResize=function(t,e){this.buttonRestart.x=t/2-64,this.buttonRestart.y=-e/2+42,this.flagsContainer.x=-t/2+32,this.flagsContainer.y=-e/2+64,this.timeContainer.x=-t/2+148,this.timeContainer.y=-e/2+64},e}(a.Container),I={startMines:10,gridWidth:9,gridHeight:9},A=function(t){function e(){var e=t.call(this,{})||this;return e.state=new T,e.time=0,e.timeActive=!1,e.background=new a.Graphics,e.board=a.Sprite.from(a.Texture.WHITE),e.cellHeight=64,e.cellWidth=64,e.container=new a.Container,e.grid=new a.Container,e.isFirstClick=!0,e.touchUi=new E(e),e.menu=new w(e),e.ui=new S(e),window.addEventListener("contextmenu",(function(t){return t.preventDefault()}),!1),e.gameConfig=Object(n.a)({},I),e.container.y=16,e.root.addChild(e.background),e.root.addChild(e.container),e.root.addChild(e.ui),e.root.addChild(e.touchUi),e.events.on("init",e.onInit,e),e.events.on("resize",e.onResize,e),e.events.on("update",e.onUpdate,e),e}return Object(n.c)(e,t),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this.time},enumerable:!1,configurable:!0}),e.prototype.onInit=function(){this.grid.interactiveChildren=!1,this.addSpine("mine"),this.addSpine("flag"),this.addSpine("timer"),this.addSpine("feedback"),this.addAtlas("textures"),this.addAtlas("tiles"),this.addJson("config","config.json"),this.loader.load(),this.loader.onComplete.once(this.onLoad,this)},e.prototype.onLoad=function(){this.config=this.parseConfig(this.getJson("config")),this.boardBack=new a.TilingSprite(this.getFrame("tiles","back-0")),this.board.tint=h(this.config.colorBoard);var t=this.getAtlas("tiles");t.spritesheet&&(t.spritesheet.baseTexture.mipmap=a.MIPMAP_MODES.OFF,t.spritesheet.baseTexture.scaleMode=a.SCALE_MODES.NEAREST,t.spritesheet.baseTexture.update()),this.menu.init(),this.touchUi.init(),this.ui.init(),this.ui.visible=!1,this.container.addChild(this.board),this.container.addChild(this.boardBack),this.container.addChild(this.grid),this.container.addChild(this.menu),this.board.zIndex=0,this.boardBack.zIndex=10,this.grid.zIndex=20,this.menu.zIndex=30,this.container.sortChildren(),this.onResize(this.width,this.height)},e.prototype.onUpdate=function(t){this.timeActive&&(this.time+=this.ticker.elapsedMS/1e3)},e.prototype.onResize=function(t,e){var r;this.background.clear(),this.background.beginFill(h((null===(r=this.config)||void 0===r?void 0:r.colorBackground)||"#ffffff")),this.background.drawRect(-t/2,-e/2,t,e);var n=this.width-200,i=this.height-200,o=64*this.state.width,a=64*this.state.height;o-n>a-i?(this.cellWidth=Math.floor(l(n/o*64,16,64)),this.cellHeight=Math.floor(l(n/o*64,16,64))):(this.cellWidth=Math.floor(l(i/a*64,16,64)),this.cellHeight=Math.floor(l(i/a*64,16,64)));var s=this.state.width*this.cellWidth,u=this.state.height*this.cellHeight,c=s+this.cellWidth/2,f=u+this.cellHeight/2;this.board.x=-c/2,this.board.y=-f/2,this.board.width=c,this.board.height=f,this.grid.scale.set(this.cellWidth/64),this.grid.x=-this.state.width/2*this.cellWidth,this.grid.y=-this.state.height/2*this.cellHeight,this.boardBack&&(this.boardBack.tileScale.set(this.cellWidth/64*2),this.boardBack.width=this.state.width*this.cellWidth,this.boardBack.height=this.state.height*this.cellHeight,this.boardBack.x=-this.state.width*this.cellWidth/2,this.boardBack.y=-this.state.height*this.cellHeight/2)},e.prototype.parseConfig=function(t){return void 0===t&&(t={}),o()(t,g)},e.prototype.initGrid=function(){var t=this;this.grid.removeChildren().forEach((function(t){return t.destroy()}));for(var e=0;e<this.state.width;e++)for(var r=0;r<this.state.height;r++){var n=this.state.cellAt(e,r),i=new v(this,n);n.view=i,this.grid.addChild(i)}this.grid.children.forEach((function(t){return t.init()})),this.grid.x=-this.state.width/2*this.cellWidth,this.grid.y=-this.state.height/2*this.cellHeight,this.grid.children.forEach((function(e){e.on("pointertap",t.onPointerTap,t)}))},e.prototype.updateCellStates=function(){for(var t=0;t<this.state.width;t++)for(var e=0;e<this.state.height;e++){this.state.cellAt(t,e).view.updateState()}},e.prototype.newGame=function(t){void 0===t&&(t=this.gameConfig),c.removeAllTweens(),this.gameConfig=Object(n.a)({},t),this.state.init(t),this.time=0,this.timeActive=!0,this.isFirstClick=!0,this.ui.visible=!0,this.touchUi.hide(),this.grid.interactiveChildren=!0,this.initGrid(),this.updateCellStates(),this.onResize(this.width,this.height)},e.prototype.restartGame=function(t){void 0===t&&(t=this.gameConfig),c.removeAllTweens(),this.time=0,this.timeActive=!0,this.isFirstClick=!0,this.touchUi.hide(),this.grid.interactiveChildren=!0,this.state.reset(),this.updateCellStates()},e.prototype.previewGame=function(t){void 0===t&&(t=this.gameConfig),this.state.init(t),this.onResize(this.width,this.height),this.boardBack&&(this.boardBack.visible=!0)},e.prototype.endGame=function(){this.timeActive=!1,this.grid.interactiveChildren=!1},e.prototype.animateWin=function(){this.endGame();for(var t=this.state.getUnplacedFlags(),e=c.get(this),r=function(){var r=Math.floor(Math.random()*t.length),n=t.splice(r,1)[0];e=e.call((function(){return n.view.setFlagEnabled(!0)})).wait(50)};t.length>0;)r()},e.prototype.animateLose=function(t){this.endGame();var e=this.state.getLossData(),r=c.get(this);e.incorrect.splice(e.incorrect.indexOf(t),1),r=r.call((function(){return t.view.animateResult()})).wait(50);for(var n=function(){var t=Math.floor(Math.random()*e.incorrect.length),n=e.incorrect.splice(t,1)[0];r=r.call((function(){return n.view.animateResult()})).wait(50)};e.incorrect.length>0;)n();for(var i=function(){var t=Math.floor(Math.random()*e.correct.length),n=e.correct.splice(t,1)[0];r=r.call((function(){return n.view.animateResult()})).wait(50)};e.correct.length>0;)i()},e.prototype.animateFill=function(t){return Object(n.b)(this,void 0,void 0,(function(){var e,r,i,o=this;return Object(n.d)(this,(function(n){switch(n.label){case 0:for(this.grid.interactiveChildren=!1,e=c.get(this),r=function(r){var n=2*r+1;e=e.call((function(){for(var e=0;e<n;e++){var i=t.x-r+e,a=t.y-r;o.state.coordsInBounds(i,a)&&o.state.cellAt(i,a).view.updateState()}for(e=0;e<n;e++){i=t.x+r,a=t.y-r+e;o.state.coordsInBounds(i,a)&&o.state.cellAt(i,a).view.updateState()}for(e=0;e<n;e++){i=t.x+r-e,a=t.y+r;o.state.coordsInBounds(i,a)&&o.state.cellAt(i,a).view.updateState()}for(e=0;e<n;e++){i=t.x-r,a=t.y-r+e;o.state.coordsInBounds(i,a)&&o.state.cellAt(i,a).view.updateState()}})).wait(33)},i=0;i<Math.max(this.state.width,this.state.height);i++)r(i);return e.call((function(){return o.grid.interactiveChildren=!0})),[4,new Promise((function(t){return e.on("complete",t)}))];case 1:return n.sent(),[2]}}))}))},e.prototype.leftClick=function(t){return Object(n.b)(this,void 0,void 0,(function(){var e,r,i,o;return Object(n.d)(this,(function(n){switch(n.label){case 0:return e=t.view,r=e.ix,i=e.iy,this.isFirstClick?(this.isFirstClick=!1,(o=this.state.selectFirst(r,i)).length>1?[4,this.animateFill(t)]:[3,2]):[3,3];case 1:n.sent(),n.label=2;case 2:return[3,6];case 3:return o=this.state.select(r,i),e.updateState(),t.mine?(this.animateLose(t),[3,6]):[3,4];case 4:return o.length>1?[4,this.animateFill(t)]:[3,6];case 5:n.sent(),n.label=6;case 6:return this.updateCellStates(),this.checkWin(),[2]}}))}))},e.prototype.checkWin=function(){this.state.isWin()&&this.animateWin()},e.prototype.rightClick=function(t){var e;t.flag=!t.flag,null===(e=t.view)||void 0===e||e.updateState(t)},e.prototype.onPointerTap=function(t){var e,r=t.currentTarget,n=this.state.cellAt(r.ix,r.iy);switch(t.data.pointerType){case"mouse":var i=2===t.data.button;i?i&&this.rightClick(n):this.leftClick(n);break;case"touch":if(n.view)if(this.isFirstClick)this.leftClick(n);else if(n===this.touchUi.targetCell)this.touchUi.hide();else{this.touchUi.show(),this.touchUi.setTargetCell(n);var o=this.root.toLocal(null===(e=n.view)||void 0===e?void 0:e.getGlobalPosition());this.touchUi.x=o.x+this.cellWidth/2,this.touchUi.y=o.y+this.cellHeight/2}}},e}(u)},function(t,e,r){"use strict";r.r(e),function(t){r(219),r(620),r(5),r(586),r(587);var e=r(209);function n(){window.document.body.style.background="black",window.document.body.style.overflow="hidden",window.document.body.style.margin="0px",window.document.body.style.padding="0px",window.document.body.style.border="0px";var t=new e.b;t.init(),t.loader.onComplete.once((function(){window.document.body.appendChild(t.view)}))}t.settings.SORTABLE_CHILDREN=!0,createjs.Ticker.timingMode=createjs.Ticker.RAF,createjs.Ticker.maxDelta=100,"loading"===window.document.readyState?window.addEventListener("load",n):n()}.call(this,r(5))},function(t,e,r){(function(t){var n=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,n,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,n,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},r(212),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,r(52))},function(t,e,r){(function(t,e){!function(t,r){"use strict";if(!t.setImmediate){var n,i,o,a,s,u=1,h={},c=!1,l=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?n=function(t){e.nextTick((function(){p(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){p(t.data)},n=function(t){o.port2.postMessage(t)}):l&&"onreadystatechange"in l.createElement("script")?(i=l.documentElement,n=function(t){var e=l.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):n=function(t){setTimeout(p,0,t)}:(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&p(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),n=function(e){t.postMessage(a+e,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var i={callback:t,args:e};return h[u]=i,n(u),u++},f.clearImmediate=d}function d(t){delete h[t]}function p(t){if(c)setTimeout(p,0,t);else{var e=h[t];if(e){c=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(void 0,r)}}(e)}finally{d(t),c=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,r(52),r(213))},function(t,e){var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var u,h=[],c=!1,l=-1;function f(){c&&u&&(c=!1,u.length?h=u.concat(h):l=-1,h.length&&d())}function d(){if(!c){var t=s(f);c=!0;for(var e=h.length;e;){for(u=h,h=[];++l<e;)u&&u[l].run();l=-1,e=h.length}u=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new p(t,e)),1!==h.length||c||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,r){(function(t,n){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){e&&e.nodeType,t&&t.nodeType;var a="object"==typeof n&&n;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,h=/^xn--/,c=/[^\x20-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,p=String.fromCharCode;function v(t){throw new RangeError(f[t])}function g(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function m(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+g((t=t.replace(l,".")).split("."),e).join(".")}function y(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function b(t){return g(t,(function(t){var e="";return t>65535&&(e+=p((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=p(t)})).join("")}function x(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function _(t,e,r){var n=0;for(t=r?d(t/700):t>>1,t+=d(t/e);t>455;n+=36)t=d(t/35);return d(n+36*t/(t+38))}function w(t){var e,r,n,i,o,a,s,h,c,l,f,p=[],g=t.length,m=0,y=128,x=72;for((r=t.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&v("not-basic"),p.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<g;){for(o=m,a=1,s=36;i>=g&&v("invalid-input"),((h=(f=t.charCodeAt(i++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:36)>=36||h>d((u-m)/a))&&v("overflow"),m+=h*a,!(h<(c=s<=x?1:s>=x+26?26:s-x));s+=36)a>d(u/(l=36-c))&&v("overflow"),a*=l;x=_(m-o,e=p.length+1,0==o),d(m/e)>u-y&&v("overflow"),y+=d(m/e),m%=e,p.splice(m++,0,y)}return b(p)}function T(t){var e,r,n,i,o,a,s,h,c,l,f,g,m,b,w,T=[];for(g=(t=y(t)).length,e=128,r=0,o=72,a=0;a<g;++a)(f=t[a])<128&&T.push(p(f));for(n=i=T.length,i&&T.push("-");n<g;){for(s=u,a=0;a<g;++a)(f=t[a])>=e&&f<s&&(s=f);for(s-e>d((u-r)/(m=n+1))&&v("overflow"),r+=(s-e)*m,e=s,a=0;a<g;++a)if((f=t[a])<e&&++r>u&&v("overflow"),f==e){for(h=r,c=36;!(h<(l=c<=o?1:c>=o+26?26:c-o));c+=36)w=h-l,b=36-l,T.push(p(x(l+w%b,0))),h=d(w/b);T.push(p(x(h,0))),o=_(r,m,n==i),r=0,++n}++r,++e}return T.join("")}s={version:"1.4.1",ucs2:{decode:y,encode:b},decode:w,encode:T,toASCII:function(t){return m(t,(function(t){return c.test(t)?"xn--"+T(t):t}))},toUnicode:function(t){return m(t,(function(t){return h.test(t)?w(t.slice(4).toLowerCase()):t}))}},void 0===(i=function(){return s}.call(e,r,e,t))||(t.exports=i)}()}).call(this,r(106)(t),r(52))},function(t,e,r){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,r){"use strict";e.decode=e.parse=r(217),e.encode=e.stringify=r(218)},function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,o){e=e||"&",r=r||"=";var a={};if("string"!=typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var h=t.length;u>0&&h>u&&(h=u);for(var c=0;c<h;++c){var l,f,d,p,v=t[c].replace(s,"%20"),g=v.indexOf(r);g>=0?(l=v.substr(0,g),f=v.substr(g+1)):(l=v,f=""),d=decodeURIComponent(l),p=decodeURIComponent(f),n(a,d)?i(a[d])?a[d].push(p):a[d]=[a[d],p]:a[d]=p}return a};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,r){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,s){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?o(a(t),(function(a){var s=encodeURIComponent(n(a))+r;return i(t[a])?o(t[a],(function(t){return s+encodeURIComponent(n(t))})).join(e):s+encodeURIComponent(n(t[a]))})).join(e):s?encodeURIComponent(n(s))+r+encodeURIComponent(n(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var a=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},function(t,e,r){r(220),r(423),r(580);var n=r(38);t.exports=n},function(t,e,r){r(221),r(222),r(223),r(224),r(225),r(226),r(227),r(228),r(229),r(230),r(231),r(232),r(233),r(234),r(235),r(236),r(237),r(238),r(239),r(240),r(241),r(242),r(243),r(244),r(245),r(246),r(247),r(248),r(249),r(250),r(251),r(252),r(253),r(254),r(255),r(256),r(258),r(259),r(260),r(261),r(262),r(263),r(264),r(159),r(265),r(266),r(267),r(268),r(269),r(270),r(271),r(272),r(273),r(274),r(275),r(276),r(277),r(278),r(279),r(280),r(281),r(282),r(283),r(284),r(285),r(286),r(287),r(288),r(289),r(290),r(291),r(292),r(89),r(293),r(294),r(295),r(296),r(297),r(298),r(165),r(299),r(300),r(301),r(302),r(303),r(304),r(305),r(306),r(307),r(308),r(167),r(309),r(310),r(311),r(312),r(313),r(314),r(315),r(316),r(317),r(318),r(319),r(320),r(321),r(322),r(125),r(323),r(324),r(325),r(326),r(327),r(328),r(329),r(330),r(331),r(332),r(333),r(334),r(335),r(336),r(337),r(338),r(339),r(340),r(341),r(342),r(343),r(344),r(345),r(346),r(347),r(348),r(349),r(350),r(351),r(352),r(353),r(354),r(355),r(356),r(357),r(358),r(359),r(360),r(361),r(363),r(364),r(366),r(367),r(368),r(179),r(369),r(132),r(181),r(133),r(370),r(371),r(373),r(374),r(375),r(376),r(377),r(378),r(379),r(380),r(381),r(382),r(383),r(384),r(385),r(386),r(387),r(388),r(389),r(390),r(391),r(392),r(393),r(394),r(395),r(396),r(397),r(398),r(399),r(400),r(401),r(402),r(403),r(404),r(405),r(406),r(407),r(408),r(409),r(410),r(411),r(412),r(413),r(414),r(415),r(416),r(417),r(418),r(419),r(420),r(421),r(422);var n=r(38);t.exports=n},function(t,e,r){"use strict";var n=r(0),i=r(6),o=r(16),a=r(4),s=r(9),u=r(114),h=r(150),c=r(2),l=r(18),f=r(49),d=r(10),p=r(1),v=r(17),g=r(31),m=r(36),y=r(43),b=r(29),x=r(61),_=r(53),w=r(152),T=r(113),E=r(26),S=r(14),I=r(82),A=r(19),P=r(27),M=r(84),O=r(83),C=r(68),R=r(67),D=r(8),N=r(153),L=r(22),F=r(39),k=r(20),U=r(25).forEach,B=O("hidden"),j=D("toPrimitive"),V=k.set,X=k.getterFor("Symbol"),G=Object.prototype,H=i.Symbol,Y=o("JSON","stringify"),W=E.f,z=S.f,q=w.f,K=I.f,Z=M("symbols"),$=M("op-symbols"),J=M("string-to-symbol-registry"),Q=M("symbol-to-string-registry"),tt=M("wks"),et=i.QObject,rt=!et||!et.prototype||!et.prototype.findChild,nt=s&&c((function(){return 7!=b(z({},"a",{get:function(){return z(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=W(G,e);n&&delete G[e],z(t,e,r),n&&t!==G&&z(G,e,n)}:z,it=function(t,e){var r=Z[t]=b(H.prototype);return V(r,{type:"Symbol",tag:t,description:e}),s||(r.description=e),r},ot=h?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof H},at=function(t,e,r){t===G&&at($,e,r),p(t);var n=m(e,!0);return p(r),l(Z,n)?(r.enumerable?(l(t,B)&&t[B][n]&&(t[B][n]=!1),r=b(r,{enumerable:y(0,!1)})):(l(t,B)||z(t,B,y(1,{})),t[B][n]=!0),nt(t,n,r)):z(t,n,r)},st=function(t,e){p(t);var r=g(e),n=x(r).concat(lt(r));return U(n,(function(e){s&&!ut.call(r,e)||at(t,e,r[e])})),t},ut=function(t){var e=m(t,!0),r=K.call(this,e);return!(this===G&&l(Z,e)&&!l($,e))&&(!(r||!l(this,e)||!l(Z,e)||l(this,B)&&this[B][e])||r)},ht=function(t,e){var r=g(t),n=m(e,!0);if(r!==G||!l(Z,n)||l($,n)){var i=W(r,n);return!i||!l(Z,n)||l(r,B)&&r[B][n]||(i.enumerable=!0),i}},ct=function(t){var e=q(g(t)),r=[];return U(e,(function(t){l(Z,t)||l(C,t)||r.push(t)})),r},lt=function(t){var e=t===G,r=q(e?$:g(t)),n=[];return U(r,(function(t){!l(Z,t)||e&&!l(G,t)||n.push(Z[t])})),n};(u||(P((H=function(){if(this instanceof H)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=R(t),r=function(t){this===G&&r.call($,t),l(this,B)&&l(this[B],e)&&(this[B][e]=!1),nt(this,e,y(1,t))};return s&&rt&&nt(G,e,{configurable:!0,set:r}),it(e,t)}).prototype,"toString",(function(){return X(this).tag})),P(H,"withoutSetter",(function(t){return it(R(t),t)})),I.f=ut,S.f=at,E.f=ht,_.f=w.f=ct,T.f=lt,N.f=function(t){return it(D(t),t)},s&&(z(H.prototype,"description",{configurable:!0,get:function(){return X(this).description}}),a||P(G,"propertyIsEnumerable",ut,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:H}),U(x(tt),(function(t){L(t)})),n({target:"Symbol",stat:!0,forced:!u},{for:function(t){var e=String(t);if(l(J,e))return J[e];var r=H(e);return J[e]=r,Q[r]=e,r},keyFor:function(t){if(!ot(t))throw TypeError(t+" is not a symbol");if(l(Q,t))return Q[t]},useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),n({target:"Object",stat:!0,forced:!u,sham:!s},{create:function(t,e){return void 0===e?b(t):st(b(t),e)},defineProperty:at,defineProperties:st,getOwnPropertyDescriptor:ht}),n({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:ct,getOwnPropertySymbols:lt}),n({target:"Object",stat:!0,forced:c((function(){T.f(1)}))},{getOwnPropertySymbols:function(t){return T.f(v(t))}}),Y)&&n({target:"JSON",stat:!0,forced:!u||c((function(){var t=H();return"[null]"!=Y([t])||"{}"!=Y({a:t})||"{}"!=Y(Object(t))}))},{stringify:function(t,e,r){for(var n,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(n=e,(d(e)||void 0!==t)&&!ot(t))return f(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!ot(e))return e}),i[1]=e,Y.apply(null,i)}});H.prototype[j]||A(H.prototype,j,H.prototype.valueOf),F(H,"Symbol"),C[B]=!0},function(t,e,r){r(22)("asyncIterator")},function(t,e,r){"use strict";var n=r(0),i=r(9),o=r(6),a=r(18),s=r(10),u=r(14).f,h=r(148),c=o.Symbol;if(i&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var l={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new c(t):void 0===t?c():c(t);return""===t&&(l[e]=!0),e};h(f,c);var d=f.prototype=c.prototype;d.constructor=f;var p=d.toString,v="Symbol(test)"==String(c("test")),g=/^Symbol\((.*)\)[^)]+$/;u(d,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=p.call(t);if(a(l,t))return"";var r=v?e.slice(7,-1):e.replace(g,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:f})}},function(t,e,r){r(22)("hasInstance")},function(t,e,r){r(22)("isConcatSpreadable")},function(t,e,r){r(22)("iterator")},function(t,e,r){r(22)("match")},function(t,e,r){r(22)("matchAll")},function(t,e,r){r(22)("replace")},function(t,e,r){r(22)("search")},function(t,e,r){r(22)("species")},function(t,e,r){r(22)("split")},function(t,e,r){r(22)("toPrimitive")},function(t,e,r){r(22)("toStringTag")},function(t,e,r){r(22)("unscopables")},function(t,e,r){var n=r(0),i=r(154);n({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},function(t,e,r){r(0)({target:"Object",stat:!0,sham:!r(9)},{create:r(29)})},function(t,e,r){var n=r(0),i=r(9);n({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:r(14).f})},function(t,e,r){var n=r(0),i=r(9);n({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperties:r(115)})},function(t,e,r){var n=r(0),i=r(155).entries;n({target:"Object",stat:!0},{entries:function(t){return i(t)}})},function(t,e,r){var n=r(0),i=r(72),o=r(2),a=r(10),s=r(54).onFreeze,u=Object.freeze;n({target:"Object",stat:!0,forced:o((function(){u(1)})),sham:!i},{freeze:function(t){return u&&a(t)?u(s(t)):t}})},function(t,e,r){var n=r(0),i=r(7),o=r(55);n({target:"Object",stat:!0},{fromEntries:function(t){var e={};return i(t,(function(t,r){o(e,t,r)}),void 0,!0),e}})},function(t,e,r){var n=r(0),i=r(2),o=r(31),a=r(26).f,s=r(9),u=i((function(){a(1)}));n({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},function(t,e,r){var n=r(0),i=r(9),o=r(111),a=r(31),s=r(26),u=r(55);n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){for(var e,r,n=a(t),i=s.f,h=o(n),c={},l=0;h.length>l;)void 0!==(r=i(n,e=h[l++]))&&u(c,e,r);return c}})},function(t,e,r){var n=r(0),i=r(2),o=r(152).f;n({target:"Object",stat:!0,forced:i((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:o})},function(t,e,r){var n=r(0),i=r(2),o=r(17),a=r(28),s=r(118);n({target:"Object",stat:!0,forced:i((function(){a(1)})),sham:!s},{getPrototypeOf:function(t){return a(o(t))}})},function(t,e,r){r(0)({target:"Object",stat:!0},{is:r(156)})},function(t,e,r){var n=r(0),i=r(2),o=r(10),a=Object.isExtensible;n({target:"Object",stat:!0,forced:i((function(){a(1)}))},{isExtensible:function(t){return!!o(t)&&(!a||a(t))}})},function(t,e,r){var n=r(0),i=r(2),o=r(10),a=Object.isFrozen;n({target:"Object",stat:!0,forced:i((function(){a(1)}))},{isFrozen:function(t){return!o(t)||!!a&&a(t)}})},function(t,e,r){var n=r(0),i=r(2),o=r(10),a=Object.isSealed;n({target:"Object",stat:!0,forced:i((function(){a(1)}))},{isSealed:function(t){return!o(t)||!!a&&a(t)}})},function(t,e,r){var n=r(0),i=r(17),o=r(61);n({target:"Object",stat:!0,forced:r(2)((function(){o(1)}))},{keys:function(t){return o(i(t))}})},function(t,e,r){var n=r(0),i=r(10),o=r(54).onFreeze,a=r(72),s=r(2),u=Object.preventExtensions;n({target:"Object",stat:!0,forced:s((function(){u(1)})),sham:!a},{preventExtensions:function(t){return u&&i(t)?u(o(t)):t}})},function(t,e,r){var n=r(0),i=r(10),o=r(54).onFreeze,a=r(72),s=r(2),u=Object.seal;n({target:"Object",stat:!0,forced:s((function(){u(1)})),sham:!a},{seal:function(t){return u&&i(t)?u(o(t)):t}})},function(t,e,r){r(0)({target:"Object",stat:!0},{setPrototypeOf:r(51)})},function(t,e,r){var n=r(0),i=r(155).values;n({target:"Object",stat:!0},{values:function(t){return i(t)}})},function(t,e,r){var n=r(117),i=r(27),o=r(257);n||i(Object.prototype,"toString",o,{unsafe:!0})},function(t,e,r){"use strict";var n=r(117),i=r(74);t.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},function(t,e,r){"use strict";var n=r(0),i=r(9),o=r(85),a=r(17),s=r(3),u=r(14);i&&n({target:"Object",proto:!0,forced:o},{__defineGetter__:function(t,e){u.f(a(this),t,{get:s(e),enumerable:!0,configurable:!0})}})},function(t,e,r){"use strict";var n=r(0),i=r(9),o=r(85),a=r(17),s=r(3),u=r(14);i&&n({target:"Object",proto:!0,forced:o},{__defineSetter__:function(t,e){u.f(a(this),t,{set:s(e),enumerable:!0,configurable:!0})}})},function(t,e,r){"use strict";var n=r(0),i=r(9),o=r(85),a=r(17),s=r(36),u=r(28),h=r(26).f;i&&n({target:"Object",proto:!0,forced:o},{__lookupGetter__:function(t){var e,r=a(this),n=s(t,!0);do{if(e=h(r,n))return e.get}while(r=u(r))}})},function(t,e,r){"use strict";var n=r(0),i=r(9),o=r(85),a=r(17),s=r(36),u=r(28),h=r(26).f;i&&n({target:"Object",proto:!0,forced:o},{__lookupSetter__:function(t){var e,r=a(this),n=s(t,!0);do{if(e=h(r,n))return e.set}while(r=u(r))}})},function(t,e,r){r(0)({target:"Function",proto:!0},{bind:r(158)})},function(t,e,r){var n=r(9),i=r(14).f,o=Function.prototype,a=o.toString,s=/^\s*function ([^ (]*)/;n&&!("name"in o)&&i(o,"name",{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(t){return""}}})},function(t,e,r){"use strict";var n=r(10),i=r(14),o=r(28),a=r(8)("hasInstance"),s=Function.prototype;a in s||i.f(s,a,{value:function(t){if("function"!=typeof this||!n(t))return!1;if(!n(this.prototype))return t instanceof this;for(;t=o(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,r){var n=r(0),i=r(160);n({target:"Array",stat:!0,forced:!r(86)((function(t){Array.from(t)}))},{from:i})},function(t,e,r){r(0)({target:"Array",stat:!0},{isArray:r(49)})},function(t,e,r){"use strict";var n=r(0),i=r(2),o=r(55);n({target:"Array",stat:!0,forced:i((function(){function t(){}return!(Array.of.call(t)instanceof t)}))},{of:function(){for(var t=0,e=arguments.length,r=new("function"==typeof this?this:Array)(e);e>t;)o(r,t,arguments[t++]);return r.length=e,r}})},function(t,e,r){"use strict";var n=r(0),i=r(2),o=r(49),a=r(10),s=r(17),u=r(13),h=r(55),c=r(71),l=r(76),f=r(8),d=r(119),p=f("isConcatSpreadable"),v=d>=51||!i((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),g=l("concat"),m=function(t){if(!a(t))return!1;var e=t[p];return void 0!==e?!!e:o(t)};n({target:"Array",proto:!0,forced:!v||!g},{concat:function(t){var e,r,n,i,o,a=s(this),l=c(a,0),f=0;for(e=-1,n=arguments.length;e<n;e++)if(m(o=-1===e?a:arguments[e])){if(f+(i=u(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(r=0;r<i;r++,f++)r in o&&h(l,f,o[r])}else{if(f>=9007199254740991)throw TypeError("Maximum allowed index exceeded");h(l,f++,o)}return l.length=f,l}})},function(t,e,r){var n=r(0),i=r(161),o=r(40);n({target:"Array",proto:!0},{copyWithin:i}),o("copyWithin")},function(t,e,r){"use strict";var n=r(0),i=r(25).every,o=r(44),a=r(30),s=o("every"),u=a("every");n({target:"Array",proto:!0,forced:!s||!u},{every:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,r){var n=r(0),i=r(120),o=r(40);n({target:"Array",proto:!0},{fill:i}),o("fill")},function(t,e,r){"use strict";var n=r(0),i=r(25).filter,o=r(76),a=r(30),s=o("filter"),u=a("filter");n({target:"Array",proto:!0,forced:!s||!u},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,r){"use strict";var n=r(0),i=r(25).find,o=r(40),a=r(30),s=!0,u=a("find");"find"in[]&&Array(1).find((function(){s=!1})),n({target:"Array",proto:!0,forced:s||!u},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("find")},function(t,e,r){"use strict";var n=r(0),i=r(25).findIndex,o=r(40),a=r(30),s=!0,u=a("findIndex");"findIndex"in[]&&Array(1).findIndex((function(){s=!1})),n({target:"Array",proto:!0,forced:s||!u},{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},function(t,e,r){"use strict";var n=r(0),i=r(162),o=r(17),a=r(13),s=r(32),u=r(71);n({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=o(this),r=a(e.length),n=u(e,0);return n.length=i(n,e,e,r,0,void 0===t?1:s(t)),n}})},function(t,e,r){"use strict";var n=r(0),i=r(162),o=r(17),a=r(13),s=r(3),u=r(71);n({target:"Array",proto:!0},{flatMap:function(t){var e,r=o(this),n=a(r.length);return s(t),(e=u(r,0)).length=i(e,r,r,n,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},function(t,e,r){"use strict";var n=r(0),i=r(163);n({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},function(t,e,r){"use strict";var n=r(0),i=r(69).includes,o=r(40);n({target:"Array",proto:!0,forced:!r(30)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},function(t,e,r){"use strict";var n=r(0),i=r(69).indexOf,o=r(44),a=r(30),s=[].indexOf,u=!!s&&1/[1].indexOf(1,-0)<0,h=o("indexOf"),c=a("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:u||!h||!c},{indexOf:function(t){return u?s.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,r){"use strict";var n=r(0),i=r(66),o=r(31),a=r(44),s=[].join,u=i!=Object,h=a("join",",");n({target:"Array",proto:!0,forced:u||!h},{join:function(t){return s.call(o(this),void 0===t?",":t)}})},function(t,e,r){var n=r(0),i=r(164);n({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},function(t,e,r){"use strict";var n=r(0),i=r(25).map,o=r(76),a=r(30),s=o("map"),u=a("map");n({target:"Array",proto:!0,forced:!s||!u},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,r){"use strict";var n=r(0),i=r(88).left,o=r(44),a=r(30),s=o("reduce"),u=a("reduce",{1:0});n({target:"Array",proto:!0,forced:!s||!u},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,r){"use strict";var n=r(0),i=r(88).right,o=r(44),a=r(30),s=o("reduceRight"),u=a("reduce",{1:0});n({target:"Array",proto:!0,forced:!s||!u},{reduceRight:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,r){"use strict";var n=r(0),i=r(49),o=[].reverse,a=[1,2];n({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),o.call(this)}})},function(t,e,r){"use strict";var n=r(0),i=r(10),o=r(49),a=r(48),s=r(13),u=r(31),h=r(55),c=r(8),l=r(76),f=r(30),d=l("slice"),p=f("slice",{ACCESSORS:!0,0:0,1:2}),v=c("species"),g=[].slice,m=Math.max;n({target:"Array",proto:!0,forced:!d||!p},{slice:function(t,e){var r,n,c,l=u(this),f=s(l.length),d=a(t,f),p=a(void 0===e?f:e,f);if(o(l)&&("function"!=typeof(r=l.constructor)||r!==Array&&!o(r.prototype)?i(r)&&null===(r=r[v])&&(r=void 0):r=void 0,r===Array||void 0===r))return g.call(l,d,p);for(n=new(void 0===r?Array:r)(m(p-d,0)),c=0;d<p;d++,c++)d in l&&h(n,c,l[d]);return n.length=c,n}})},function(t,e,r){"use strict";var n=r(0),i=r(25).some,o=r(44),a=r(30),s=o("some"),u=a("some");n({target:"Array",proto:!0,forced:!s||!u},{some:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,r){"use strict";var n=r(0),i=r(3),o=r(17),a=r(2),s=r(44),u=[],h=u.sort,c=a((function(){u.sort(void 0)})),l=a((function(){u.sort(null)})),f=s("sort");n({target:"Array",proto:!0,forced:c||!l||!f},{sort:function(t){return void 0===t?h.call(o(this)):h.call(o(this),i(t))}})},function(t,e,r){"use strict";var n=r(0),i=r(48),o=r(32),a=r(13),s=r(17),u=r(71),h=r(55),c=r(76),l=r(30),f=c("splice"),d=l("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,v=Math.min;n({target:"Array",proto:!0,forced:!f||!d},{splice:function(t,e){var r,n,c,l,f,d,g=s(this),m=a(g.length),y=i(t,m),b=arguments.length;if(0===b?r=n=0:1===b?(r=0,n=m-y):(r=b-2,n=v(p(o(e),0),m-y)),m+r-n>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(c=u(g,n),l=0;l<n;l++)(f=y+l)in g&&h(c,l,g[f]);if(c.length=n,r<n){for(l=y;l<m-n;l++)d=l+r,(f=l+n)in g?g[d]=g[f]:delete g[d];for(l=m;l>m-n+r;l--)delete g[l-1]}else if(r>n)for(l=m-n;l>y;l--)d=l+r-1,(f=l+n-1)in g?g[d]=g[f]:delete g[d];for(l=0;l<r;l++)g[l+y]=arguments[l+2];return g.length=m-n+r,c}})},function(t,e,r){r(56)("Array")},function(t,e,r){r(40)("flat")},function(t,e,r){r(40)("flatMap")},function(t,e,r){var n=r(0),i=r(48),o=String.fromCharCode,a=String.fromCodePoint;n({target:"String",stat:!0,forced:!!a&&1!=a.length},{fromCodePoint:function(t){for(var e,r=[],n=arguments.length,a=0;n>a;){if(e=+arguments[a++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");r.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return r.join("")}})},function(t,e,r){var n=r(0),i=r(31),o=r(13);n({target:"String",stat:!0},{raw:function(t){for(var e=i(t.raw),r=o(e.length),n=arguments.length,a=[],s=0;r>s;)a.push(String(e[s++])),s<n&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,r){"use strict";var n=r(0),i=r(63).codeAt;n({target:"String",proto:!0},{codePointAt:function(t){return i(this,t)}})},function(t,e,r){"use strict";var n,i=r(0),o=r(26).f,a=r(13),s=r(123),u=r(24),h=r(124),c=r(4),l="".endsWith,f=Math.min,d=h("endsWith");i({target:"String",proto:!0,forced:!!(c||d||(n=o(String.prototype,"endsWith"),!n||n.writable))&&!d},{endsWith:function(t){var e=String(u(this));s(t);var r=arguments.length>1?arguments[1]:void 0,n=a(e.length),i=void 0===r?n:f(a(r),n),o=String(t);return l?l.call(e,o,i):e.slice(i-o.length,i)===o}})},function(t,e,r){"use strict";var n=r(0),i=r(123),o=r(24);n({target:"String",proto:!0,forced:!r(124)("includes")},{includes:function(t){return!!~String(o(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},function(t,e,r){"use strict";var n=r(90),i=r(1),o=r(13),a=r(24),s=r(93),u=r(94);n("match",1,(function(t,e,r){return[function(e){var r=a(this),n=null==e?void 0:e[t];return void 0!==n?n.call(e,r):new RegExp(e)[t](String(r))},function(t){var n=r(e,t,this);if(n.done)return n.value;var a=i(t),h=String(this);if(!a.global)return u(a,h);var c=a.unicode;a.lastIndex=0;for(var l,f=[],d=0;null!==(l=u(a,h));){var p=String(l[0]);f[d]=p,""===p&&(a.lastIndex=s(h,o(a.lastIndex),c)),d++}return 0===d?null:f}]}))},function(t,e,r){"use strict";var n=r(0),i=r(126).end;n({target:"String",proto:!0,forced:r(166)},{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,r){"use strict";var n=r(0),i=r(126).start;n({target:"String",proto:!0,forced:r(166)},{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,r){r(0)({target:"String",proto:!0},{repeat:r(127)})},function(t,e,r){"use strict";var n=r(90),i=r(1),o=r(17),a=r(13),s=r(32),u=r(24),h=r(93),c=r(94),l=Math.max,f=Math.min,d=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g;n("replace",2,(function(t,e,r,n){var g=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,m=n.REPLACE_KEEPS_$0,y=g?"$":"$0";return[function(r,n){var i=u(this),o=null==r?void 0:r[t];return void 0!==o?o.call(r,i,n):e.call(String(i),r,n)},function(t,n){if(!g&&m||"string"==typeof n&&-1===n.indexOf(y)){var o=r(e,t,this,n);if(o.done)return o.value}var u=i(t),d=String(this),p="function"==typeof n;p||(n=String(n));var v=u.global;if(v){var x=u.unicode;u.lastIndex=0}for(var _=[];;){var w=c(u,d);if(null===w)break;if(_.push(w),!v)break;""===String(w[0])&&(u.lastIndex=h(d,a(u.lastIndex),x))}for(var T,E="",S=0,I=0;I<_.length;I++){w=_[I];for(var A=String(w[0]),P=l(f(s(w.index),d.length),0),M=[],O=1;O<w.length;O++)M.push(void 0===(T=w[O])?T:String(T));var C=w.groups;if(p){var R=[A].concat(M,P,d);void 0!==C&&R.push(C);var D=String(n.apply(void 0,R))}else D=b(A,d,P,M,C,n);P>=S&&(E+=d.slice(S,P)+D,S=P+A.length)}return E+d.slice(S)}];function b(t,r,n,i,a,s){var u=n+t.length,h=i.length,c=v;return void 0!==a&&(a=o(a),c=p),e.call(s,c,(function(e,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return r.slice(0,n);case"'":return r.slice(u);case"<":s=a[o.slice(1,-1)];break;default:var c=+o;if(0===c)return e;if(c>h){var l=d(c/10);return 0===l?e:l<=h?void 0===i[l-1]?o.charAt(1):i[l-1]+o.charAt(1):e}s=i[c-1]}return void 0===s?"":s}))}}))},function(t,e,r){"use strict";var n=r(90),i=r(1),o=r(24),a=r(156),s=r(94);n("search",1,(function(t,e,r){return[function(e){var r=o(this),n=null==e?void 0:e[t];return void 0!==n?n.call(e,r):new RegExp(e)[t](String(r))},function(t){var n=r(e,t,this);if(n.done)return n.value;var o=i(t),u=String(this),h=o.lastIndex;a(h,0)||(o.lastIndex=0);var c=s(o,u);return a(o.lastIndex,h)||(o.lastIndex=h),null===c?-1:c.index}]}))},function(t,e,r){"use strict";var n=r(90),i=r(77),o=r(1),a=r(24),s=r(23),u=r(93),h=r(13),c=r(94),l=r(91),f=r(2),d=[].push,p=Math.min,v=!f((function(){return!RegExp(4294967295,"y")}));n("split",2,(function(t,e,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var n=String(a(this)),o=void 0===r?4294967295:r>>>0;if(0===o)return[];if(void 0===t)return[n];if(!i(t))return e.call(n,t,o);for(var s,u,h,c=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,v=new RegExp(t.source,f+"g");(s=l.call(v,n))&&!((u=v.lastIndex)>p&&(c.push(n.slice(p,s.index)),s.length>1&&s.index<n.length&&d.apply(c,s.slice(1)),h=s[0].length,p=u,c.length>=o));)v.lastIndex===s.index&&v.lastIndex++;return p===n.length?!h&&v.test("")||c.push(""):c.push(n.slice(p)),c.length>o?c.slice(0,o):c}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:e.call(this,t,r)}:e,[function(e,r){var i=a(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,i,r):n.call(String(i),e,r)},function(t,i){var a=r(n,t,this,i,n!==e);if(a.done)return a.value;var l=o(t),f=String(this),d=s(l,RegExp),g=l.unicode,m=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(v?"y":"g"),y=new d(v?l:"^(?:"+l.source+")",m),b=void 0===i?4294967295:i>>>0;if(0===b)return[];if(0===f.length)return null===c(y,f)?[f]:[];for(var x=0,_=0,w=[];_<f.length;){y.lastIndex=v?_:0;var T,E=c(y,v?f:f.slice(_));if(null===E||(T=p(h(y.lastIndex+(v?0:_)),f.length))===x)_=u(f,_,g);else{if(w.push(f.slice(x,_)),w.length===b)return w;for(var S=1;S<=E.length-1;S++)if(w.push(E[S]),w.length===b)return w;_=x=T}}return w.push(f.slice(x)),w}]}),!v)},function(t,e,r){"use strict";var n,i=r(0),o=r(26).f,a=r(13),s=r(123),u=r(24),h=r(124),c=r(4),l="".startsWith,f=Math.min,d=h("startsWith");i({target:"String",proto:!0,forced:!!(c||d||(n=o(String.prototype,"startsWith"),!n||n.writable))&&!d},{startsWith:function(t){var e=String(u(this));s(t);var r=a(f(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return l?l.call(e,n,r):e.slice(r,r+n.length)===n}})},function(t,e,r){"use strict";var n=r(0),i=r(65).trim;n({target:"String",proto:!0,forced:r(128)("trim")},{trim:function(){return i(this)}})},function(t,e,r){"use strict";var n=r(0),i=r(65).start,o=r(128)("trimStart"),a=o?function(){return i(this)}:"".trimStart;n({target:"String",proto:!0,forced:o},{trimStart:a,trimLeft:a})},function(t,e,r){"use strict";var n=r(0),i=r(65).end,o=r(128)("trimEnd"),a=o?function(){return i(this)}:"".trimEnd;n({target:"String",proto:!0,forced:o},{trimEnd:a,trimRight:a})},function(t,e,r){"use strict";var n=r(0),i=r(33);n({target:"String",proto:!0,forced:r(34)("anchor")},{anchor:function(t){return i(this,"a","name",t)}})},function(t,e,r){"use strict";var n=r(0),i=r(33);n({target:"String",proto:!0,forced:r(34)("big")},{big:function(){return i(this,"big","","")}})},function(t,e,r){"use strict";var n=r(0),i=r(33);n({target:"String",proto:!0,forced:r(34)("blink")},{blink:function(){return i(this,"blink","","")}})},function(t,e,r){"use strict";var n=r(0),i=r(33);n({target:"String",proto:!0,forced:r(34)("bold")},{bold:function(){return i(this,"b","","")}})},function(t,e,r){"use strict";var n=r(0),i=r(33);n({target:"String",proto:!0,forced:r(34)("fixed")},{fixed:function(){return i(this,"tt","","")}})},function(t,e,r){"use strict";var n=r(0),i=r(33);n({target:"String",proto:!0,forced:r(34)("fontcolor")},{fontcolor:function(t){return i(this,"font","color",t)}})},function(t,e,r){"use strict";var n=r(0),i=r(33);n({target:"String",proto:!0,forced:r(34)("fontsize")},{fontsize:function(t){return i(this,"font","size",t)}})},function(t,e,r){"use strict";var n=r(0),i=r(33);n({target:"String",proto:!0,forced:r(34)("italics")},{italics:function(){return i(this,"i","","")}})},function(t,e,r){"use strict";var n=r(0),i=r(33);n({target:"String",proto:!0,forced:r(34)("link")},{link:function(t){return i(this,"a","href",t)}})},function(t,e,r){"use strict";var n=r(0),i=r(33);n({target:"String",proto:!0,forced:r(34)("small")},{small:function(){return i(this,"small","","")}})},function(t,e,r){"use strict";var n=r(0),i=r(33);n({target:"String",proto:!0,forced:r(34)("strike")},{strike:function(){return i(this,"strike","","")}})},function(t,e,r){"use strict";var n=r(0),i=r(33);n({target:"String",proto:!0,forced:r(34)("sub")},{sub:function(){return i(this,"sub","","")}})},function(t,e,r){"use strict";var n=r(0),i=r(33);n({target:"String",proto:!0,forced:r(34)("sup")},{sup:function(){return i(this,"sup","","")}})},function(t,e,r){var n=r(9),i=r(6),o=r(70),a=r(96),s=r(14).f,u=r(53).f,h=r(77),c=r(64),l=r(92),f=r(27),d=r(2),p=r(20).set,v=r(56),g=r(8)("match"),m=i.RegExp,y=m.prototype,b=/a/g,x=/a/g,_=new m(b)!==b,w=l.UNSUPPORTED_Y;if(n&&o("RegExp",!_||w||d((function(){return x[g]=!1,m(b)!=b||m(x)==x||"/a/i"!=m(b,"i")})))){for(var T=function(t,e){var r,n=this instanceof T,i=h(t),o=void 0===e;if(!n&&i&&t.constructor===T&&o)return t;_?i&&!o&&(t=t.source):t instanceof T&&(o&&(e=c.call(t)),t=t.source),w&&(r=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var s=a(_?new m(t,e):m(t,e),n?this:y,T);return w&&r&&p(s,{sticky:r}),s},E=function(t){t in T||s(T,t,{configurable:!0,get:function(){return m[t]},set:function(e){m[t]=e}})},S=u(m),I=0;S.length>I;)E(S[I++]);y.constructor=T,T.prototype=y,f(i,"RegExp",T)}v("RegExp")},function(t,e,r){var n=r(9),i=r(14),o=r(64),a=r(92).UNSUPPORTED_Y;n&&("g"!=/./g.flags||a)&&i.f(RegExp.prototype,"flags",{configurable:!0,get:o})},function(t,e,r){var n=r(9),i=r(92).UNSUPPORTED_Y,o=r(14).f,a=r(20).get,s=RegExp.prototype;n&&i&&o(RegExp.prototype,"sticky",{configurable:!0,get:function(){if(this!==s){if(this instanceof RegExp)return!!a(this).sticky;throw TypeError("Incompatible receiver, RegExp required")}}})},function(t,e,r){"use strict";r(125);var n,i,o=r(0),a=r(10),s=(n=!1,(i=/[ac]/).exec=function(){return n=!0,/./.exec.apply(this,arguments)},!0===i.test("abc")&&n),u=/./.test;o({target:"RegExp",proto:!0,forced:!s},{test:function(t){if("function"!=typeof this.exec)return u.call(this,t);var e=this.exec(t);if(null!==e&&!a(e))throw new Error("RegExp exec method returned something other than an Object or null");return!!e}})},function(t,e,r){"use strict";var n=r(27),i=r(1),o=r(2),a=r(64),s=RegExp.prototype,u=s.toString,h=o((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),c="toString"!=u.name;(h||c)&&n(RegExp.prototype,"toString",(function(){var t=i(this),e=String(t.source),r=t.flags;return"/"+e+"/"+String(void 0===r&&t instanceof RegExp&&!("flags"in s)?a.call(t):r)}),{unsafe:!0})},function(t,e,r){var n=r(0),i=r(129);n({global:!0,forced:parseInt!=i},{parseInt:i})},function(t,e,r){var n=r(0),i=r(168);n({global:!0,forced:parseFloat!=i},{parseFloat:i})},function(t,e,r){"use strict";var n=r(9),i=r(6),o=r(70),a=r(27),s=r(18),u=r(35),h=r(96),c=r(36),l=r(2),f=r(29),d=r(53).f,p=r(26).f,v=r(14).f,g=r(65).trim,m=i.Number,y=m.prototype,b="Number"==u(f(y)),x=function(t){var e,r,n,i,o,a,s,u,h=c(t,!1);if("string"==typeof h&&h.length>2)if(43===(e=(h=g(h)).charCodeAt(0))||45===e){if(88===(r=h.charCodeAt(2))||120===r)return NaN}else if(48===e){switch(h.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+h}for(a=(o=h.slice(2)).length,s=0;s<a;s++)if((u=o.charCodeAt(s))<48||u>i)return NaN;return parseInt(o,n)}return+h};if(o("Number",!m(" 0o1")||!m("0b1")||m("+0x1"))){for(var _,w=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof w&&(b?l((function(){y.valueOf.call(r)})):"Number"!=u(r))?h(new m(x(e)),r,w):x(e)},T=n?d(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;T.length>E;E++)s(m,_=T[E])&&!s(w,_)&&v(w,_,p(m,_));w.prototype=y,y.constructor=w,a(i,"Number",w)}},function(t,e,r){r(0)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(t,e,r){r(0)({target:"Number",stat:!0},{isFinite:r(169)})},function(t,e,r){r(0)({target:"Number",stat:!0},{isInteger:r(170)})},function(t,e,r){r(0)({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},function(t,e,r){var n=r(0),i=r(170),o=Math.abs;n({target:"Number",stat:!0},{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,e,r){r(0)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,r){r(0)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,r){var n=r(0),i=r(168);n({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},function(t,e,r){var n=r(0),i=r(129);n({target:"Number",stat:!0,forced:Number.parseInt!=i},{parseInt:i})},function(t,e,r){"use strict";var n=r(0),i=r(32),o=r(171),a=r(127),s=r(2),u=1..toFixed,h=Math.floor,c=function(t,e,r){return 0===e?r:e%2==1?c(t,e-1,r*t):c(t*t,e/2,r)};n({target:"Number",proto:!0,forced:u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){u.call({})}))},{toFixed:function(t){var e,r,n,s,u=o(this),l=i(t),f=[0,0,0,0,0,0],d="",p="0",v=function(t,e){for(var r=-1,n=e;++r<6;)n+=t*f[r],f[r]=n%1e7,n=h(n/1e7)},g=function(t){for(var e=6,r=0;--e>=0;)r+=f[e],f[e]=h(r/t),r=r%t*1e7},m=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==f[t]){var r=String(f[t]);e=""===e?r:e+a.call("0",7-r.length)+r}return e};if(l<0||l>20)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(d="-",u=-u),u>1e-21)if(r=(e=function(t){for(var e=0,r=t;r>=4096;)e+=12,r/=4096;for(;r>=2;)e+=1,r/=2;return e}(u*c(2,69,1))-69)<0?u*c(2,-e,1):u/c(2,e,1),r*=4503599627370496,(e=52-e)>0){for(v(0,r),n=l;n>=7;)v(1e7,0),n-=7;for(v(c(10,n,1),0),n=e-1;n>=23;)g(1<<23),n-=23;g(1<<n),v(1,1),g(2),p=m()}else v(0,r),v(1<<-e,0),p=m()+a.call("0",l);return p=l>0?d+((s=p.length)<=l?"0."+a.call("0",l-s)+p:p.slice(0,s-l)+"."+p.slice(s-l)):d+p}})},function(t,e,r){"use strict";var n=r(0),i=r(2),o=r(171),a=1..toPrecision;n({target:"Number",proto:!0,forced:i((function(){return"1"!==a.call(1,void 0)}))||!i((function(){a.call({})}))},{toPrecision:function(t){return void 0===t?a.call(o(this)):a.call(o(this),t)}})},function(t,e,r){var n=r(0),i=r(172),o=Math.acosh,a=Math.log,s=Math.sqrt,u=Math.LN2;n({target:"Math",stat:!0,forced:!o||710!=Math.floor(o(Number.MAX_VALUE))||o(1/0)!=1/0},{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?a(t)+u:i(t-1+s(t-1)*s(t+1))}})},function(t,e,r){var n=r(0),i=Math.asinh,o=Math.log,a=Math.sqrt;n({target:"Math",stat:!0,forced:!(i&&1/i(0)>0)},{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):o(e+a(e*e+1)):e}})},function(t,e,r){var n=r(0),i=Math.atanh,o=Math.log;n({target:"Math",stat:!0,forced:!(i&&1/i(-0)<0)},{atanh:function(t){return 0==(t=+t)?t:o((1+t)/(1-t))/2}})},function(t,e,r){var n=r(0),i=r(130),o=Math.abs,a=Math.pow;n({target:"Math",stat:!0},{cbrt:function(t){return i(t=+t)*a(o(t),1/3)}})},function(t,e,r){var n=r(0),i=Math.floor,o=Math.log,a=Math.LOG2E;n({target:"Math",stat:!0},{clz32:function(t){return(t>>>=0)?31-i(o(t+.5)*a):32}})},function(t,e,r){var n=r(0),i=r(97),o=Math.cosh,a=Math.abs,s=Math.E;n({target:"Math",stat:!0,forced:!o||o(710)===1/0},{cosh:function(t){var e=i(a(t)-1)+1;return(e+1/(e*s*s))*(s/2)}})},function(t,e,r){var n=r(0),i=r(97);n({target:"Math",stat:!0,forced:i!=Math.expm1},{expm1:i})},function(t,e,r){r(0)({target:"Math",stat:!0},{fround:r(173)})},function(t,e,r){var n=r(0),i=Math.hypot,o=Math.abs,a=Math.sqrt;n({target:"Math",stat:!0,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(t,e){for(var r,n,i=0,s=0,u=arguments.length,h=0;s<u;)h<(r=o(arguments[s++]))?(i=i*(n=h/r)*n+1,h=r):i+=r>0?(n=r/h)*n:r;return h===1/0?1/0:h*a(i)}})},function(t,e,r){var n=r(0),i=r(2),o=Math.imul;n({target:"Math",stat:!0,forced:i((function(){return-5!=o(4294967295,5)||2!=o.length}))},{imul:function(t,e){var r=+t,n=+e,i=65535&r,o=65535&n;return 0|i*o+((65535&r>>>16)*o+i*(65535&n>>>16)<<16>>>0)}})},function(t,e,r){var n=r(0),i=Math.log,o=Math.LOG10E;n({target:"Math",stat:!0},{log10:function(t){return i(t)*o}})},function(t,e,r){r(0)({target:"Math",stat:!0},{log1p:r(172)})},function(t,e,r){var n=r(0),i=Math.log,o=Math.LN2;n({target:"Math",stat:!0},{log2:function(t){return i(t)/o}})},function(t,e,r){r(0)({target:"Math",stat:!0},{sign:r(130)})},function(t,e,r){var n=r(0),i=r(2),o=r(97),a=Math.abs,s=Math.exp,u=Math.E;n({target:"Math",stat:!0,forced:i((function(){return-2e-17!=Math.sinh(-2e-17)}))},{sinh:function(t){return a(t=+t)<1?(o(t)-o(-t))/2:(s(t-1)-s(-t-1))*(u/2)}})},function(t,e,r){var n=r(0),i=r(97),o=Math.exp;n({target:"Math",stat:!0},{tanh:function(t){var e=i(t=+t),r=i(-t);return e==1/0?1:r==1/0?-1:(e-r)/(o(t)+o(-t))}})},function(t,e,r){r(39)(Math,"Math",!0)},function(t,e,r){var n=r(0),i=Math.ceil,o=Math.floor;n({target:"Math",stat:!0},{trunc:function(t){return(t>0?o:i)(t)}})},function(t,e,r){r(0)({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},function(t,e,r){"use strict";var n=r(0),i=r(2),o=r(17),a=r(36);n({target:"Date",proto:!0,forced:i((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(t){var e=o(this),r=a(e);return"number"!=typeof r||isFinite(r)?e.toISOString():null}})},function(t,e,r){var n=r(0),i=r(362);n({target:"Date",proto:!0,forced:Date.prototype.toISOString!==i},{toISOString:i})},function(t,e,r){"use strict";var n=r(2),i=r(126).start,o=Math.abs,a=Date.prototype,s=a.getTime,u=a.toISOString;t.exports=n((function(){return"0385-07-25T07:06:39.999Z"!=u.call(new Date(-50000000000001))}))||!n((function(){u.call(new Date(NaN))}))?function(){if(!isFinite(s.call(this)))throw RangeError("Invalid time value");var t=this.getUTCFullYear(),e=this.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+i(o(t),r?6:4,0)+"-"+i(this.getUTCMonth()+1,2,0)+"-"+i(this.getUTCDate(),2,0)+"T"+i(this.getUTCHours(),2,0)+":"+i(this.getUTCMinutes(),2,0)+":"+i(this.getUTCSeconds(),2,0)+"."+i(e,3,0)+"Z"}:u},function(t,e,r){var n=r(27),i=Date.prototype,o=i.toString,a=i.getTime;new Date(NaN)+""!="Invalid Date"&&n(i,"toString",(function(){var t=a.call(this);return t==t?o.call(this):"Invalid Date"}))},function(t,e,r){var n=r(19),i=r(365),o=r(8)("toPrimitive"),a=Date.prototype;o in a||n(a,o,i)},function(t,e,r){"use strict";var n=r(1),i=r(36);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return i(n(this),"number"!==t)}},function(t,e,r){var n=r(0),i=r(16),o=r(2),a=i("JSON","stringify"),s=/[\uD800-\uDFFF]/g,u=/^[\uD800-\uDBFF]$/,h=/^[\uDC00-\uDFFF]$/,c=function(t,e,r){var n=r.charAt(e-1),i=r.charAt(e+1);return u.test(t)&&!h.test(i)||h.test(t)&&!u.test(n)?"\\u"+t.charCodeAt(0).toString(16):t},l=o((function(){return'"\\udf06\\ud834"'!==a("\udf06\ud834")||'"\\udead"'!==a("\udead")}));a&&n({target:"JSON",stat:!0,forced:l},{stringify:function(t,e,r){var n=a.apply(null,arguments);return"string"==typeof n?n.replace(s,c):n}})},function(t,e,r){var n=r(6);r(39)(n.JSON,"JSON",!0)},function(t,e,r){"use strict";var n,i,o,a,s=r(0),u=r(4),h=r(6),c=r(16),l=r(174),f=r(27),d=r(45),p=r(39),v=r(56),g=r(10),m=r(3),y=r(37),b=r(35),x=r(109),_=r(7),w=r(86),T=r(23),E=r(131).set,S=r(176),I=r(177),A=r(178),P=r(78),M=r(98),O=r(20),C=r(70),R=r(8),D=r(119),N=R("species"),L="Promise",F=O.get,k=O.set,U=O.getterFor(L),B=l,j=h.TypeError,V=h.document,X=h.process,G=c("fetch"),H=P.f,Y=H,W="process"==b(X),z=!!(V&&V.createEvent&&h.dispatchEvent),q=C(L,(function(){if(!(x(B)!==String(B))){if(66===D)return!0;if(!W&&"function"!=typeof PromiseRejectionEvent)return!0}if(u&&!B.prototype.finally)return!0;if(D>=51&&/native code/.test(B))return!1;var t=B.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[N]=e,!(t.then((function(){}))instanceof e)})),K=q||!w((function(t){B.all(t).catch((function(){}))})),Z=function(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e},$=function(t,e,r){if(!e.notified){e.notified=!0;var n=e.reactions;S((function(){for(var i=e.value,o=1==e.state,a=0;n.length>a;){var s,u,h,c=n[a++],l=o?c.ok:c.fail,f=c.resolve,d=c.reject,p=c.domain;try{l?(o||(2===e.rejection&&et(t,e),e.rejection=1),!0===l?s=i:(p&&p.enter(),s=l(i),p&&(p.exit(),h=!0)),s===c.promise?d(j("Promise-chain cycle")):(u=Z(s))?u.call(s,f,d):f(s)):d(i)}catch(t){p&&!h&&p.exit(),d(t)}}e.reactions=[],e.notified=!1,r&&!e.rejection&&Q(t,e)}))}},J=function(t,e,r){var n,i;z?((n=V.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),h.dispatchEvent(n)):n={promise:e,reason:r},(i=h["on"+t])?i(n):"unhandledrejection"===t&&A("Unhandled promise rejection",r)},Q=function(t,e){E.call(h,(function(){var r,n=e.value;if(tt(e)&&(r=M((function(){W?X.emit("unhandledRejection",n,t):J("unhandledrejection",t,n)})),e.rejection=W||tt(e)?2:1,r.error))throw r.value}))},tt=function(t){return 1!==t.rejection&&!t.parent},et=function(t,e){E.call(h,(function(){W?X.emit("rejectionHandled",t):J("rejectionhandled",t,e.value)}))},rt=function(t,e,r,n){return function(i){t(e,r,i,n)}},nt=function(t,e,r,n){e.done||(e.done=!0,n&&(e=n),e.value=r,e.state=2,$(t,e,!0))},it=function(t,e,r,n){if(!e.done){e.done=!0,n&&(e=n);try{if(t===r)throw j("Promise can't be resolved itself");var i=Z(r);i?S((function(){var n={done:!1};try{i.call(r,rt(it,t,n,e),rt(nt,t,n,e))}catch(r){nt(t,n,r,e)}})):(e.value=r,e.state=1,$(t,e,!1))}catch(r){nt(t,{done:!1},r,e)}}};q&&(B=function(t){y(this,B,L),m(t),n.call(this);var e=F(this);try{t(rt(it,this,e),rt(nt,this,e))}catch(t){nt(this,e,t)}},(n=function(t){k(this,{type:L,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(B.prototype,{then:function(t,e){var r=U(this),n=H(T(this,B));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=W?X.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&$(this,r,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new n,e=F(t);this.promise=t,this.resolve=rt(it,t,e),this.reject=rt(nt,t,e)},P.f=H=function(t){return t===B||t===o?new i(t):Y(t)},u||"function"!=typeof l||(a=l.prototype.then,f(l.prototype,"then",(function(t,e){var r=this;return new B((function(t,e){a.call(r,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof G&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return I(B,G.apply(h,arguments))}}))),s({global:!0,wrap:!0,forced:q},{Promise:B}),p(B,L,!1,!0),v(L),o=c(L),s({target:L,stat:!0,forced:q},{reject:function(t){var e=H(this);return e.reject.call(void 0,t),e.promise}}),s({target:L,stat:!0,forced:u||q},{resolve:function(t){return I(u&&this===o?B:this,t)}}),s({target:L,stat:!0,forced:K},{all:function(t){var e=this,r=H(e),n=r.resolve,i=r.reject,o=M((function(){var r=m(e.resolve),o=[],a=0,s=1;_(t,(function(t){var u=a++,h=!1;o.push(void 0),s++,r.call(e,t).then((function(t){h||(h=!0,o[u]=t,--s||n(o))}),i)})),--s||n(o)}));return o.error&&i(o.value),r.promise},race:function(t){var e=this,r=H(e),n=r.reject,i=M((function(){var i=m(e.resolve);_(t,(function(t){i.call(e,t).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}})},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(174),a=r(2),s=r(16),u=r(23),h=r(177),c=r(27);n({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=u(this,s("Promise")),r="function"==typeof t;return this.then(r?function(r){return h(e,t()).then((function(){return r}))}:t,r?function(r){return h(e,t()).then((function(){throw r}))}:t)}}),i||"function"!=typeof o||o.prototype.finally||c(o.prototype,"finally",s("Promise").prototype.finally)},function(t,e,r){"use strict";r(99)("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r(182))},function(t,e,r){"use strict";var n=r(0),i=r(6),o=r(100),a=r(56),s=o.ArrayBuffer;n({global:!0,forced:i.ArrayBuffer!==s},{ArrayBuffer:s}),a("ArrayBuffer")},function(t,e){var r=Math.abs,n=Math.pow,i=Math.floor,o=Math.log,a=Math.LN2;t.exports={pack:function(t,e,s){var u,h,c,l=new Array(s),f=8*s-e-1,d=(1<<f)-1,p=d>>1,v=23===e?n(2,-24)-n(2,-77):0,g=t<0||0===t&&1/t<0?1:0,m=0;for((t=r(t))!=t||t===1/0?(h=t!=t?1:0,u=d):(u=i(o(t)/a),t*(c=n(2,-u))<1&&(u--,c*=2),(t+=u+p>=1?v/c:v*n(2,1-p))*c>=2&&(u++,c/=2),u+p>=d?(h=0,u=d):u+p>=1?(h=(t*c-1)*n(2,e),u+=p):(h=t*n(2,p-1)*n(2,e),u=0));e>=8;l[m++]=255&h,h/=256,e-=8);for(u=u<<e|h,f+=e;f>0;l[m++]=255&u,u/=256,f-=8);return l[--m]|=128*g,l},unpack:function(t,e){var r,i=t.length,o=8*i-e-1,a=(1<<o)-1,s=a>>1,u=o-7,h=i-1,c=t[h--],l=127&c;for(c>>=7;u>0;l=256*l+t[h],h--,u-=8);for(r=l&(1<<-u)-1,l>>=-u,u+=e;u>0;r=256*r+t[h],h--,u-=8);if(0===l)l=1-s;else{if(l===a)return r?NaN:c?-1/0:1/0;r+=n(2,e),l-=s}return(c?-1:1)*r*n(2,l-e)}}},function(t,e,r){var n=r(0),i=r(15);n({target:"ArrayBuffer",stat:!0,forced:!i.NATIVE_ARRAY_BUFFER_VIEWS},{isView:i.isView})},function(t,e,r){"use strict";var n=r(0),i=r(2),o=r(100),a=r(1),s=r(48),u=r(13),h=r(23),c=o.ArrayBuffer,l=o.DataView,f=c.prototype.slice;n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:i((function(){return!new c(2).slice(1,void 0).byteLength}))},{slice:function(t,e){if(void 0!==f&&void 0===e)return f.call(a(this),t);for(var r=a(this).byteLength,n=s(t,r),i=s(void 0===e?r:e,r),o=new(h(this,c))(u(i-n)),d=new l(this),p=new l(o),v=0;n<i;)p.setUint8(v++,d.getUint8(n++));return o}})},function(t,e,r){var n=r(0),i=r(100);n({global:!0,forced:!r(134)},{DataView:i.DataView})},function(t,e,r){r(46)("Int8",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},function(t,e,r){r(46)("Uint8",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},function(t,e,r){r(46)("Uint8",(function(t){return function(e,r,n){return t(this,e,r,n)}}),!0)},function(t,e,r){r(46)("Int16",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},function(t,e,r){r(46)("Uint16",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},function(t,e,r){r(46)("Int32",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},function(t,e,r){r(46)("Uint32",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},function(t,e,r){r(46)("Float32",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},function(t,e,r){r(46)("Float64",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},function(t,e,r){"use strict";var n=r(135);(0,r(15).exportTypedArrayStaticMethod)("from",r(185),n)},function(t,e,r){"use strict";var n=r(15),i=r(135),o=n.aTypedArrayConstructor;(0,n.exportTypedArrayStaticMethod)("of",(function(){for(var t=0,e=arguments.length,r=new(o(this))(e);e>t;)r[t]=arguments[t++];return r}),i)},function(t,e,r){"use strict";var n=r(15),i=r(161),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("copyWithin",(function(t,e){return i.call(o(this),t,e,arguments.length>2?arguments[2]:void 0)}))},function(t,e,r){"use strict";var n=r(15),i=r(25).every,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("every",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,r){"use strict";var n=r(15),i=r(120),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("fill",(function(t){return i.apply(o(this),arguments)}))},function(t,e,r){"use strict";var n=r(15),i=r(25).filter,o=r(23),a=n.aTypedArray,s=n.aTypedArrayConstructor;(0,n.exportTypedArrayMethod)("filter",(function(t){for(var e=i(a(this),t,arguments.length>1?arguments[1]:void 0),r=o(this,this.constructor),n=0,u=e.length,h=new(s(r))(u);u>n;)h[n]=e[n++];return h}))},function(t,e,r){"use strict";var n=r(15),i=r(25).find,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("find",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,r){"use strict";var n=r(15),i=r(25).findIndex,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("findIndex",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,r){"use strict";var n=r(15),i=r(25).forEach,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("forEach",(function(t){i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,r){"use strict";var n=r(15),i=r(69).includes,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("includes",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,r){"use strict";var n=r(15),i=r(69).indexOf,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("indexOf",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,r){"use strict";var n=r(6),i=r(15),o=r(89),a=r(8)("iterator"),s=n.Uint8Array,u=o.values,h=o.keys,c=o.entries,l=i.aTypedArray,f=i.exportTypedArrayMethod,d=s&&s.prototype[a],p=!!d&&("values"==d.name||null==d.name),v=function(){return u.call(l(this))};f("entries",(function(){return c.call(l(this))})),f("keys",(function(){return h.call(l(this))})),f("values",v,!p),f(a,v,!p)},function(t,e,r){"use strict";var n=r(15),i=n.aTypedArray,o=n.exportTypedArrayMethod,a=[].join;o("join",(function(t){return a.apply(i(this),arguments)}))},function(t,e,r){"use strict";var n=r(15),i=r(164),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("lastIndexOf",(function(t){return i.apply(o(this),arguments)}))},function(t,e,r){"use strict";var n=r(15),i=r(25).map,o=r(23),a=n.aTypedArray,s=n.aTypedArrayConstructor;(0,n.exportTypedArrayMethod)("map",(function(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(s(o(t,t.constructor)))(e)}))}))},function(t,e,r){"use strict";var n=r(15),i=r(88).left,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduce",(function(t){return i(o(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(t,e,r){"use strict";var n=r(15),i=r(88).right,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduceRight",(function(t){return i(o(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(t,e,r){"use strict";var n=r(15),i=n.aTypedArray,o=n.exportTypedArrayMethod,a=Math.floor;o("reverse",(function(){for(var t,e=i(this).length,r=a(e/2),n=0;n<r;)t=this[n],this[n++]=this[--e],this[e]=t;return this}))},function(t,e,r){"use strict";var n=r(15),i=r(13),o=r(184),a=r(17),s=r(2),u=n.aTypedArray;(0,n.exportTypedArrayMethod)("set",(function(t){u(this);var e=o(arguments.length>1?arguments[1]:void 0,1),r=this.length,n=a(t),s=i(n.length),h=0;if(s+e>r)throw RangeError("Wrong length");for(;h<s;)this[e+h]=n[h++]}),s((function(){new Int8Array(1).set({})})))},function(t,e,r){"use strict";var n=r(15),i=r(23),o=r(2),a=n.aTypedArray,s=n.aTypedArrayConstructor,u=n.exportTypedArrayMethod,h=[].slice;u("slice",(function(t,e){for(var r=h.call(a(this),t,e),n=i(this,this.constructor),o=0,u=r.length,c=new(s(n))(u);u>o;)c[o]=r[o++];return c}),o((function(){new Int8Array(1).slice()})))},function(t,e,r){"use strict";var n=r(15),i=r(25).some,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("some",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,r){"use strict";var n=r(15),i=n.aTypedArray,o=n.exportTypedArrayMethod,a=[].sort;o("sort",(function(t){return a.call(i(this),t)}))},function(t,e,r){"use strict";var n=r(15),i=r(13),o=r(48),a=r(23),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("subarray",(function(t,e){var r=s(this),n=r.length,u=o(t,n);return new(a(r,r.constructor))(r.buffer,r.byteOffset+u*r.BYTES_PER_ELEMENT,i((void 0===e?n:o(e,n))-u))}))},function(t,e,r){"use strict";var n=r(6),i=r(15),o=r(2),a=n.Int8Array,s=i.aTypedArray,u=i.exportTypedArrayMethod,h=[].toLocaleString,c=[].slice,l=!!a&&o((function(){h.call(new a(1))}));u("toLocaleString",(function(){return h.apply(l?c.call(s(this)):s(this),arguments)}),o((function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()}))||!o((function(){a.prototype.toLocaleString.call([1,2])})))},function(t,e,r){"use strict";var n=r(15).exportTypedArrayMethod,i=r(2),o=r(6).Uint8Array,a=o&&o.prototype||{},s=[].toString,u=[].join;i((function(){s.call({})}))&&(s=function(){return u.call(this)});var h=a.toString!=s;n("toString",s,h)},function(t,e,r){var n=r(0),i=r(16),o=r(3),a=r(1),s=r(2),u=i("Reflect","apply"),h=Function.apply;n({target:"Reflect",stat:!0,forced:!s((function(){u((function(){}))}))},{apply:function(t,e,r){return o(t),a(r),u?u(t,e,r):h.call(t,e,r)}})},function(t,e,r){var n=r(0),i=r(16),o=r(3),a=r(1),s=r(10),u=r(29),h=r(158),c=r(2),l=i("Reflect","construct"),f=c((function(){function t(){}return!(l((function(){}),[],t)instanceof t)})),d=!c((function(){l((function(){}))})),p=f||d;n({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(t,e){o(t),a(e);var r=arguments.length<3?t:o(arguments[2]);if(d&&!f)return l(t,e,r);if(t==r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(h.apply(t,n))}var i=r.prototype,c=u(s(i)?i:Object.prototype),p=Function.apply.call(t,c,e);return s(p)?p:c}})},function(t,e,r){var n=r(0),i=r(9),o=r(1),a=r(36),s=r(14);n({target:"Reflect",stat:!0,forced:r(2)((function(){Reflect.defineProperty(s.f({},1,{value:1}),1,{value:2})})),sham:!i},{defineProperty:function(t,e,r){o(t);var n=a(e,!0);o(r);try{return s.f(t,n,r),!0}catch(t){return!1}}})},function(t,e,r){var n=r(0),i=r(1),o=r(26).f;n({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var r=o(i(t),e);return!(r&&!r.configurable)&&delete t[e]}})},function(t,e,r){var n=r(0),i=r(10),o=r(1),a=r(18),s=r(26),u=r(28);n({target:"Reflect",stat:!0},{get:function t(e,r){var n,h,c=arguments.length<3?e:arguments[2];return o(e)===c?e[r]:(n=s.f(e,r))?a(n,"value")?n.value:void 0===n.get?void 0:n.get.call(c):i(h=u(e))?t(h,r,c):void 0}})},function(t,e,r){var n=r(0),i=r(9),o=r(1),a=r(26);n({target:"Reflect",stat:!0,sham:!i},{getOwnPropertyDescriptor:function(t,e){return a.f(o(t),e)}})},function(t,e,r){var n=r(0),i=r(1),o=r(28);n({target:"Reflect",stat:!0,sham:!r(118)},{getPrototypeOf:function(t){return o(i(t))}})},function(t,e,r){r(0)({target:"Reflect",stat:!0},{has:function(t,e){return e in t}})},function(t,e,r){var n=r(0),i=r(1),o=Object.isExtensible;n({target:"Reflect",stat:!0},{isExtensible:function(t){return i(t),!o||o(t)}})},function(t,e,r){r(0)({target:"Reflect",stat:!0},{ownKeys:r(111)})},function(t,e,r){var n=r(0),i=r(16),o=r(1);n({target:"Reflect",stat:!0,sham:!r(72)},{preventExtensions:function(t){o(t);try{var e=i("Object","preventExtensions");return e&&e(t),!0}catch(t){return!1}}})},function(t,e,r){var n=r(0),i=r(1),o=r(10),a=r(18),s=r(2),u=r(14),h=r(26),c=r(28),l=r(43);n({target:"Reflect",stat:!0,forced:s((function(){var t=u.f({},"a",{configurable:!0});return!1!==Reflect.set(c(t),"a",1,t)}))},{set:function t(e,r,n){var s,f,d=arguments.length<4?e:arguments[3],p=h.f(i(e),r);if(!p){if(o(f=c(e)))return t(f,r,n,d);p=l(0)}if(a(p,"value")){if(!1===p.writable||!o(d))return!1;if(s=h.f(d,r)){if(s.get||s.set||!1===s.writable)return!1;s.value=n,u.f(d,r,s)}else u.f(d,r,l(0,n));return!0}return void 0!==p.set&&(p.set.call(d,n),!0)}})},function(t,e,r){var n=r(0),i=r(1),o=r(157),a=r(51);a&&n({target:"Reflect",stat:!0},{setPrototypeOf:function(t,e){i(t),o(e);try{return a(t,e),!0}catch(t){return!1}}})},function(t,e,r){r(424)},function(t,e,r){var n=r(425);t.exports=n},function(t,e,r){r(426);var n=r(436);t.exports=n},function(t,e,r){r(427),r(428),r(429),r(430),r(431),r(432),r(433),r(434),r(435)},function(t,e,r){var n=r(0),i=r(47),o=r(1),a=i.toKey,s=i.set;n({target:"Reflect",stat:!0},{defineMetadata:function(t,e,r){var n=arguments.length<4?void 0:a(arguments[3]);s(t,e,o(r),n)}})},function(t,e,r){var n=r(0),i=r(47),o=r(1),a=i.toKey,s=i.getMap,u=i.store;n({target:"Reflect",stat:!0},{deleteMetadata:function(t,e){var r=arguments.length<3?void 0:a(arguments[2]),n=s(o(e),r,!1);if(void 0===n||!n.delete(t))return!1;if(n.size)return!0;var i=u.get(e);return i.delete(r),!!i.size||u.delete(e)}})},function(t,e,r){var n=r(0),i=r(47),o=r(1),a=r(28),s=i.has,u=i.get,h=i.toKey,c=function(t,e,r){if(s(t,e,r))return u(t,e,r);var n=a(e);return null!==n?c(t,n,r):void 0};n({target:"Reflect",stat:!0},{getMetadata:function(t,e){var r=arguments.length<3?void 0:h(arguments[2]);return c(t,o(e),r)}})},function(t,e,r){var n=r(0),i=r(181),o=r(47),a=r(1),s=r(28),u=r(7),h=o.keys,c=o.toKey,l=function(t,e){var r=h(t,e),n=s(t);if(null===n)return r;var o,a,c=l(n,e);return c.length?r.length?(o=new i(r.concat(c)),u(o,(a=[]).push,a),a):c:r};n({target:"Reflect",stat:!0},{getMetadataKeys:function(t){var e=arguments.length<2?void 0:c(arguments[1]);return l(a(t),e)}})},function(t,e,r){var n=r(0),i=r(47),o=r(1),a=i.get,s=i.toKey;n({target:"Reflect",stat:!0},{getOwnMetadata:function(t,e){var r=arguments.length<3?void 0:s(arguments[2]);return a(t,o(e),r)}})},function(t,e,r){var n=r(0),i=r(47),o=r(1),a=i.keys,s=i.toKey;n({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(t){var e=arguments.length<2?void 0:s(arguments[1]);return a(o(t),e)}})},function(t,e,r){var n=r(0),i=r(47),o=r(1),a=r(28),s=i.has,u=i.toKey,h=function(t,e,r){if(s(t,e,r))return!0;var n=a(e);return null!==n&&h(t,n,r)};n({target:"Reflect",stat:!0},{hasMetadata:function(t,e){var r=arguments.length<3?void 0:u(arguments[2]);return h(t,o(e),r)}})},function(t,e,r){var n=r(0),i=r(47),o=r(1),a=i.has,s=i.toKey;n({target:"Reflect",stat:!0},{hasOwnMetadata:function(t,e){var r=arguments.length<3?void 0:s(arguments[2]);return a(t,o(e),r)}})},function(t,e,r){var n=r(0),i=r(47),o=r(1),a=i.toKey,s=i.set;n({target:"Reflect",stat:!0},{metadata:function(t,e){return function(r,n){s(t,e,o(r),a(n))}}})},function(t,e,r){r(437),r(442),r(444);var n=r(446);t.exports=n},function(t,e,r){r(438),r(439),r(440),r(441)},function(t,e,r){r(0)({target:"Math",stat:!0},{iaddh:function(t,e,r,n){var i=t>>>0,o=r>>>0;return(e>>>0)+(n>>>0)+((i&o|(i|o)&~(i+o>>>0))>>>31)|0}})},function(t,e,r){r(0)({target:"Math",stat:!0},{isubh:function(t,e,r,n){var i=t>>>0,o=r>>>0;return(e>>>0)-(n>>>0)-((~i&o|~(i^o)&i-o>>>0)>>>31)|0}})},function(t,e,r){r(0)({target:"Math",stat:!0},{imulh:function(t,e){var r=+t,n=+e,i=65535&r,o=65535&n,a=r>>16,s=n>>16,u=(a*o>>>0)+(i*o>>>16);return a*s+(u>>16)+((i*s>>>0)+(65535&u)>>16)}})},function(t,e,r){r(0)({target:"Math",stat:!0},{umulh:function(t,e){var r=+t,n=+e,i=65535&r,o=65535&n,a=r>>>16,s=n>>>16,u=(a*o>>>0)+(i*o>>>16);return a*s+(u>>>16)+((i*s>>>0)+(65535&u)>>>16)}})},function(t,e,r){r(443)},function(t,e,r){"use strict";var n=r(0),i=r(63).charAt;n({target:"String",proto:!0},{at:function(t){return i(this,t)}})},function(t,e,r){r(186),r(188),r(136)},function(t,e,r){"use strict";var n=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",a=Math.floor,s=String.fromCharCode,u=function(t){return t+22+75*(t<26)},h=function(t,e,r){var n=0;for(t=r?a(t/700):t>>1,t+=a(t/e);t>455;n+=36)t=a(t/35);return a(n+36*t/(t+38))},c=function(t){var e,r,n=[],i=(t=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var o=t.charCodeAt(r++);56320==(64512&o)?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),r--)}else e.push(i)}return e}(t)).length,c=128,l=0,f=72;for(e=0;e<t.length;e++)(r=t[e])<128&&n.push(s(r));var d=n.length,p=d;for(d&&n.push("-");p<i;){var v=2147483647;for(e=0;e<t.length;e++)(r=t[e])>=c&&r<v&&(v=r);var g=p+1;if(v-c>a((2147483647-l)/g))throw RangeError(o);for(l+=(v-c)*g,c=v,e=0;e<t.length;e++){if((r=t[e])<c&&++l>2147483647)throw RangeError(o);if(r==c){for(var m=l,y=36;;y+=36){var b=y<=f?1:y>=f+26?26:y-f;if(m<b)break;var x=m-b,_=36-b;n.push(s(u(b+x%_))),m=a(x/_)}n.push(s(u(m))),f=h(l,g,p==d),l=0,++p}}++l,++c}return n.join("")};t.exports=function(t){var e,r,o=[],a=t.toLowerCase().replace(i,".").split(".");for(e=0;e<a.length;e++)r=a[e],o.push(n.test(r)?"xn--"+c(r):r);return o.join(".")}},function(t,e,r){r(447),r(450),r(479),r(488),r(491),r(499),r(501),r(503),r(507),r(510),r(512),r(514),r(516);var n=r(518);t.exports=n},function(t,e,r){r(448),r(449)},function(t,e,r){"use strict";var n=r(9),i=r(40),o=r(17),a=r(13),s=r(14).f;n&&!("lastIndex"in[])&&(s(Array.prototype,"lastIndex",{configurable:!0,get:function(){var t=o(this),e=a(t.length);return 0==e?0:e-1}}),i("lastIndex"))},function(t,e,r){"use strict";var n=r(9),i=r(40),o=r(17),a=r(13),s=r(14).f;n&&!("lastItem"in[])&&(s(Array.prototype,"lastItem",{configurable:!0,get:function(){var t=o(this),e=a(t.length);return 0==e?void 0:t[e-1]},set:function(t){var e=o(this),r=a(e.length);return e[0==r?0:r-1]=t}}),i("lastItem"))},function(t,e,r){r(451),r(452),r(453),r(454),r(455),r(456),r(457),r(458),r(460),r(461),r(462),r(463),r(464),r(465),r(466),r(467),r(468),r(469),r(470),r(471),r(472),r(473),r(474),r(475),r(476),r(477),r(478)},function(t,e,r){"use strict";var n=r(0),i=r(7),o=r(3);n({target:"Map",stat:!0},{groupBy:function(t,e){var r=new this;o(e);var n=o(r.has),a=o(r.get),s=o(r.set);return i(t,(function(t){var i=e(t);n.call(r,i)?a.call(r,i).push(t):s.call(r,i,[t])})),r}})},function(t,e,r){"use strict";var n=r(0),i=r(7),o=r(3);n({target:"Map",stat:!0},{keyBy:function(t,e){var r=new this;o(e);var n=o(r.set);return i(t,(function(t){n.call(r,e(t),t)})),r}})},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(101);n({target:"Map",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(1),a=r(21),s=r(41),u=r(7);n({target:"Map",proto:!0,real:!0,forced:i},{every:function(t){var e=o(this),r=s(e),n=a(t,arguments.length>1?arguments[1]:void 0,3);return!u(r,(function(t,r){if(!n(r,t,e))return u.stop()}),void 0,!0,!0).stopped}})},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(16),a=r(1),s=r(3),u=r(21),h=r(23),c=r(41),l=r(7);n({target:"Map",proto:!0,real:!0,forced:i},{filter:function(t){var e=a(this),r=c(e),n=u(t,arguments.length>1?arguments[1]:void 0,3),i=new(h(e,o("Map"))),f=s(i.set);return l(r,(function(t,r){n(r,t,e)&&f.call(i,t,r)}),void 0,!0,!0),i}})},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(1),a=r(21),s=r(41),u=r(7);n({target:"Map",proto:!0,real:!0,forced:i},{find:function(t){var e=o(this),r=s(e),n=a(t,arguments.length>1?arguments[1]:void 0,3);return u(r,(function(t,r){if(n(r,t,e))return u.stop(r)}),void 0,!0,!0).result}})},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(1),a=r(21),s=r(41),u=r(7);n({target:"Map",proto:!0,real:!0,forced:i},{findKey:function(t){var e=o(this),r=s(e),n=a(t,arguments.length>1?arguments[1]:void 0,3);return u(r,(function(t,r){if(n(r,t,e))return u.stop(t)}),void 0,!0,!0).result}})},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(1),a=r(41),s=r(459),u=r(7);n({target:"Map",proto:!0,real:!0,forced:i},{includes:function(t){return u(a(o(this)),(function(e,r){if(s(r,t))return u.stop()}),void 0,!0,!0).stopped}})},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(1),a=r(41),s=r(7);n({target:"Map",proto:!0,real:!0,forced:i},{keyOf:function(t){return s(a(o(this)),(function(e,r){if(r===t)return s.stop(e)}),void 0,!0,!0).result}})},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(16),a=r(1),s=r(3),u=r(21),h=r(23),c=r(41),l=r(7);n({target:"Map",proto:!0,real:!0,forced:i},{mapKeys:function(t){var e=a(this),r=c(e),n=u(t,arguments.length>1?arguments[1]:void 0,3),i=new(h(e,o("Map"))),f=s(i.set);return l(r,(function(t,r){f.call(i,n(r,t,e),r)}),void 0,!0,!0),i}})},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(16),a=r(1),s=r(3),u=r(21),h=r(23),c=r(41),l=r(7);n({target:"Map",proto:!0,real:!0,forced:i},{mapValues:function(t){var e=a(this),r=c(e),n=u(t,arguments.length>1?arguments[1]:void 0,3),i=new(h(e,o("Map"))),f=s(i.set);return l(r,(function(t,r){f.call(i,t,n(r,t,e))}),void 0,!0,!0),i}})},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(1),a=r(3),s=r(7);n({target:"Map",proto:!0,real:!0,forced:i},{merge:function(t){for(var e=o(this),r=a(e.set),n=0;n<arguments.length;)s(arguments[n++],r,e,!0);return e}})},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(1),a=r(3),s=r(41),u=r(7);n({target:"Map",proto:!0,real:!0,forced:i},{reduce:function(t){var e=o(this),r=s(e),n=arguments.length<2,i=n?void 0:arguments[1];if(a(t),u(r,(function(r,o){n?(n=!1,i=o):i=t(i,o,r,e)}),void 0,!0,!0),n)throw TypeError("Reduce of empty map with no initial value");return i}})},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(1),a=r(21),s=r(41),u=r(7);n({target:"Map",proto:!0,real:!0,forced:i},{some:function(t){var e=o(this),r=s(e),n=a(t,arguments.length>1?arguments[1]:void 0,3);return u(r,(function(t,r){if(n(r,t,e))return u.stop()}),void 0,!0,!0).stopped}})},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(1),a=r(3);n({target:"Map",proto:!0,real:!0,forced:i},{update:function(t,e){var r=o(this),n=arguments.length;a(e);var i=r.has(t);if(!i&&n<3)throw TypeError("Updating absent value");var s=i?r.get(t):a(n>2?arguments[2]:void 0)(t,r);return r.set(t,e(s,t,r)),r}})},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(189);n({target:"Set",proto:!0,real:!0,forced:i},{addAll:function(){return o.apply(this,arguments)}})},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(101);n({target:"Set",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(1),a=r(21),s=r(57),u=r(7);n({target:"Set",proto:!0,real:!0,forced:i},{every:function(t){var e=o(this),r=s(e),n=a(t,arguments.length>1?arguments[1]:void 0,3);return!u(r,(function(t){if(!n(t,t,e))return u.stop()}),void 0,!1,!0).stopped}})},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(16),a=r(1),s=r(3),u=r(21),h=r(23),c=r(57),l=r(7);n({target:"Set",proto:!0,real:!0,forced:i},{filter:function(t){var e=a(this),r=c(e),n=u(t,arguments.length>1?arguments[1]:void 0,3),i=new(h(e,o("Set"))),f=s(i.add);return l(r,(function(t){n(t,t,e)&&f.call(i,t)}),void 0,!1,!0),i}})},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(1),a=r(21),s=r(57),u=r(7);n({target:"Set",proto:!0,real:!0,forced:i},{find:function(t){var e=o(this),r=s(e),n=a(t,arguments.length>1?arguments[1]:void 0,3);return u(r,(function(t){if(n(t,t,e))return u.stop(t)}),void 0,!1,!0).result}})},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(1),a=r(57),s=r(7);n({target:"Set",proto:!0,real:!0,forced:i},{join:function(t){var e=o(this),r=a(e),n=void 0===t?",":String(t),i=[];return s(r,i.push,i,!1,!0),i.join(n)}})},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(16),a=r(1),s=r(3),u=r(21),h=r(23),c=r(57),l=r(7);n({target:"Set",proto:!0,real:!0,forced:i},{map:function(t){var e=a(this),r=c(e),n=u(t,arguments.length>1?arguments[1]:void 0,3),i=new(h(e,o("Set"))),f=s(i.add);return l(r,(function(t){f.call(i,n(t,t,e))}),void 0,!1,!0),i}})},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(1),a=r(3),s=r(57),u=r(7);n({target:"Set",proto:!0,real:!0,forced:i},{reduce:function(t){var e=o(this),r=s(e),n=arguments.length<2,i=n?void 0:arguments[1];if(a(t),u(r,(function(r){n?(n=!1,i=r):i=t(i,r,r,e)}),void 0,!1,!0),n)throw TypeError("Reduce of empty set with no initial value");return i}})},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(1),a=r(21),s=r(57),u=r(7);n({target:"Set",proto:!0,real:!0,forced:i},{some:function(t){var e=o(this),r=s(e),n=a(t,arguments.length>1?arguments[1]:void 0,3);return u(r,(function(t){if(n(t,t,e))return u.stop()}),void 0,!1,!0).stopped}})},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(101);n({target:"WeakMap",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(189);n({target:"WeakSet",proto:!0,real:!0,forced:i},{addAll:function(){return o.apply(this,arguments)}})},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(101);n({target:"WeakSet",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},function(t,e,r){r(480),r(481),r(482),r(483),r(484),r(485),r(486),r(487)},function(t,e,r){r(0)({target:"Map",stat:!0},{from:r(102)})},function(t,e,r){r(0)({target:"Map",stat:!0},{of:r(103)})},function(t,e,r){r(0)({target:"Set",stat:!0},{from:r(102)})},function(t,e,r){r(0)({target:"Set",stat:!0},{of:r(103)})},function(t,e,r){r(0)({target:"WeakMap",stat:!0},{from:r(102)})},function(t,e,r){r(0)({target:"WeakMap",stat:!0},{of:r(103)})},function(t,e,r){r(0)({target:"WeakSet",stat:!0},{from:r(102)})},function(t,e,r){r(0)({target:"WeakSet",stat:!0},{of:r(103)})},function(t,e,r){r(489),r(490)},function(t,e,r){var n=r(0),i=r(190),o=r(16),a=r(29),s=function(){var t=o("Object","freeze");return t?t(a(null)):a(null)};n({global:!0},{compositeKey:function(){return i.apply(Object,arguments).get("object",s)}})},function(t,e,r){var n=r(0),i=r(190),o=r(16);n({global:!0},{compositeSymbol:function(){return 1===arguments.length&&"string"==typeof arguments[0]?o("Symbol").for(arguments[0]):i.apply(null,arguments).get("symbol",o("Symbol"))}})},function(t,e,r){r(492),r(493),r(494),r(495),r(496),r(497),r(498)},function(t,e,r){var n=r(0),i=Math.min,o=Math.max;n({target:"Math",stat:!0},{clamp:function(t,e,r){return i(r,o(e,t))}})},function(t,e,r){r(0)({target:"Math",stat:!0},{DEG_PER_RAD:Math.PI/180})},function(t,e,r){var n=r(0),i=180/Math.PI;n({target:"Math",stat:!0},{degrees:function(t){return t*i}})},function(t,e,r){var n=r(0),i=r(191),o=r(173);n({target:"Math",stat:!0},{fscale:function(t,e,r,n,a){return o(i(t,e,r,n,a))}})},function(t,e,r){r(0)({target:"Math",stat:!0},{RAD_PER_DEG:180/Math.PI})},function(t,e,r){var n=r(0),i=Math.PI/180;n({target:"Math",stat:!0},{radians:function(t){return t*i}})},function(t,e,r){r(0)({target:"Math",stat:!0},{scale:r(191)})},function(t,e,r){r(500)},function(t,e,r){r(0)({target:"Math",stat:!0},{signbit:function(t){return(t=+t)==t&&0==t?1/t==-1/0:t<0}})},function(t,e,r){r(502)},function(t,e,r){"use strict";var n=r(0),i=r(32),o=r(129),a=/^[\da-z]+$/;n({target:"Number",stat:!0},{fromString:function(t,e){var r,n,s=1;if("string"!=typeof t)throw TypeError("Invalid number representation");if(!t.length)throw SyntaxError("Invalid number representation");if("-"==t.charAt(0)&&(s=-1,!(t=t.slice(1)).length))throw SyntaxError("Invalid number representation");if((r=void 0===e?10:i(e))<2||r>36)throw RangeError("Invalid radix");if(!a.test(t)||(n=o(t,r)).toString(r)!==t)throw SyntaxError("Invalid number representation");return s*n}})},function(t,e,r){r(504),r(505),r(506)},function(t,e,r){"use strict";var n=r(0),i=r(137);n({target:"Object",stat:!0},{iterateEntries:function(t){return new i(t,"entries")}})},function(t,e,r){"use strict";var n=r(0),i=r(137);n({target:"Object",stat:!0},{iterateKeys:function(t){return new i(t,"keys")}})},function(t,e,r){"use strict";var n=r(0),i=r(137);n({target:"Object",stat:!0},{iterateValues:function(t){return new i(t,"values")}})},function(t,e,r){r(508),r(509)},function(t,e,r){"use strict";var n=r(0),i=r(9),o=r(56),a=r(3),s=r(1),u=r(10),h=r(37),c=r(14).f,l=r(19),f=r(45),d=r(80),p=r(7),v=r(178),g=r(8),m=r(20),y=g("observable"),b=m.get,x=m.set,_=function(t){return null==t?void 0:a(t)},w=function(t){var e=t.cleanup;if(e){t.cleanup=void 0;try{e()}catch(t){v(t)}}},T=function(t){return void 0===t.observer},E=function(t,e){if(!i){t.closed=!0;var r=e.subscriptionObserver;r&&(r.closed=!0)}e.observer=void 0},S=function(t,e){var r,n=x(this,{cleanup:void 0,observer:s(t),subscriptionObserver:void 0});i||(this.closed=!1);try{(r=_(t.start))&&r.call(t,this)}catch(t){v(t)}if(!T(n)){var o=n.subscriptionObserver=new I(this);try{var u=e(o),h=u;null!=u&&(n.cleanup="function"==typeof u.unsubscribe?function(){h.unsubscribe()}:a(u))}catch(t){return void o.error(t)}T(n)&&w(n)}};S.prototype=f({},{unsubscribe:function(){var t=b(this);T(t)||(E(this,t),w(t))}}),i&&c(S.prototype,"closed",{configurable:!0,get:function(){return T(b(this))}});var I=function(t){x(this,{subscription:t}),i||(this.closed=!1)};I.prototype=f({},{next:function(t){var e=b(b(this).subscription);if(!T(e)){var r=e.observer;try{var n=_(r.next);n&&n.call(r,t)}catch(t){v(t)}}},error:function(t){var e=b(this).subscription,r=b(e);if(!T(r)){var n=r.observer;E(e,r);try{var i=_(n.error);i?i.call(n,t):v(t)}catch(t){v(t)}w(r)}},complete:function(){var t=b(this).subscription,e=b(t);if(!T(e)){var r=e.observer;E(t,e);try{var n=_(r.complete);n&&n.call(r)}catch(t){v(t)}w(e)}}}),i&&c(I.prototype,"closed",{configurable:!0,get:function(){return T(b(b(this).subscription))}});var A=function(t){h(this,A,"Observable"),x(this,{subscriber:a(t)})};f(A.prototype,{subscribe:function(t){var e=arguments.length;return new S("function"==typeof t?{next:t,error:e>1?arguments[1]:void 0,complete:e>2?arguments[2]:void 0}:u(t)?t:{},b(this).subscriber)}}),f(A,{from:function(t){var e="function"==typeof this?this:A,r=_(s(t)[y]);if(r){var n=s(r.call(t));return n.constructor===e?n:new e((function(t){return n.subscribe(t)}))}var i=d(t);return new e((function(t){p(i,(function(e){if(t.next(e),t.closed)return p.stop()}),void 0,!1,!0),t.complete()}))},of:function(){for(var t="function"==typeof this?this:A,e=arguments.length,r=new Array(e),n=0;n<e;)r[n]=arguments[n++];return new t((function(t){for(var n=0;n<e;n++)if(t.next(r[n]),t.closed)return;t.complete()}))}}),l(A.prototype,y,(function(){return this})),n({global:!0},{Observable:A}),o("Observable")},function(t,e,r){r(22)("observable")},function(t,e,r){r(511)},function(t,e,r){r(22)("patternMatch")},function(t,e,r){r(513)},function(t,e,r){"use strict";var n=r(0),i=r(78),o=r(98);n({target:"Promise",stat:!0},{try:function(t){var e=i.f(this),r=o(t);return(r.error?e.reject:e.resolve)(r.value),e.promise}})},function(t,e,r){r(515)},function(t,e,r){var n=r(0),i=r(1),o=r(169),a=r(62),s=r(20),u=s.set,h=s.getterFor("Seeded Random Generator"),c=a((function(t){u(this,{type:"Seeded Random Generator",seed:t%2147483647})}),"Seeded Random",(function(){var t=h(this);return{value:(1073741823&(t.seed=(1103515245*t.seed+12345)%2147483647))/1073741823,done:!1}}));n({target:"Math",stat:!0,forced:!0},{seededPRNG:function(t){var e=i(t).seed;if(!o(e))throw TypeError('Math.seededPRNG() argument should have a "seed" field with a finite value.');return new c(e)}})},function(t,e,r){r(517)},function(t,e,r){"use strict";var n=r(0),i=r(62),o=r(24),a=r(20),s=r(63),u=s.codeAt,h=s.charAt,c=a.set,l=a.getterFor("String Iterator"),f=i((function(t){c(this,{type:"String Iterator",string:t,index:0})}),"String",(function(){var t,e=l(this),r=e.string,n=e.index;return n>=r.length?{value:void 0,done:!0}:(t=h(r,n),e.index+=t.length,{value:{codePoint:u(t,0),position:n},done:!1})}));n({target:"String",proto:!0},{codePoints:function(){return new f(String(o(this)))}})},function(t,e,r){r(519),r(521),r(551),r(555),r(563);var n=r(566);t.exports=n},function(t,e,r){r(520)},function(t,e,r){var n=r(0),i=r(49),o=Object.isFrozen,a=function(t,e){if(!o||!i(t)||!o(t))return!1;for(var r,n=0,a=t.length;n<a;)if(!("string"==typeof(r=t[n++])||e&&void 0===r))return!1;return 0!==a};n({target:"Array",stat:!0},{isTemplateObject:function(t){if(!a(t,!0))return!1;var e=t.raw;return!(e.length!==t.length||!a(e,!1))}})},function(t,e,r){r(522),r(524),r(525),r(526),r(527),r(528),r(529),r(530),r(531),r(532),r(533),r(534),r(535),r(536),r(537),r(538),r(539),r(540),r(541),r(542),r(543),r(544),r(545),r(546),r(547),r(548),r(549),r(550)},function(t,e,r){"use strict";var n=r(0),i=r(37),o=r(19),a=r(18),s=r(8),u=r(523),h=r(4),c=s("toStringTag"),l=function(){i(this,l)};l.prototype=u,a(u,c)||o(u,c,"AsyncIterator"),a(u,"constructor")&&u.constructor!==Object||o(u,"constructor",l),n({global:!0,forced:h},{AsyncIterator:l})},function(t,e,r){var n,i,o=r(6),a=r(110),s=r(28),u=r(18),h=r(19),c=r(8),l=r(4),f=c("asyncIterator"),d=o.AsyncIterator,p=a.AsyncIteratorPrototype;if(!l)if(p)n=p;else if("function"==typeof d)n=d.prototype;else if(a.USE_FUNCTION_CONSTRUCTOR||o.USE_FUNCTION_CONSTRUCTOR)try{i=s(s(s(Function("return async function*(){}()")()))),s(i)===Object.prototype&&(n=i)}catch(t){}n||(n={}),u(n,f)||h(n,f,(function(){return this})),t.exports=n},function(t,e,r){"use strict";var n=r(0),i=r(1),o=r(58)((function(t,e){var r=this,n=r.iterator;return e.resolve(i(r.next.call(n,t))).then((function(t){return i(t).done?(r.done=!0,{done:!0,value:void 0}):{done:!1,value:[r.index++,t.value]}}))}));n({target:"AsyncIterator",proto:!0,real:!0},{asIndexedPairs:function(){return new o({iterator:i(this),index:0})}})},function(t,e,r){"use strict";var n=r(0),i=r(1),o=r(79),a=r(58)((function(t,e){var r=this;return new e((function(n,o){var a=function(){try{e.resolve(i(r.next.call(r.iterator,r.remaining?void 0:t))).then((function(t){try{i(t).done?(r.done=!0,n({done:!0,value:void 0})):r.remaining?(r.remaining--,a()):n({done:!1,value:t.value})}catch(t){o(t)}}),o)}catch(t){o(t)}};a()}))}));n({target:"AsyncIterator",proto:!0,real:!0},{drop:function(t){return new a({iterator:i(this),remaining:o(t)})}})},function(t,e,r){"use strict";var n=r(0),i=r(81).every;n({target:"AsyncIterator",proto:!0,real:!0},{every:function(t){return i(this,t)}})},function(t,e,r){"use strict";var n=r(0),i=r(3),o=r(1),a=r(58)((function(t,e){var r=this,n=r.filterer;return new e((function(i,a){var s=function(){try{e.resolve(o(r.next.call(r.iterator,t))).then((function(t){try{if(o(t).done)r.done=!0,i({done:!0,value:void 0});else{var u=t.value;e.resolve(n(u)).then((function(t){t?i({done:!1,value:u}):s()}),a)}}catch(t){a(t)}}),a)}catch(t){a(t)}};s()}))}));n({target:"AsyncIterator",proto:!0,real:!0},{filter:function(t){return new a({iterator:o(this),filterer:i(t)})}})},function(t,e,r){"use strict";var n=r(0),i=r(81).find;n({target:"AsyncIterator",proto:!0,real:!0},{find:function(t){return i(this,t)}})},function(t,e,r){"use strict";var n=r(0),i=r(3),o=r(1),a=r(58),s=r(192),u=a((function(t,e){var r,n,a=this,u=a.mapper;return new e((function(h,c){var l=function(){try{e.resolve(o(a.next.call(a.iterator,t))).then((function(t){try{o(t).done?(a.done=!0,h({done:!0,value:void 0})):e.resolve(u(t.value)).then((function(t){try{if(void 0!==(n=s(t)))return a.innerIterator=r=o(n.call(t)),a.innerNext=i(r.next),f();c(TypeError(".flatMap callback should return an iterable object"))}catch(t){c(t)}}),c)}catch(t){c(t)}}),c)}catch(t){c(t)}},f=function(){if(r=a.innerIterator)try{e.resolve(o(a.innerNext.call(r))).then((function(t){try{o(t).done?(a.innerIterator=a.innerNext=null,l()):h({done:!1,value:t.value})}catch(t){c(t)}}),c)}catch(t){c(t)}else l()};f()}))}));n({target:"AsyncIterator",proto:!0,real:!0},{flatMap:function(t){return new u({iterator:o(this),mapper:i(t),innerIterator:null,innerNext:null})}})},function(t,e,r){"use strict";var n=r(0),i=r(81).forEach;n({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(t){return i(this,t)}})},function(t,e,r){var n=r(0),i=r(38),o=r(3),a=r(1),s=r(17),u=r(58),h=r(192),c=i.AsyncIterator,l=u((function(t){return a(this.next.call(this.iterator,t))}),!0);n({target:"AsyncIterator",stat:!0},{from:function(t){var e,r=s(t),n=h(r);if(null!=n){if((e=o(n).call(r))instanceof c)return e}else e=r;return new l({iterator:e})}})},function(t,e,r){"use strict";var n=r(0),i=r(3),o=r(1),a=r(58)((function(t,e){var r=this,n=r.mapper;return e.resolve(o(r.next.call(r.iterator,t))).then((function(t){return o(t).done?(r.done=!0,{done:!0,value:void 0}):e.resolve(n(t.value)).then((function(t){return{done:!1,value:t}}))}))}));n({target:"AsyncIterator",proto:!0,real:!0},{map:function(t){return new a({iterator:o(this),mapper:i(t)})}})},function(t,e,r){"use strict";var n=r(0),i=r(3),o=r(1),a=r(16)("Promise");n({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(t){var e=o(this),r=i(e.next),n=arguments.length<2,s=n?void 0:arguments[1];return i(t),new a((function(i,u){var h=function(){try{a.resolve(o(r.call(e))).then((function(e){try{if(o(e).done)n?u(TypeError("Reduce of empty iterator with no initial value")):i(s);else{var r=e.value;n?(n=!1,s=r,h()):a.resolve(t(s,r)).then((function(t){s=t,h()}),u)}}catch(t){u(t)}}),u)}catch(t){u(t)}};h()}))}})},function(t,e,r){"use strict";var n=r(0),i=r(81).some;n({target:"AsyncIterator",proto:!0,real:!0},{some:function(t){return i(this,t)}})},function(t,e,r){"use strict";var n=r(0),i=r(1),o=r(79),a=r(58)((function(t){return this.remaining--?this.next.call(this.iterator,t):(this.done=!0,{done:!0,value:void 0})}));n({target:"AsyncIterator",proto:!0,real:!0},{take:function(t){return new a({iterator:i(this),remaining:o(t)})}})},function(t,e,r){"use strict";var n=r(0),i=r(81).toArray;n({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return i(this)}})},function(t,e,r){"use strict";var n=r(0),i=r(6),o=r(37),a=r(19),s=r(2),u=r(18),h=r(8),c=r(122).IteratorPrototype,l=r(4),f=h("iterator"),d=h("toStringTag"),p=i.Iterator,v=l||"function"!=typeof p||p.prototype!==c||!s((function(){p({})})),g=function(){o(this,g)};l&&a(c={},f,(function(){return this})),u(c,d)||a(c,d,"Iterator"),!v&&u(c,"constructor")&&c.constructor!==Object||a(c,"constructor",g),g.prototype=c,n({global:!0,forced:v},{Iterator:g})},function(t,e,r){"use strict";var n=r(0),i=r(1),o=r(59)((function(t){var e=i(this.next.call(this.iterator,t));if(!(this.done=!!e.done))return[this.index++,e.value]}));n({target:"Iterator",proto:!0,real:!0},{asIndexedPairs:function(){return new o({iterator:i(this),index:0})}})},function(t,e,r){"use strict";var n=r(0),i=r(1),o=r(79),a=r(59)((function(t){for(var e,r=this.iterator,n=this.next;this.remaining;)if(this.remaining--,e=i(n.call(r)),this.done=!!e.done)return;if(e=i(n.call(r,t)),!(this.done=!!e.done))return e.value}));n({target:"Iterator",proto:!0,real:!0},{drop:function(t){return new a({iterator:i(this),remaining:o(t)})}})},function(t,e,r){"use strict";var n=r(0),i=r(7),o=r(3),a=r(1);n({target:"Iterator",proto:!0,real:!0},{every:function(t){return a(this),o(t),!i(this,(function(e){if(!t(e))return i.stop()}),void 0,!1,!0).stopped}})},function(t,e,r){"use strict";var n=r(0),i=r(3),o=r(1),a=r(59),s=r(75),u=a((function(t){for(var e,r,n=this.iterator,i=this.filterer,a=this.next;;){if(e=o(a.call(n,t)),this.done=!!e.done)return;if(r=e.value,s(n,i,r))return r}}));n({target:"Iterator",proto:!0,real:!0},{filter:function(t){return new u({iterator:o(this),filterer:i(t)})}})},function(t,e,r){"use strict";var n=r(0),i=r(7),o=r(3),a=r(1);n({target:"Iterator",proto:!0,real:!0},{find:function(t){return a(this),o(t),i(this,(function(e){if(t(e))return i.stop(e)}),void 0,!1,!0).result}})},function(t,e,r){"use strict";var n=r(0),i=r(3),o=r(1),a=r(50),s=r(59),u=r(75),h=s((function(t){for(var e,r,n,s,h=this.iterator;;){if(s=this.innerIterator){if(!(e=o(this.innerNext.call(s))).done)return e.value;this.innerIterator=this.innerNext=null}if(e=o(this.next.call(h,t)),this.done=!!e.done)return;if(r=u(h,this.mapper,e.value),void 0===(n=a(r)))throw TypeError(".flatMap callback should return an iterable object");this.innerIterator=s=o(n.call(r)),this.innerNext=i(s.next)}}));n({target:"Iterator",proto:!0,real:!0},{flatMap:function(t){return new h({iterator:o(this),mapper:i(t),innerIterator:null,innerNext:null})}})},function(t,e,r){"use strict";var n=r(0),i=r(7),o=r(1);n({target:"Iterator",proto:!0,real:!0},{forEach:function(t){i(o(this),t,void 0,!1,!0)}})},function(t,e,r){var n=r(0),i=r(38),o=r(3),a=r(1),s=r(17),u=r(59),h=r(50),c=i.Iterator,l=u((function(t){var e=a(this.next.call(this.iterator,t));if(!(this.done=!!e.done))return e.value}),!0);n({target:"Iterator",stat:!0},{from:function(t){var e,r=s(t),n=h(r);if(null!=n){if((e=o(n).call(r))instanceof c)return e}else e=r;return new l({iterator:e})}})},function(t,e,r){"use strict";var n=r(0),i=r(3),o=r(1),a=r(59),s=r(75),u=a((function(t){var e=this.iterator,r=o(this.next.call(e,t));if(!(this.done=!!r.done))return s(e,this.mapper,r.value)}));n({target:"Iterator",proto:!0,real:!0},{map:function(t){return new u({iterator:o(this),mapper:i(t)})}})},function(t,e,r){"use strict";var n=r(0),i=r(7),o=r(3),a=r(1);n({target:"Iterator",proto:!0,real:!0},{reduce:function(t){a(this),o(t);var e=arguments.length<2,r=e?void 0:arguments[1];if(i(this,(function(n){e?(e=!1,r=n):r=t(r,n)}),void 0,!1,!0),e)throw TypeError("Reduce of empty iterator with no initial value");return r}})},function(t,e,r){"use strict";var n=r(0),i=r(7),o=r(3),a=r(1);n({target:"Iterator",proto:!0,real:!0},{some:function(t){return a(this),o(t),i(this,(function(e){if(t(e))return i.stop()}),void 0,!1,!0).stopped}})},function(t,e,r){"use strict";var n=r(0),i=r(1),o=r(79),a=r(59)((function(t){if(this.remaining--){var e=i(this.next.call(this.iterator,t));return(this.done=!!e.done)?void 0:e.value}this.done=!0}));n({target:"Iterator",proto:!0,real:!0},{take:function(t){return new a({iterator:i(this),remaining:o(t)})}})},function(t,e,r){"use strict";var n=r(0),i=r(7),o=r(1),a=[].push;n({target:"Iterator",proto:!0,real:!0},{toArray:function(){var t=[];return i(o(this),a,t,!1,!0),t}})},function(t,e,r){r(552),r(553),r(554)},function(t,e,r){"use strict";r(0)({target:"Map",proto:!0,real:!0,forced:r(4)},{updateOrInsert:r(138)})},function(t,e,r){"use strict";r(0)({target:"Map",proto:!0,real:!0,forced:r(4)},{upsert:r(138)})},function(t,e,r){"use strict";r(0)({target:"WeakMap",proto:!0,real:!0,forced:r(4)},{upsert:r(138)})},function(t,e,r){r(556),r(557),r(558),r(559),r(560),r(561),r(562)},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(16),a=r(1),s=r(3),u=r(23),h=r(7);n({target:"Set",proto:!0,real:!0,forced:i},{difference:function(t){var e=a(this),r=new(u(e,o("Set")))(e),n=s(r.delete);return h(t,(function(t){n.call(r,t)})),r}})},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(16),a=r(1),s=r(3),u=r(23),h=r(7);n({target:"Set",proto:!0,real:!0,forced:i},{intersection:function(t){var e=a(this),r=new(u(e,o("Set"))),n=s(e.has),i=s(r.add);return h(t,(function(t){n.call(e,t)&&i.call(r,t)})),r}})},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(1),a=r(3),s=r(7);n({target:"Set",proto:!0,real:!0,forced:i},{isDisjointFrom:function(t){var e=o(this),r=a(e.has);return!s(t,(function(t){if(!0===r.call(e,t))return s.stop()})).stopped}})},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(16),a=r(1),s=r(3),u=r(80),h=r(7);n({target:"Set",proto:!0,real:!0,forced:i},{isSubsetOf:function(t){var e=u(this),r=a(t),n=r.has;return"function"!=typeof n&&(r=new(o("Set"))(t),n=s(r.has)),!h(e,(function(t){if(!1===n.call(r,t))return h.stop()}),void 0,!1,!0).stopped}})},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(1),a=r(3),s=r(7);n({target:"Set",proto:!0,real:!0,forced:i},{isSupersetOf:function(t){var e=o(this),r=a(e.has);return!s(t,(function(t){if(!1===r.call(e,t))return s.stop()})).stopped}})},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(16),a=r(1),s=r(3),u=r(23),h=r(7);n({target:"Set",proto:!0,real:!0,forced:i},{union:function(t){var e=a(this),r=new(u(e,o("Set")))(e);return h(t,s(r.add),r),r}})},function(t,e,r){"use strict";var n=r(0),i=r(4),o=r(16),a=r(1),s=r(3),u=r(23),h=r(7);n({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:function(t){var e=a(this),r=new(u(e,o("Set")))(e),n=s(r.delete),i=s(r.add);return h(t,(function(t){n.call(r,t)||i.call(r,t)})),r}})},function(t,e,r){r(564),r(565)},function(t,e,r){r(22)("asyncDispose")},function(t,e,r){r(22)("dispose")},function(t,e,r){r(567),r(570);var n=r(573);t.exports=n},function(t,e,r){r(568),r(569)},function(t,e,r){"use strict";var n=r(0),i=r(9),o=r(28),a=r(51),s=r(29),u=r(14),h=r(43),c=r(7),l=r(19),f=r(20),d=f.set,p=f.getterFor("AggregateError"),v=function(t,e){var r=this;if(!(r instanceof v))return new v(t,e);a&&(r=a(new Error(e),o(r)));var n=[];return c(t,n.push,n),i?d(r,{errors:n,type:"AggregateError"}):r.errors=n,void 0!==e&&l(r,"message",String(e)),r};v.prototype=s(Error.prototype,{constructor:h(5,v),message:h(5,""),name:h(5,"AggregateError")}),i&&u.f(v.prototype,"errors",{get:function(){return p(this).errors},configurable:!0}),n({global:!0},{AggregateError:v})},function(t,e,r){"use strict";var n=r(0),i=r(3),o=r(16),a=r(78),s=r(98),u=r(7);n({target:"Promise",stat:!0},{any:function(t){var e=this,r=a.f(e),n=r.resolve,h=r.reject,c=s((function(){var r=i(e.resolve),a=[],s=0,c=1,l=!1;u(t,(function(t){var i=s++,u=!1;a.push(void 0),c++,r.call(e,t).then((function(t){u||l||(l=!0,n(t))}),(function(t){u||l||(u=!0,a[i]=t,--c||h(new(o("AggregateError"))(a,"No one promise resolved")))}))})),--c||h(new(o("AggregateError"))(a,"No one promise resolved"))}));return c.error&&h(c.value),r.promise}})},function(t,e,r){r(571),r(572)},function(t,e,r){"use strict";var n=r(0),i=r(24),o=r(77),a=r(64),s=r(8),u=r(4),h=s("replace"),c=RegExp.prototype;n({target:"String",proto:!0},{replaceAll:function t(e,r){var n,s,l,f,d,p,v,g,m=i(this);if(null!=e){if((n=o(e))&&!~String(i("flags"in c?e.flags:a.call(e))).indexOf("g"))throw TypeError("`.replaceAll` does not allow non-global regexes");if(void 0!==(s=e[h]))return s.call(e,m,r);if(u&&n)return String(m).replace(e,r)}if(l=String(m),""===(f=String(e)))return t.call(l,/(?:)/g,r);if(d=l.split(f),"function"!=typeof r)return d.join(String(r));for(v=(p=d[0]).length,g=1;g<d.length;g++)p+=String(r(f,v,l)),v+=f.length+d[g].length,p+=d[g];return p}})},function(t,e,r){r(22)("replaceAll")},function(t,e,r){r(574),r(576),r(578);var n=r(38);t.exports=n},function(t,e,r){r(575);var n=r(6);t.exports=n},function(t,e,r){r(159)},function(t,e,r){r(577)},function(t,e,r){r(179)},function(t,e,r){r(579)},function(t,e,r){r(165)},function(t,e,r){r(581),r(582),r(583),r(584),r(585),r(186),r(188),r(136);var n=r(38);t.exports=n},function(t,e,r){var n=r(6),i=r(193),o=r(163),a=r(19);for(var s in i){var u=n[s],h=u&&u.prototype;if(h&&h.forEach!==o)try{a(h,"forEach",o)}catch(t){h.forEach=o}}},function(t,e,r){var n=r(6),i=r(193),o=r(89),a=r(19),s=r(8),u=s("iterator"),h=s("toStringTag"),c=o.values;for(var l in i){var f=n[l],d=f&&f.prototype;if(d){if(d[u]!==c)try{a(d,u,c)}catch(t){d[u]=c}if(d[h]||a(d,h,l),i[l])for(var p in o)if(d[p]!==o[p])try{a(d,p,o[p])}catch(t){d[p]=o[p]}}}},function(t,e,r){var n=r(0),i=r(6),o=r(131);n({global:!0,bind:!0,enumerable:!0,forced:!i.setImmediate||!i.clearImmediate},{setImmediate:o.set,clearImmediate:o.clear})},function(t,e,r){var n=r(0),i=r(6),o=r(176),a=r(35),s=i.process,u="process"==a(s);n({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(t){var e=u&&s.domain;o(e?e.bind(t):t)}})},function(t,e,r){var n=r(0),i=r(6),o=r(87),a=[].slice,s=function(t){return function(e,r){var n=arguments.length>2,i=n?a.call(arguments,2):void 0;return t(n?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,r)}};n({global:!0,bind:!0,forced:/MSIE .\./.test(o)},{setTimeout:s(i.setTimeout),setInterval:s(i.setInterval)})},function(t,e,r){(function(t){var e,r,n,i=this&&this.__extends||(e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,r)},function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)});!function(t){!function(t){var e,r,n,o=function(){function t(t,e,r){if(null==t)throw new Error("name cannot be null.");if(null==e)throw new Error("timelines cannot be null.");this.name=t,this.timelines=e,this.timelineIds=[];for(var n=0;n<e.length;n++)this.timelineIds[e[n].getPropertyId()]=!0;this.duration=r}return t.prototype.hasTimeline=function(t){return 1==this.timelineIds[t]},t.prototype.apply=function(t,e,r,n,i,o,a,s){if(null==t)throw new Error("skeleton cannot be null.");n&&0!=this.duration&&(r%=this.duration,e>0&&(e%=this.duration));for(var u=this.timelines,h=0,c=u.length;h<c;h++)u[h].apply(t,e,r,i,o,a,s)},t.binarySearch=function(t,e,r){void 0===r&&(r=1);var n=0,i=t.length/r-2;if(0==i)return r;for(var o=i>>>1;;){if(t[(o+1)*r]<=e?n=o+1:i=o,n==i)return(n+1)*r;o=n+i>>>1}},t.linearSearch=function(t,e,r){for(var n=0,i=t.length-r;n<=i;n+=r)if(t[n]>e)return n;return-1},t}();t.Animation=o,function(t){t[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add"}(e=t.MixBlend||(t.MixBlend={})),function(t){t[t.mixIn=0]="mixIn",t[t.mixOut=1]="mixOut"}(r=t.MixDirection||(t.MixDirection={})),function(t){t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor"}(n=t.TimelineType||(t.TimelineType={}));var a=function(){function e(r){if(r<=0)throw new Error("frameCount must be > 0: "+r);this.curves=t.Utils.newFloatArray((r-1)*e.BEZIER_SIZE)}return e.prototype.getFrameCount=function(){return this.curves.length/e.BEZIER_SIZE+1},e.prototype.setLinear=function(t){this.curves[t*e.BEZIER_SIZE]=e.LINEAR},e.prototype.setStepped=function(t){this.curves[t*e.BEZIER_SIZE]=e.STEPPED},e.prototype.getCurveType=function(t){var r=t*e.BEZIER_SIZE;if(r==this.curves.length)return e.LINEAR;var n=this.curves[r];return n==e.LINEAR?e.LINEAR:n==e.STEPPED?e.STEPPED:e.BEZIER},e.prototype.setCurve=function(t,r,n,i,o){var a=.03*(2*-r+i),s=.03*(2*-n+o),u=.006*(3*(r-i)+1),h=.006*(3*(n-o)+1),c=2*a+u,l=2*s+h,f=.3*r+a+.16666667*u,d=.3*n+s+.16666667*h,p=t*e.BEZIER_SIZE,v=this.curves;v[p++]=e.BEZIER;for(var g=f,m=d,y=p+e.BEZIER_SIZE-1;p<y;p+=2)v[p]=g,v[p+1]=m,f+=c,d+=l,c+=u,l+=h,g+=f,m+=d},e.prototype.getCurvePercent=function(r,n){n=t.MathUtils.clamp(n,0,1);var i=this.curves,o=r*e.BEZIER_SIZE,a=i[o];if(a==e.LINEAR)return n;if(a==e.STEPPED)return 0;for(var s=0,u=++o,h=o+e.BEZIER_SIZE-1;o<h;o+=2)if((s=i[o])>=n){var c=void 0,l=void 0;return o==u?(c=0,l=0):(c=i[o-2],l=i[o-1]),l+(i[o+1]-l)*(n-c)/(s-c)}var f=i[o-1];return f+(1-f)*(n-s)/(1-s)},e.LINEAR=0,e.STEPPED=1,e.BEZIER=2,e.BEZIER_SIZE=19,e}();t.CurveTimeline=a;var s=function(r){function a(e){var n=r.call(this,e)||this;return n.frames=t.Utils.newFloatArray(e<<1),n}return i(a,r),a.prototype.getPropertyId=function(){return(n.rotate<<24)+this.boneIndex},a.prototype.setFrame=function(t,e,r){t<<=1,this.frames[t]=e,this.frames[t+a.ROTATION]=r},a.prototype.apply=function(t,r,n,i,s,u,h){var c=this.frames,l=t.bones[this.boneIndex];if(l.active)if(n<c[0])switch(u){case e.setup:return void(l.rotation=l.data.rotation);case e.first:var f=l.data.rotation-l.rotation;l.rotation+=(f-360*(16384-(16384.499999999996-f/360|0)))*s}else if(n>=c[c.length-a.ENTRIES]){var d=c[c.length+a.PREV_ROTATION];switch(u){case e.setup:l.rotation=l.data.rotation+d*s;break;case e.first:case e.replace:d+=l.data.rotation-l.rotation,d-=360*(16384-(16384.499999999996-d/360|0));case e.add:l.rotation+=d*s}}else{var p=o.binarySearch(c,n,a.ENTRIES),v=c[p+a.PREV_ROTATION],g=c[p],m=this.getCurvePercent((p>>1)-1,1-(n-g)/(c[p+a.PREV_TIME]-g)),y=c[p+a.ROTATION]-v;switch(y=v+(y-360*(16384-(16384.499999999996-y/360|0)))*m,u){case e.setup:l.rotation=l.data.rotation+(y-360*(16384-(16384.499999999996-y/360|0)))*s;break;case e.first:case e.replace:y+=l.data.rotation-l.rotation;case e.add:l.rotation+=(y-360*(16384-(16384.499999999996-y/360|0)))*s}}},a.ENTRIES=2,a.PREV_TIME=-2,a.PREV_ROTATION=-1,a.ROTATION=1,a}(a);t.RotateTimeline=s;var u=function(r){function a(e){var n=r.call(this,e)||this;return n.frames=t.Utils.newFloatArray(e*a.ENTRIES),n}return i(a,r),a.prototype.getPropertyId=function(){return(n.translate<<24)+this.boneIndex},a.prototype.setFrame=function(t,e,r,n){t*=a.ENTRIES,this.frames[t]=e,this.frames[t+a.X]=r,this.frames[t+a.Y]=n},a.prototype.apply=function(t,r,n,i,s,u,h){var c=this.frames,l=t.bones[this.boneIndex];if(l.active)if(n<c[0])switch(u){case e.setup:return l.x=l.data.x,void(l.y=l.data.y);case e.first:l.x+=(l.data.x-l.x)*s,l.y+=(l.data.y-l.y)*s}else{var f=0,d=0;if(n>=c[c.length-a.ENTRIES])f=c[c.length+a.PREV_X],d=c[c.length+a.PREV_Y];else{var p=o.binarySearch(c,n,a.ENTRIES);f=c[p+a.PREV_X],d=c[p+a.PREV_Y];var v=c[p],g=this.getCurvePercent(p/a.ENTRIES-1,1-(n-v)/(c[p+a.PREV_TIME]-v));f+=(c[p+a.X]-f)*g,d+=(c[p+a.Y]-d)*g}switch(u){case e.setup:l.x=l.data.x+f*s,l.y=l.data.y+d*s;break;case e.first:case e.replace:l.x+=(l.data.x+f-l.x)*s,l.y+=(l.data.y+d-l.y)*s;break;case e.add:l.x+=f*s,l.y+=d*s}}},a.ENTRIES=3,a.PREV_TIME=-3,a.PREV_X=-2,a.PREV_Y=-1,a.X=1,a.Y=2,a}(a);t.TranslateTimeline=u;var h=function(a){function s(t){return a.call(this,t)||this}return i(s,a),s.prototype.getPropertyId=function(){return(n.scale<<24)+this.boneIndex},s.prototype.apply=function(n,i,a,u,h,c,l){var f=this.frames,d=n.bones[this.boneIndex];if(d.active)if(a<f[0])switch(c){case e.setup:return d.scaleX=d.data.scaleX,void(d.scaleY=d.data.scaleY);case e.first:d.scaleX+=(d.data.scaleX-d.scaleX)*h,d.scaleY+=(d.data.scaleY-d.scaleY)*h}else{var p=0,v=0;if(a>=f[f.length-s.ENTRIES])p=f[f.length+s.PREV_X]*d.data.scaleX,v=f[f.length+s.PREV_Y]*d.data.scaleY;else{var g=o.binarySearch(f,a,s.ENTRIES);p=f[g+s.PREV_X],v=f[g+s.PREV_Y];var m=f[g],y=this.getCurvePercent(g/s.ENTRIES-1,1-(a-m)/(f[g+s.PREV_TIME]-m));p=(p+(f[g+s.X]-p)*y)*d.data.scaleX,v=(v+(f[g+s.Y]-v)*y)*d.data.scaleY}if(1==h)c==e.add?(d.scaleX+=p-d.data.scaleX,d.scaleY+=v-d.data.scaleY):(d.scaleX=p,d.scaleY=v);else{var b=0,x=0;if(l==r.mixOut)switch(c){case e.setup:b=d.data.scaleX,x=d.data.scaleY,d.scaleX=b+(Math.abs(p)*t.MathUtils.signum(b)-b)*h,d.scaleY=x+(Math.abs(v)*t.MathUtils.signum(x)-x)*h;break;case e.first:case e.replace:b=d.scaleX,x=d.scaleY,d.scaleX=b+(Math.abs(p)*t.MathUtils.signum(b)-b)*h,d.scaleY=x+(Math.abs(v)*t.MathUtils.signum(x)-x)*h;break;case e.add:b=d.scaleX,x=d.scaleY,d.scaleX=b+(Math.abs(p)*t.MathUtils.signum(b)-d.data.scaleX)*h,d.scaleY=x+(Math.abs(v)*t.MathUtils.signum(x)-d.data.scaleY)*h}else switch(c){case e.setup:b=Math.abs(d.data.scaleX)*t.MathUtils.signum(p),x=Math.abs(d.data.scaleY)*t.MathUtils.signum(v),d.scaleX=b+(p-b)*h,d.scaleY=x+(v-x)*h;break;case e.first:case e.replace:b=Math.abs(d.scaleX)*t.MathUtils.signum(p),x=Math.abs(d.scaleY)*t.MathUtils.signum(v),d.scaleX=b+(p-b)*h,d.scaleY=x+(v-x)*h;break;case e.add:b=t.MathUtils.signum(p),x=t.MathUtils.signum(v),d.scaleX=Math.abs(d.scaleX)*b+(p-Math.abs(d.data.scaleX)*b)*h,d.scaleY=Math.abs(d.scaleY)*x+(v-Math.abs(d.data.scaleY)*x)*h}}}},s}(u);t.ScaleTimeline=h;var c=function(t){function r(e){return t.call(this,e)||this}return i(r,t),r.prototype.getPropertyId=function(){return(n.shear<<24)+this.boneIndex},r.prototype.apply=function(t,n,i,a,s,u,h){var c=this.frames,l=t.bones[this.boneIndex];if(l.active)if(i<c[0])switch(u){case e.setup:return l.shearX=l.data.shearX,void(l.shearY=l.data.shearY);case e.first:l.shearX+=(l.data.shearX-l.shearX)*s,l.shearY+=(l.data.shearY-l.shearY)*s}else{var f=0,d=0;if(i>=c[c.length-r.ENTRIES])f=c[c.length+r.PREV_X],d=c[c.length+r.PREV_Y];else{var p=o.binarySearch(c,i,r.ENTRIES);f=c[p+r.PREV_X],d=c[p+r.PREV_Y];var v=c[p],g=this.getCurvePercent(p/r.ENTRIES-1,1-(i-v)/(c[p+r.PREV_TIME]-v));f+=(c[p+r.X]-f)*g,d+=(c[p+r.Y]-d)*g}switch(u){case e.setup:l.shearX=l.data.shearX+f*s,l.shearY=l.data.shearY+d*s;break;case e.first:case e.replace:l.shearX+=(l.data.shearX+f-l.shearX)*s,l.shearY+=(l.data.shearY+d-l.shearY)*s;break;case e.add:l.shearX+=f*s,l.shearY+=d*s}}},r}(u);t.ShearTimeline=c;var l=function(r){function a(e){var n=r.call(this,e)||this;return n.frames=t.Utils.newFloatArray(e*a.ENTRIES),n}return i(a,r),a.prototype.getPropertyId=function(){return(n.color<<24)+this.slotIndex},a.prototype.setFrame=function(t,e,r,n,i,o){t*=a.ENTRIES,this.frames[t]=e,this.frames[t+a.R]=r,this.frames[t+a.G]=n,this.frames[t+a.B]=i,this.frames[t+a.A]=o},a.prototype.apply=function(t,r,n,i,s,u,h){var c=t.slots[this.slotIndex];if(c.bone.active){var l=this.frames;if(n<l[0])switch(u){case e.setup:return void c.color.setFromColor(c.data.color);case e.first:var f=c.color,d=c.data.color;f.add((d.r-f.r)*s,(d.g-f.g)*s,(d.b-f.b)*s,(d.a-f.a)*s)}else{var p=0,v=0,g=0,m=0;if(n>=l[l.length-a.ENTRIES]){var y=l.length;p=l[y+a.PREV_R],v=l[y+a.PREV_G],g=l[y+a.PREV_B],m=l[y+a.PREV_A]}else{var b=o.binarySearch(l,n,a.ENTRIES);p=l[b+a.PREV_R],v=l[b+a.PREV_G],g=l[b+a.PREV_B],m=l[b+a.PREV_A];var x=l[b],_=this.getCurvePercent(b/a.ENTRIES-1,1-(n-x)/(l[b+a.PREV_TIME]-x));p+=(l[b+a.R]-p)*_,v+=(l[b+a.G]-v)*_,g+=(l[b+a.B]-g)*_,m+=(l[b+a.A]-m)*_}if(1==s)c.color.set(p,v,g,m);else{f=c.color;u==e.setup&&f.setFromColor(c.data.color),f.add((p-f.r)*s,(v-f.g)*s,(g-f.b)*s,(m-f.a)*s)}}}},a.ENTRIES=5,a.PREV_TIME=-5,a.PREV_R=-4,a.PREV_G=-3,a.PREV_B=-2,a.PREV_A=-1,a.R=1,a.G=2,a.B=3,a.A=4,a}(a);t.ColorTimeline=l;var f=function(r){function a(e){var n=r.call(this,e)||this;return n.frames=t.Utils.newFloatArray(e*a.ENTRIES),n}return i(a,r),a.prototype.getPropertyId=function(){return(n.twoColor<<24)+this.slotIndex},a.prototype.setFrame=function(t,e,r,n,i,o,s,u,h){t*=a.ENTRIES,this.frames[t]=e,this.frames[t+a.R]=r,this.frames[t+a.G]=n,this.frames[t+a.B]=i,this.frames[t+a.A]=o,this.frames[t+a.R2]=s,this.frames[t+a.G2]=u,this.frames[t+a.B2]=h},a.prototype.apply=function(t,r,n,i,s,u,h){var c=t.slots[this.slotIndex];if(c.bone.active){var l=this.frames;if(n<l[0])switch(u){case e.setup:return c.color.setFromColor(c.data.color),void c.darkColor.setFromColor(c.data.darkColor);case e.first:var f=c.color,d=c.darkColor,p=c.data.color,v=c.data.darkColor;f.add((p.r-f.r)*s,(p.g-f.g)*s,(p.b-f.b)*s,(p.a-f.a)*s),d.add((v.r-d.r)*s,(v.g-d.g)*s,(v.b-d.b)*s,0)}else{var g=0,m=0,y=0,b=0,x=0,_=0,w=0;if(n>=l[l.length-a.ENTRIES]){var T=l.length;g=l[T+a.PREV_R],m=l[T+a.PREV_G],y=l[T+a.PREV_B],b=l[T+a.PREV_A],x=l[T+a.PREV_R2],_=l[T+a.PREV_G2],w=l[T+a.PREV_B2]}else{var E=o.binarySearch(l,n,a.ENTRIES);g=l[E+a.PREV_R],m=l[E+a.PREV_G],y=l[E+a.PREV_B],b=l[E+a.PREV_A],x=l[E+a.PREV_R2],_=l[E+a.PREV_G2],w=l[E+a.PREV_B2];var S=l[E],I=this.getCurvePercent(E/a.ENTRIES-1,1-(n-S)/(l[E+a.PREV_TIME]-S));g+=(l[E+a.R]-g)*I,m+=(l[E+a.G]-m)*I,y+=(l[E+a.B]-y)*I,b+=(l[E+a.A]-b)*I,x+=(l[E+a.R2]-x)*I,_+=(l[E+a.G2]-_)*I,w+=(l[E+a.B2]-w)*I}if(1==s)c.color.set(g,m,y,b),c.darkColor.set(x,_,w,1);else{f=c.color,d=c.darkColor;u==e.setup&&(f.setFromColor(c.data.color),d.setFromColor(c.data.darkColor)),f.add((g-f.r)*s,(m-f.g)*s,(y-f.b)*s,(b-f.a)*s),d.add((x-d.r)*s,(_-d.g)*s,(w-d.b)*s,0)}}}},a.ENTRIES=8,a.PREV_TIME=-8,a.PREV_R=-7,a.PREV_G=-6,a.PREV_B=-5,a.PREV_A=-4,a.PREV_R2=-3,a.PREV_G2=-2,a.PREV_B2=-1,a.R=1,a.G=2,a.B=3,a.A=4,a.R2=5,a.G2=6,a.B2=7,a}(a);t.TwoColorTimeline=f;var d=function(){function i(e){this.frames=t.Utils.newFloatArray(e),this.attachmentNames=new Array(e)}return i.prototype.getPropertyId=function(){return(n.attachment<<24)+this.slotIndex},i.prototype.getFrameCount=function(){return this.frames.length},i.prototype.setFrame=function(t,e,r){this.frames[t]=e,this.attachmentNames[t]=r},i.prototype.apply=function(t,n,i,a,s,u,h){var c=t.slots[this.slotIndex];if(c.bone.active)if(h!=r.mixOut||u!=e.setup){var l=this.frames;if(i<l[0]){if(u==e.setup||u==e.first){var f=c.data.attachmentName;c.setAttachment(null==f?null:t.getAttachment(this.slotIndex,f))}}else{var d=0;d=i>=l[l.length-1]?l.length-1:o.binarySearch(l,i,1)-1;var p=this.attachmentNames[d];t.slots[this.slotIndex].setAttachment(null==p?null:t.getAttachment(this.slotIndex,p))}}else{var v=c.data.attachmentName;c.setAttachment(null==v?null:t.getAttachment(this.slotIndex,v))}},i}();t.AttachmentTimeline=d;var p=null,v=function(r){function a(e){var n=r.call(this,e)||this;return n.frames=t.Utils.newFloatArray(e),n.frameVertices=new Array(e),null==p&&(p=t.Utils.newFloatArray(64)),n}return i(a,r),a.prototype.getPropertyId=function(){return(n.deform<<27)+ +this.attachment.id+this.slotIndex},a.prototype.setFrame=function(t,e,r){this.frames[t]=e,this.frameVertices[t]=r},a.prototype.apply=function(r,n,i,a,s,u,h){var c=r.slots[this.slotIndex];if(c.bone.active){var l=c.getAttachment();if(l instanceof t.VertexAttachment&&l.deformAttachment==this.attachment){var f=c.deform;0==f.length&&(u=e.setup);var d=this.frameVertices,p=d[0].length,v=this.frames;if(i<v[0]){var g=l;switch(u){case e.setup:return void(f.length=0);case e.first:if(1==s){f.length=0;break}var m=t.Utils.setArraySize(f,p);if(null==g.bones)for(var y=g.vertices,b=0;b<p;b++)m[b]+=(y[b]-m[b])*s;else{s=1-s;for(b=0;b<p;b++)m[b]*=s}}}else{var x=t.Utils.setArraySize(f,p);if(i>=v[v.length-1]){var _=d[v.length-1];if(1==s)if(u==e.add)if(null==(g=l).bones){y=g.vertices;for(var w=0;w<p;w++)x[w]+=_[w]-y[w]}else for(var T=0;T<p;T++)x[T]+=_[T];else t.Utils.arrayCopy(_,0,x,0,p);else switch(u){case e.setup:var E=l;if(null==E.bones){y=E.vertices;for(var S=0;S<p;S++){var I=y[S];x[S]=I+(_[S]-I)*s}}else for(var A=0;A<p;A++)x[A]=_[A]*s;break;case e.first:case e.replace:for(var P=0;P<p;P++)x[P]+=(_[P]-x[P])*s;break;case e.add:if(null==(g=l).bones){y=g.vertices;for(var M=0;M<p;M++)x[M]+=(_[M]-y[M])*s}else for(var O=0;O<p;O++)x[O]+=_[O]*s}}else{var C=o.binarySearch(v,i),R=d[C-1],D=d[C],N=v[C],L=this.getCurvePercent(C-1,1-(i-N)/(v[C-1]-N));if(1==s)if(u==e.add)if(null==(g=l).bones){y=g.vertices;for(var F=0;F<p;F++){var k=R[F];x[F]+=k+(D[F]-k)*L-y[F]}}else for(var U=0;U<p;U++){k=R[U];x[U]+=k+(D[U]-k)*L}else for(var B=0;B<p;B++){k=R[B];x[B]=k+(D[B]-k)*L}else switch(u){case e.setup:var j=l;if(null==j.bones){y=j.vertices;for(var V=0;V<p;V++){k=R[V],I=y[V];x[V]=I+(k+(D[V]-k)*L-I)*s}}else for(var X=0;X<p;X++){k=R[X];x[X]=(k+(D[X]-k)*L)*s}break;case e.first:case e.replace:for(var G=0;G<p;G++){k=R[G];x[G]+=(k+(D[G]-k)*L-x[G])*s}break;case e.add:if(null==(g=l).bones){y=g.vertices;for(var H=0;H<p;H++){k=R[H];x[H]+=(k+(D[H]-k)*L-y[H])*s}}else for(var Y=0;Y<p;Y++){k=R[Y];x[Y]+=(k+(D[Y]-k)*L)*s}}}}}}},a}(a);t.DeformTimeline=v;var g=function(){function e(e){this.frames=t.Utils.newFloatArray(e),this.events=new Array(e)}return e.prototype.getPropertyId=function(){return n.event<<24},e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(t,e){this.frames[t]=e.time,this.events[t]=e},e.prototype.apply=function(t,e,r,n,i,a,s){if(null!=n){var u=this.frames,h=this.frames.length;if(e>r)this.apply(t,e,Number.MAX_VALUE,n,i,a,s),e=-1;else if(e>=u[h-1])return;if(!(r<u[0])){var c=0;if(e<u[0])c=0;else for(var l=u[c=o.binarySearch(u,e)];c>0&&u[c-1]==l;)c--;for(;c<h&&r>=u[c];c++)n.push(this.events[c])}}},e}();t.EventTimeline=g;var m=function(){function i(e){this.frames=t.Utils.newFloatArray(e),this.drawOrders=new Array(e)}return i.prototype.getPropertyId=function(){return n.drawOrder<<24},i.prototype.getFrameCount=function(){return this.frames.length},i.prototype.setFrame=function(t,e,r){this.frames[t]=e,this.drawOrders[t]=r},i.prototype.apply=function(n,i,a,s,u,h,c){var l=n.drawOrder,f=n.slots;if(c!=r.mixOut||h!=e.setup){var d=this.frames;if(a<d[0])h!=e.setup&&h!=e.first||t.Utils.arrayCopy(n.slots,0,n.drawOrder,0,n.slots.length);else{var p=0;p=a>=d[d.length-1]?d.length-1:o.binarySearch(d,a)-1;var v=this.drawOrders[p];if(null==v)t.Utils.arrayCopy(f,0,l,0,f.length);else for(var g=0,m=v.length;g<m;g++)l[g]=f[v[g]]}}else t.Utils.arrayCopy(n.slots,0,n.drawOrder,0,n.slots.length)},i}();t.DrawOrderTimeline=m;var y=function(a){function s(e){var r=a.call(this,e)||this;return r.frames=t.Utils.newFloatArray(e*s.ENTRIES),r}return i(s,a),s.prototype.getPropertyId=function(){return(n.ikConstraint<<24)+this.ikConstraintIndex},s.prototype.setFrame=function(t,e,r,n,i,o,a){t*=s.ENTRIES,this.frames[t]=e,this.frames[t+s.MIX]=r,this.frames[t+s.SOFTNESS]=n,this.frames[t+s.BEND_DIRECTION]=i,this.frames[t+s.COMPRESS]=o?1:0,this.frames[t+s.STRETCH]=a?1:0},s.prototype.apply=function(t,n,i,a,u,h,c){var l=this.frames,f=t.ikConstraints[this.ikConstraintIndex];if(f.active)if(i<l[0])switch(h){case e.setup:return f.mix=f.data.mix,f.softness=f.data.softness,f.bendDirection=f.data.bendDirection,f.compress=f.data.compress,void(f.stretch=f.data.stretch);case e.first:f.mix+=(f.data.mix-f.mix)*u,f.softness+=(f.data.softness-f.softness)*u,f.bendDirection=f.data.bendDirection,f.compress=f.data.compress,f.stretch=f.data.stretch}else if(i>=l[l.length-s.ENTRIES])h==e.setup?(f.mix=f.data.mix+(l[l.length+s.PREV_MIX]-f.data.mix)*u,f.softness=f.data.softness+(l[l.length+s.PREV_SOFTNESS]-f.data.softness)*u,c==r.mixOut?(f.bendDirection=f.data.bendDirection,f.compress=f.data.compress,f.stretch=f.data.stretch):(f.bendDirection=l[l.length+s.PREV_BEND_DIRECTION],f.compress=0!=l[l.length+s.PREV_COMPRESS],f.stretch=0!=l[l.length+s.PREV_STRETCH])):(f.mix+=(l[l.length+s.PREV_MIX]-f.mix)*u,f.softness+=(l[l.length+s.PREV_SOFTNESS]-f.softness)*u,c==r.mixIn&&(f.bendDirection=l[l.length+s.PREV_BEND_DIRECTION],f.compress=0!=l[l.length+s.PREV_COMPRESS],f.stretch=0!=l[l.length+s.PREV_STRETCH]));else{var d=o.binarySearch(l,i,s.ENTRIES),p=l[d+s.PREV_MIX],v=l[d+s.PREV_SOFTNESS],g=l[d],m=this.getCurvePercent(d/s.ENTRIES-1,1-(i-g)/(l[d+s.PREV_TIME]-g));h==e.setup?(f.mix=f.data.mix+(p+(l[d+s.MIX]-p)*m-f.data.mix)*u,f.softness=f.data.softness+(v+(l[d+s.SOFTNESS]-v)*m-f.data.softness)*u,c==r.mixOut?(f.bendDirection=f.data.bendDirection,f.compress=f.data.compress,f.stretch=f.data.stretch):(f.bendDirection=l[d+s.PREV_BEND_DIRECTION],f.compress=0!=l[d+s.PREV_COMPRESS],f.stretch=0!=l[d+s.PREV_STRETCH])):(f.mix+=(p+(l[d+s.MIX]-p)*m-f.mix)*u,f.softness+=(v+(l[d+s.SOFTNESS]-v)*m-f.softness)*u,c==r.mixIn&&(f.bendDirection=l[d+s.PREV_BEND_DIRECTION],f.compress=0!=l[d+s.PREV_COMPRESS],f.stretch=0!=l[d+s.PREV_STRETCH]))}},s.ENTRIES=6,s.PREV_TIME=-6,s.PREV_MIX=-5,s.PREV_SOFTNESS=-4,s.PREV_BEND_DIRECTION=-3,s.PREV_COMPRESS=-2,s.PREV_STRETCH=-1,s.MIX=1,s.SOFTNESS=2,s.BEND_DIRECTION=3,s.COMPRESS=4,s.STRETCH=5,s}(a);t.IkConstraintTimeline=y;var b=function(r){function a(e){var n=r.call(this,e)||this;return n.frames=t.Utils.newFloatArray(e*a.ENTRIES),n}return i(a,r),a.prototype.getPropertyId=function(){return(n.transformConstraint<<24)+this.transformConstraintIndex},a.prototype.setFrame=function(t,e,r,n,i,o){t*=a.ENTRIES,this.frames[t]=e,this.frames[t+a.ROTATE]=r,this.frames[t+a.TRANSLATE]=n,this.frames[t+a.SCALE]=i,this.frames[t+a.SHEAR]=o},a.prototype.apply=function(t,r,n,i,s,u,h){var c=this.frames,l=t.transformConstraints[this.transformConstraintIndex];if(l.active)if(n<c[0]){var f=l.data;switch(u){case e.setup:return l.rotateMix=f.rotateMix,l.translateMix=f.translateMix,l.scaleMix=f.scaleMix,void(l.shearMix=f.shearMix);case e.first:l.rotateMix+=(f.rotateMix-l.rotateMix)*s,l.translateMix+=(f.translateMix-l.translateMix)*s,l.scaleMix+=(f.scaleMix-l.scaleMix)*s,l.shearMix+=(f.shearMix-l.shearMix)*s}}else{var d=0,p=0,v=0,g=0;if(n>=c[c.length-a.ENTRIES]){var m=c.length;d=c[m+a.PREV_ROTATE],p=c[m+a.PREV_TRANSLATE],v=c[m+a.PREV_SCALE],g=c[m+a.PREV_SHEAR]}else{var y=o.binarySearch(c,n,a.ENTRIES);d=c[y+a.PREV_ROTATE],p=c[y+a.PREV_TRANSLATE],v=c[y+a.PREV_SCALE],g=c[y+a.PREV_SHEAR];var b=c[y],x=this.getCurvePercent(y/a.ENTRIES-1,1-(n-b)/(c[y+a.PREV_TIME]-b));d+=(c[y+a.ROTATE]-d)*x,p+=(c[y+a.TRANSLATE]-p)*x,v+=(c[y+a.SCALE]-v)*x,g+=(c[y+a.SHEAR]-g)*x}if(u==e.setup){f=l.data;l.rotateMix=f.rotateMix+(d-f.rotateMix)*s,l.translateMix=f.translateMix+(p-f.translateMix)*s,l.scaleMix=f.scaleMix+(v-f.scaleMix)*s,l.shearMix=f.shearMix+(g-f.shearMix)*s}else l.rotateMix+=(d-l.rotateMix)*s,l.translateMix+=(p-l.translateMix)*s,l.scaleMix+=(v-l.scaleMix)*s,l.shearMix+=(g-l.shearMix)*s}},a.ENTRIES=5,a.PREV_TIME=-5,a.PREV_ROTATE=-4,a.PREV_TRANSLATE=-3,a.PREV_SCALE=-2,a.PREV_SHEAR=-1,a.ROTATE=1,a.TRANSLATE=2,a.SCALE=3,a.SHEAR=4,a}(a);t.TransformConstraintTimeline=b;var x=function(r){function a(e){var n=r.call(this,e)||this;return n.frames=t.Utils.newFloatArray(e*a.ENTRIES),n}return i(a,r),a.prototype.getPropertyId=function(){return(n.pathConstraintPosition<<24)+this.pathConstraintIndex},a.prototype.setFrame=function(t,e,r){t*=a.ENTRIES,this.frames[t]=e,this.frames[t+a.VALUE]=r},a.prototype.apply=function(t,r,n,i,s,u,h){var c=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(l.active)if(n<c[0])switch(u){case e.setup:return void(l.position=l.data.position);case e.first:l.position+=(l.data.position-l.position)*s}else{var f=0;if(n>=c[c.length-a.ENTRIES])f=c[c.length+a.PREV_VALUE];else{var d=o.binarySearch(c,n,a.ENTRIES);f=c[d+a.PREV_VALUE];var p=c[d],v=this.getCurvePercent(d/a.ENTRIES-1,1-(n-p)/(c[d+a.PREV_TIME]-p));f+=(c[d+a.VALUE]-f)*v}u==e.setup?l.position=l.data.position+(f-l.data.position)*s:l.position+=(f-l.position)*s}},a.ENTRIES=2,a.PREV_TIME=-2,a.PREV_VALUE=-1,a.VALUE=1,a}(a);t.PathConstraintPositionTimeline=x;var _=function(t){function r(e){return t.call(this,e)||this}return i(r,t),r.prototype.getPropertyId=function(){return(n.pathConstraintSpacing<<24)+this.pathConstraintIndex},r.prototype.apply=function(t,n,i,a,s,u,h){var c=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(l.active)if(i<c[0])switch(u){case e.setup:return void(l.spacing=l.data.spacing);case e.first:l.spacing+=(l.data.spacing-l.spacing)*s}else{var f=0;if(i>=c[c.length-r.ENTRIES])f=c[c.length+r.PREV_VALUE];else{var d=o.binarySearch(c,i,r.ENTRIES);f=c[d+r.PREV_VALUE];var p=c[d],v=this.getCurvePercent(d/r.ENTRIES-1,1-(i-p)/(c[d+r.PREV_TIME]-p));f+=(c[d+r.VALUE]-f)*v}u==e.setup?l.spacing=l.data.spacing+(f-l.data.spacing)*s:l.spacing+=(f-l.spacing)*s}},r}(x);t.PathConstraintSpacingTimeline=_;var w=function(r){function a(e){var n=r.call(this,e)||this;return n.frames=t.Utils.newFloatArray(e*a.ENTRIES),n}return i(a,r),a.prototype.getPropertyId=function(){return(n.pathConstraintMix<<24)+this.pathConstraintIndex},a.prototype.setFrame=function(t,e,r,n){t*=a.ENTRIES,this.frames[t]=e,this.frames[t+a.ROTATE]=r,this.frames[t+a.TRANSLATE]=n},a.prototype.apply=function(t,r,n,i,s,u,h){var c=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(l.active)if(n<c[0])switch(u){case e.setup:return l.rotateMix=l.data.rotateMix,void(l.translateMix=l.data.translateMix);case e.first:l.rotateMix+=(l.data.rotateMix-l.rotateMix)*s,l.translateMix+=(l.data.translateMix-l.translateMix)*s}else{var f=0,d=0;if(n>=c[c.length-a.ENTRIES])f=c[c.length+a.PREV_ROTATE],d=c[c.length+a.PREV_TRANSLATE];else{var p=o.binarySearch(c,n,a.ENTRIES);f=c[p+a.PREV_ROTATE],d=c[p+a.PREV_TRANSLATE];var v=c[p],g=this.getCurvePercent(p/a.ENTRIES-1,1-(n-v)/(c[p+a.PREV_TIME]-v));f+=(c[p+a.ROTATE]-f)*g,d+=(c[p+a.TRANSLATE]-d)*g}u==e.setup?(l.rotateMix=l.data.rotateMix+(f-l.data.rotateMix)*s,l.translateMix=l.data.translateMix+(d-l.data.translateMix)*s):(l.rotateMix+=(f-l.rotateMix)*s,l.translateMix+=(d-l.translateMix)*s)}},a.ENTRIES=3,a.PREV_TIME=-3,a.PREV_ROTATE=-2,a.PREV_TRANSLATE=-1,a.ROTATE=1,a.TRANSLATE=2,a}(a);t.PathConstraintMixTimeline=w}(t.core||(t.core={}))}(n||(n={})),function(t){!function(t){var e=function(){function e(e){this.tracks=new Array,this.timeScale=1,this.events=new Array,this.listeners=new Array,this.queue=new i(this),this.propertyIDs=new t.IntSet,this.animationsChanged=!1,this.trackEntryPool=new t.Pool((function(){return new r})),this.data=e}return e.prototype.update=function(t){t*=this.timeScale;for(var e=this.tracks,r=0,n=e.length;r<n;r++){var i=e[r];if(null!=i){i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast;var o=t*i.timeScale;if(i.delay>0){if(i.delay-=o,i.delay>0)continue;o=-i.delay,i.delay=0}var a=i.next;if(null!=a){var s=i.trackLast-a.delay;if(s>=0){for(a.delay=0,a.trackTime+=0==i.timeScale?0:(s/i.timeScale+t)*a.timeScale,i.trackTime+=o,this.setCurrent(r,a,!0);null!=a.mixingFrom;)a.mixTime+=t,a=a.mixingFrom;continue}}else if(i.trackLast>=i.trackEnd&&null==i.mixingFrom){e[r]=null,this.queue.end(i),this.disposeNext(i);continue}if(null!=i.mixingFrom&&this.updateMixingFrom(i,t)){var u=i.mixingFrom;for(i.mixingFrom=null,null!=u&&(u.mixingTo=null);null!=u;)this.queue.end(u),u=u.mixingFrom}i.trackTime+=o}}this.queue.drain()},e.prototype.updateMixingFrom=function(t,e){var r=t.mixingFrom;if(null==r)return!0;var n=this.updateMixingFrom(r,e);return r.animationLast=r.nextAnimationLast,r.trackLast=r.nextTrackLast,t.mixTime>0&&t.mixTime>=t.mixDuration?(0!=r.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=r.mixingFrom,null!=r.mixingFrom&&(r.mixingFrom.mixingTo=t),t.interruptAlpha=r.interruptAlpha,this.queue.end(r)),n):(r.trackTime+=e*r.timeScale,t.mixTime+=e,!1)},e.prototype.apply=function(r){if(null==r)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var n=this.events,i=this.tracks,o=!1,a=0,s=i.length;a<s;a++){var u=i[a];if(!(null==u||u.delay>0)){o=!0;var h=0==a?t.MixBlend.first:u.mixBlend,c=u.alpha;null!=u.mixingFrom?c*=this.applyMixingFrom(u,r,h):u.trackTime>=u.trackEnd&&null==u.next&&(c=0);var l=u.animationLast,f=u.getAnimationTime(),d=u.animation.timelines.length,p=u.animation.timelines;if(0==a&&1==c||h==t.MixBlend.add)for(var v=0;v<d;v++)t.Utils.webkit602BugfixHelper(c,h),p[v].apply(r,l,f,n,c,h,t.MixDirection.mixIn);else{var g=u.timelineMode,m=0==u.timelinesRotation.length;m&&t.Utils.setArraySize(u.timelinesRotation,d<<1,null);var y=u.timelinesRotation;for(v=0;v<d;v++){var b=p[v],x=(g[v]&e.NOT_LAST-1)==e.SUBSEQUENT?h:t.MixBlend.setup;b instanceof t.RotateTimeline?this.applyRotateTimeline(b,r,f,c,x,y,v<<1,m):(t.Utils.webkit602BugfixHelper(c,h),b.apply(r,l,f,n,c,x,t.MixDirection.mixIn))}}this.queueEvents(u,f),n.length=0,u.nextAnimationLast=f,u.nextTrackLast=u.trackTime}}return this.queue.drain(),o},e.prototype.applyMixingFrom=function(r,n,i){var o=r.mixingFrom;null!=o.mixingFrom&&this.applyMixingFrom(o,n,i);var a=0;0==r.mixDuration?(a=1,i==t.MixBlend.first&&(i=t.MixBlend.setup)):((a=r.mixTime/r.mixDuration)>1&&(a=1),i!=t.MixBlend.first&&(i=o.mixBlend));var s=a<o.eventThreshold?this.events:null,u=a<o.attachmentThreshold,h=a<o.drawOrderThreshold,c=o.animationLast,l=o.getAnimationTime(),f=o.animation.timelines.length,d=o.animation.timelines,p=o.alpha*r.interruptAlpha,v=p*(1-a);if(i==t.MixBlend.add)for(var g=0;g<f;g++)d[g].apply(n,c,l,s,v,i,t.MixDirection.mixOut);else{var m=o.timelineMode,y=o.timelineHoldMix,b=0==o.timelinesRotation.length;b&&t.Utils.setArraySize(o.timelinesRotation,f<<1,null);var x=o.timelinesRotation;o.totalAlpha=0;for(g=0;g<f;g++){var _=d[g],w=t.MixDirection.mixOut,T=void 0,E=0;switch(m[g]&e.NOT_LAST-1){case e.SUBSEQUENT:if(T=i,!u&&_ instanceof t.AttachmentTimeline){if((m[g]&e.NOT_LAST)==e.NOT_LAST)continue;T=t.MixBlend.setup}if(!h&&_ instanceof t.DrawOrderTimeline)continue;E=v;break;case e.FIRST:T=t.MixBlend.setup,E=v;break;case e.HOLD:T=t.MixBlend.setup,E=p;break;default:T=t.MixBlend.setup;var S=y[g];E=p*Math.max(0,1-S.mixTime/S.mixDuration)}o.totalAlpha+=E,_ instanceof t.RotateTimeline?this.applyRotateTimeline(_,n,l,E,T,x,g<<1,b):(t.Utils.webkit602BugfixHelper(E,i),T==t.MixBlend.setup&&(_ instanceof t.AttachmentTimeline?(u||(m[g]&e.NOT_LAST)==e.NOT_LAST)&&(w=t.MixDirection.mixIn):_ instanceof t.DrawOrderTimeline&&h&&(w=t.MixDirection.mixIn)),_.apply(n,c,l,s,E,T,w))}}return r.mixDuration>0&&this.queueEvents(o,l),this.events.length=0,o.nextAnimationLast=l,o.nextTrackLast=o.trackTime,a},e.prototype.applyRotateTimeline=function(e,r,n,i,o,a,s,u){if(u&&(a[s]=0),1!=i){var h=e,c=h.frames,l=r.bones[h.boneIndex];if(l.active){var f=0,d=0;if(n<c[0])switch(o){case t.MixBlend.setup:l.rotation=l.data.rotation;default:return;case t.MixBlend.first:f=l.rotation,d=l.data.rotation}else if(f=o==t.MixBlend.setup?l.data.rotation:l.rotation,n>=c[c.length-t.RotateTimeline.ENTRIES])d=l.data.rotation+c[c.length+t.RotateTimeline.PREV_ROTATION];else{var p=t.Animation.binarySearch(c,n,t.RotateTimeline.ENTRIES),v=c[p+t.RotateTimeline.PREV_ROTATION],g=c[p],m=h.getCurvePercent((p>>1)-1,1-(n-g)/(c[p+t.RotateTimeline.PREV_TIME]-g));d=c[p+t.RotateTimeline.ROTATION]-v,d=v+(d-=360*(16384-(16384.499999999996-d/360|0)))*m+l.data.rotation,d-=360*(16384-(16384.499999999996-d/360|0))}var y=0,b=d-f;if(0==(b-=360*(16384-(16384.499999999996-b/360|0))))y=a[s];else{var x=0,_=0;u?(x=0,_=b):(x=a[s],_=a[s+1]);var w=b>0,T=x>=0;t.MathUtils.signum(_)!=t.MathUtils.signum(b)&&Math.abs(_)<=90&&(Math.abs(x)>180&&(x+=360*t.MathUtils.signum(x)),T=w),y=b+x-x%360,T!=w&&(y+=360*t.MathUtils.signum(x)),a[s]=y}a[s+1]=b,f+=y*i,l.rotation=f-360*(16384-(16384.499999999996-f/360|0))}}else e.apply(r,0,n,null,1,o,t.MixDirection.mixIn)},e.prototype.queueEvents=function(t,e){for(var r=t.animationStart,n=t.animationEnd,i=n-r,o=t.trackLast%i,a=this.events,s=0,u=a.length;s<u;s++){var h=a[s];if(h.time<o)break;h.time>n||this.queue.event(t,h)}for((t.loop?0==i||o>t.trackTime%i:e>=n&&t.animationLast<n)&&this.queue.complete(t);s<u;s++){a[s].time<r||this.queue.event(t,a[s])}},e.prototype.clearTracks=function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,r=this.tracks.length;e<r;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()},e.prototype.clearTrack=function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];if(null!=e){this.queue.end(e),this.disposeNext(e);for(var r=e;;){var n=r.mixingFrom;if(null==n)break;this.queue.end(n),r.mixingFrom=null,r.mixingTo=null,r=n}this.tracks[e.trackIndex]=null,this.queue.drain()}}},e.prototype.setCurrent=function(t,e,r){var n=this.expandToIndex(t);this.tracks[t]=e,null!=n&&(r&&this.queue.interrupt(n),e.mixingFrom=n,n.mixingTo=e,e.mixTime=0,null!=n.mixingFrom&&n.mixDuration>0&&(e.interruptAlpha*=Math.min(1,n.mixTime/n.mixDuration)),n.timelinesRotation.length=0),this.queue.start(e)},e.prototype.setAnimation=function(t,e,r){var n=this.data.skeletonData.findAnimation(e);if(null==n)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,n,r)},e.prototype.setAnimationWith=function(t,e,r){if(null==e)throw new Error("animation cannot be null.");var n=!0,i=this.expandToIndex(t);null!=i&&(-1==i.nextTrackLast?(this.tracks[t]=i.mixingFrom,this.queue.interrupt(i),this.queue.end(i),this.disposeNext(i),i=i.mixingFrom,n=!1):this.disposeNext(i));var o=this.trackEntry(t,e,r,i);return this.setCurrent(t,o,n),this.queue.drain(),o},e.prototype.addAnimation=function(t,e,r,n){var i=this.data.skeletonData.findAnimation(e);if(null==i)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,i,r,n)},e.prototype.addAnimationWith=function(t,e,r,n){if(null==e)throw new Error("animation cannot be null.");var i=this.expandToIndex(t);if(null!=i)for(;null!=i.next;)i=i.next;var o=this.trackEntry(t,e,r,i);if(null==i)this.setCurrent(t,o,!0),this.queue.drain();else if(i.next=o,n<=0){var a=i.animationEnd-i.animationStart;0!=a?(i.loop?n+=a*(1+(i.trackTime/a|0)):n+=Math.max(a,i.trackTime),n-=this.data.getMix(i.animation,e)):n=i.trackTime}return o.delay=n,o},e.prototype.setEmptyAnimation=function(t,r){var n=this.setAnimationWith(t,e.emptyAnimation,!1);return n.mixDuration=r,n.trackEnd=r,n},e.prototype.addEmptyAnimation=function(t,r,n){n<=0&&(n-=r);var i=this.addAnimationWith(t,e.emptyAnimation,!1,n);return i.mixDuration=r,i.trackEnd=r,i},e.prototype.setEmptyAnimations=function(t){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++){var i=this.tracks[r];null!=i&&this.setEmptyAnimation(i.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()},e.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(t.Utils.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)},e.prototype.trackEntry=function(e,r,n,i){var o=this.trackEntryPool.obtain();return o.trackIndex=e,o.animation=r,o.loop=n,o.holdPrevious=!1,o.eventThreshold=0,o.attachmentThreshold=0,o.drawOrderThreshold=0,o.animationStart=0,o.animationEnd=r.duration,o.animationLast=-1,o.nextAnimationLast=-1,o.delay=0,o.trackTime=0,o.trackLast=-1,o.nextTrackLast=-1,o.trackEnd=Number.MAX_VALUE,o.timeScale=1,o.alpha=1,o.interruptAlpha=1,o.mixTime=0,o.mixDuration=null==i?0:this.data.getMix(i.animation,r),o.mixBlend=t.MixBlend.replace,o},e.prototype.disposeNext=function(t){for(var e=t.next;null!=e;)this.queue.dispose(e),e=e.next;t.next=null},e.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=0,r=this.tracks.length;e<r;e++){if(null!=(n=this.tracks[e])){for(;null!=n.mixingFrom;)n=n.mixingFrom;do{null!=n.mixingFrom&&n.mixBlend==t.MixBlend.add||this.computeHold(n),n=n.mixingTo}while(null!=n)}}this.propertyIDs.clear();for(e=this.tracks.length-1;e>=0;e--)for(var n=this.tracks[e];null!=n;)this.computeNotLast(n),n=n.mixingFrom},e.prototype.computeHold=function(r){var n=r.mixingTo,i=r.animation.timelines,o=r.animation.timelines.length,a=t.Utils.setArraySize(r.timelineMode,o);r.timelineHoldMix.length=0;var s=t.Utils.setArraySize(r.timelineHoldMix,o),u=this.propertyIDs;if(null!=n&&n.holdPrevious)for(var h=0;h<o;h++)u.add(i[h].getPropertyId()),a[h]=e.HOLD;else t:for(h=0;h<o;h++){var c=i[h],l=c.getPropertyId();if(u.add(l))if(null==n||c instanceof t.AttachmentTimeline||c instanceof t.DrawOrderTimeline||c instanceof t.EventTimeline||!n.animation.hasTimeline(l))a[h]=e.FIRST;else{for(var f=n.mixingTo;null!=f;f=f.mixingTo)if(!f.animation.hasTimeline(l)){if(r.mixDuration>0){a[h]=e.HOLD_MIX,s[h]=f;continue t}break}a[h]=e.HOLD}else a[h]=e.SUBSEQUENT}},e.prototype.computeNotLast=function(r){for(var n=r.animation.timelines,i=r.animation.timelines.length,o=r.timelineMode,a=this.propertyIDs,s=0;s<i;s++)if(n[s]instanceof t.AttachmentTimeline){var u=n[s];a.add(u.slotIndex)||(o[s]|=e.NOT_LAST)}},e.prototype.getCurrent=function(t){return t>=this.tracks.length?null:this.tracks[t]},e.prototype.addListener=function(t){if(null==t)throw new Error("listener cannot be null.");this.listeners.push(t)},e.prototype.removeListener=function(t){var e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)},e.prototype.clearListeners=function(){this.listeners.length=0},e.prototype.clearListenerNotifications=function(){this.queue.clear()},e.prototype.setAnimationByName=function(t,r,n){e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(t,r,n)},e.prototype.addAnimationByName=function(t,r,n,i){e.deprecatedWarning2||(e.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(t,r,n,i)},e.prototype.hasAnimation=function(t){return null!==this.data.skeletonData.findAnimation(t)},e.prototype.hasAnimationByName=function(t){return e.deprecatedWarning3||(e.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(t)},e.emptyAnimation=new t.Animation("<empty>",[],0),e.SUBSEQUENT=0,e.FIRST=1,e.HOLD=2,e.HOLD_MIX=3,e.NOT_LAST=4,e.deprecatedWarning1=!1,e.deprecatedWarning2=!1,e.deprecatedWarning3=!1,e}();t.AnimationState=e;var r=function(){function e(){this.mixBlend=t.MixBlend.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return e.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},e.prototype.getAnimationTime=function(){if(this.loop){var t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},e.prototype.setAnimationLast=function(t){this.animationLast=t,this.nextAnimationLast=t},e.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},e.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(e.prototype,"time",{get:function(){return e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(t){e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"endTime",{get:function(){return e.deprecatedWarning2||(e.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(t){e.deprecatedWarning2||(e.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=t},enumerable:!1,configurable:!0}),e.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},e.deprecatedWarning1=!1,e.deprecatedWarning2=!1,e}();t.TrackEntry=r;var n,i=function(){function e(t){this.objects=[],this.drainDisabled=!1,this.animState=t}return e.prototype.start=function(t){this.objects.push(n.start),this.objects.push(t),this.animState.animationsChanged=!0},e.prototype.interrupt=function(t){this.objects.push(n.interrupt),this.objects.push(t)},e.prototype.end=function(t){this.objects.push(n.end),this.objects.push(t),this.animState.animationsChanged=!0},e.prototype.dispose=function(t){this.objects.push(n.dispose),this.objects.push(t)},e.prototype.complete=function(t){this.objects.push(n.complete),this.objects.push(t)},e.prototype.event=function(t,e){this.objects.push(n.event),this.objects.push(t),this.objects.push(e)},e.prototype.deprecateStuff=function(){return e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},e.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,i=0;i<e.length;i+=2){var o=e[i],a=e[i+1];switch(o){case n.start:null!=a.listener&&a.listener.start&&a.listener.start(a);for(var s=0;s<r.length;s++)r[s].start&&r[s].start(a);a.onStart&&this.deprecateStuff()&&a.onStart(a.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(a.trackIndex);break;case n.interrupt:null!=a.listener&&a.listener.interrupt&&a.listener.interrupt(a);for(s=0;s<r.length;s++)r[s].interrupt&&r[s].interrupt(a);break;case n.end:null!=a.listener&&a.listener.end&&a.listener.end(a);for(s=0;s<r.length;s++)r[s].end&&r[s].end(a);a.onEnd&&this.deprecateStuff()&&a.onEnd(a.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(a.trackIndex);case n.dispose:null!=a.listener&&a.listener.dispose&&a.listener.dispose(a);for(s=0;s<r.length;s++)r[s].dispose&&r[s].dispose(a);this.animState.trackEntryPool.free(a);break;case n.complete:null!=a.listener&&a.listener.complete&&a.listener.complete(a);for(s=0;s<r.length;s++)r[s].complete&&r[s].complete(a);var u=t.MathUtils.toInt(a.loopsCount());a.onComplete&&this.deprecateStuff()&&a.onComplete(a.trackIndex,u),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(a.trackIndex,u);break;case n.event:var h=e[2+i++];null!=a.listener&&a.listener.event&&a.listener.event(a,h);for(s=0;s<r.length;s++)r[s].event&&r[s].event(a,h);a.onEvent&&this.deprecateStuff()&&a.onEvent(a.trackIndex,h),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(a.trackIndex,h)}}this.clear(),this.drainDisabled=!1}},e.prototype.clear=function(){this.objects.length=0},e.deprecatedWarning1=!1,e}();t.EventQueue=i,function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"}(n=t.EventType||(t.EventType={}));var o=function(){function t(){}return t.prototype.start=function(t){},t.prototype.interrupt=function(t){},t.prototype.end=function(t){},t.prototype.dispose=function(t){},t.prototype.complete=function(t){},t.prototype.event=function(t,e){},t}();t.AnimationStateAdapter=o}(t.core||(t.core={}))}(n||(n={})),function(t){!function(t){var e=function(){function t(t){if(this.animationToMixTime={},this.defaultMix=0,null==t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}return t.prototype.setMix=function(t,e,r){var n=this.skeletonData.findAnimation(t);if(null==n)throw new Error("Animation not found: "+t);var i=this.skeletonData.findAnimation(e);if(null==i)throw new Error("Animation not found: "+e);this.setMixWith(n,i,r)},t.prototype.setMixByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(e,r,n)},t.prototype.setMixWith=function(t,e,r){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");var n=t.name+"."+e.name;this.animationToMixTime[n]=r},t.prototype.getMix=function(t,e){var r=t.name+"."+e.name,n=this.animationToMixTime[r];return void 0===n?this.defaultMix:n},t.deprecatedWarning1=!1,t}();t.AnimationStateData=e}(t.core||(t.core={}))}(n||(n={})),function(t){!function(t){var e=function(){function e(t){this.atlas=t}return e.prototype.newRegionAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(null==i)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");var o=new t.RegionAttachment(r);return o.region=i,o},e.prototype.newMeshAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(null==i)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");var o=new t.MeshAttachment(r);return o.region=i,o},e.prototype.newBoundingBoxAttachment=function(e,r){return new t.BoundingBoxAttachment(r)},e.prototype.newPathAttachment=function(e,r){return new t.PathAttachment(r)},e.prototype.newPointAttachment=function(e,r){return new t.PointAttachment(r)},e.prototype.newClippingAttachment=function(e,r){return new t.ClippingAttachment(r)},e}();t.AtlasAttachmentLoader=e}(t.core||(t.core={}))}(n||(n={})),function(t){!function(t){!function(t){t[t.Normal=0]="Normal",t[t.Additive=1]="Additive",t[t.Multiply=2]="Multiply",t[t.Screen=3]="Screen"}(t.BlendMode||(t.BlendMode={}))}(t.core||(t.core={}))}(n||(n={})),function(e){!function(e){var r=function(){function r(e,r,n){if(this.matrix=new t.Matrix,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!1,null==e)throw new Error("data cannot be null.");if(null==r)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(r.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),r.prototype.isActive=function(){return this.active},r.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},r.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},r.prototype.updateWorldTransformWith=function(t,n,i,o,a,s,u){this.ax=t,this.ay=n,this.arotation=i,this.ascaleX=o,this.ascaleY=a,this.ashearX=s,this.ashearY=u,this.appliedValid=!0;var h=this.parent,c=this.matrix,l=this.skeleton.scaleX,f=r.yDown?-this.skeleton.scaleY:this.skeleton.scaleY;if(null==h){var d=this.skeleton,p=i+90+u;return c.a=e.MathUtils.cosDeg(i+s)*o*l,c.c=e.MathUtils.cosDeg(p)*a*l,c.b=e.MathUtils.sinDeg(i+s)*o*f,c.d=e.MathUtils.sinDeg(p)*a*f,c.tx=t*l+d.x,void(c.ty=n*f+d.y)}var v=h.matrix.a,g=h.matrix.c,m=h.matrix.b,y=h.matrix.d;switch(c.tx=v*t+g*n+h.matrix.tx,c.ty=m*t+y*n+h.matrix.ty,this.data.transformMode){case e.TransformMode.Normal:p=i+90+u;var b=e.MathUtils.cosDeg(i+s)*o,x=e.MathUtils.cosDeg(p)*a,_=e.MathUtils.sinDeg(i+s)*o,w=e.MathUtils.sinDeg(p)*a;return c.a=v*b+g*_,c.c=v*x+g*w,c.b=m*b+y*_,void(c.d=m*x+y*w);case e.TransformMode.OnlyTranslation:p=i+90+u;c.a=e.MathUtils.cosDeg(i+s)*o,c.c=e.MathUtils.cosDeg(p)*a,c.b=e.MathUtils.sinDeg(i+s)*o,c.d=e.MathUtils.sinDeg(p)*a;break;case e.TransformMode.NoRotationOrReflection:var T=0;(I=v*v+m*m)>1e-4?(g=m*(I=Math.abs(v*y-g*m)/I),y=v*I,T=Math.atan2(m,v)*e.MathUtils.radDeg):(v=0,m=0,T=90-Math.atan2(y,g)*e.MathUtils.radDeg);var E=i+s-T,S=i+u-T+90;b=e.MathUtils.cosDeg(E)*o,x=e.MathUtils.cosDeg(S)*a,_=e.MathUtils.sinDeg(E)*o,w=e.MathUtils.sinDeg(S)*a;c.a=v*b-g*_,c.c=v*x-g*w,c.b=m*b+y*_,c.d=m*x+y*w;break;case e.TransformMode.NoScale:case e.TransformMode.NoScaleOrReflection:var I,A=e.MathUtils.cosDeg(i),P=e.MathUtils.sinDeg(i),M=(v*A+g*P)/l,O=(m*A+y*P)/f;(I=Math.sqrt(M*M+O*O))>1e-5&&(I=1/I),M*=I,O*=I,I=Math.sqrt(M*M+O*O),this.data.transformMode==e.TransformMode.NoScale&&v*y-g*m<0!=(r.yDown?this.skeleton.scaleX<0!=this.skeleton.scaleY>0:this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(I=-I);var C=Math.PI/2+Math.atan2(O,M),R=Math.cos(C)*I,D=Math.sin(C)*I;b=e.MathUtils.cosDeg(s)*o,x=e.MathUtils.cosDeg(90+u)*a,_=e.MathUtils.sinDeg(s)*o,w=e.MathUtils.sinDeg(90+u)*a;c.a=M*b+R*_,c.c=M*x+R*w,c.b=O*b+D*_,c.d=O*x+D*w}c.a*=l,c.c*=l,c.b*=f,c.d*=f},r.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY},r.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*e.MathUtils.radDeg},r.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*e.MathUtils.radDeg},r.prototype.getWorldScaleX=function(){var t=this.matrix;return Math.sqrt(t.a*t.a+t.c*t.c)},r.prototype.getWorldScaleY=function(){var t=this.matrix;return Math.sqrt(t.b*t.b+t.d*t.d)},r.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var t=this.parent,r=this.matrix;if(null==t)return this.ax=r.tx,this.ay=r.ty,this.arotation=Math.atan2(r.b,r.a)*e.MathUtils.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,void(this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*e.MathUtils.radDeg);var n=t.matrix,i=1/(n.a*n.d-n.b*n.c),o=r.tx-n.tx,a=r.ty-n.ty;this.ax=o*n.d*i-a*n.c*i,this.ay=a*n.a*i-o*n.b*i;var s=i*n.d,u=i*n.a,h=i*n.c,c=i*n.b,l=s*r.a-h*r.b,f=s*r.c-h*r.d,d=u*r.b-c*r.a,p=u*r.d-c*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(l*l+d*d),this.ascaleX>1e-4){var v=l*p-f*d;this.ascaleY=v/this.ascaleX,this.ashearY=Math.atan2(l*f+d*p,v)*e.MathUtils.radDeg,this.arotation=Math.atan2(d,l)*e.MathUtils.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(f*f+p*p),this.ashearY=0,this.arotation=90-Math.atan2(p,f)*e.MathUtils.radDeg},r.prototype.worldToLocal=function(t){var e=this.matrix,r=e.a,n=e.c,i=e.b,o=e.d,a=1/(r*o-n*i),s=t.x-e.tx,u=t.y-e.ty;return t.x=s*o*a-u*n*a,t.y=u*r*a-s*i*a,t},r.prototype.localToWorld=function(t){var e=this.matrix,r=t.x,n=t.y;return t.x=r*e.a+n*e.c+e.tx,t.y=r*e.b+n*e.d+e.ty,t},r.prototype.worldToLocalRotation=function(t){var r=e.MathUtils.sinDeg(t),n=e.MathUtils.cosDeg(t),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*e.MathUtils.radDeg},r.prototype.localToWorldRotation=function(t){var r=e.MathUtils.sinDeg(t),n=e.MathUtils.cosDeg(t),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*e.MathUtils.radDeg},r.prototype.rotateWorld=function(t){var r=this.matrix,n=r.a,i=r.c,o=r.b,a=r.d,s=e.MathUtils.cosDeg(t),u=e.MathUtils.sinDeg(t);r.a=s*n-u*o,r.c=s*i-u*a,r.b=u*n+s*o,r.d=u*i+s*a,this.appliedValid=!1},r.yDown=!1,r}();e.Bone=r}(e.core||(e.core={}))}(n||(n={})),function(t){!function(t){var e,r=function(r,n,i){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=e.Normal,this.skinRequired=!1,this.color=new t.Color,r<0)throw new Error("index must be >= 0.");if(null==n)throw new Error("name cannot be null.");this.index=r,this.name=n,this.parent=i};t.BoneData=r,function(t){t[t.Normal=0]="Normal",t[t.OnlyTranslation=1]="OnlyTranslation",t[t.NoRotationOrReflection=2]="NoRotationOrReflection",t[t.NoScale=3]="NoScale",t[t.NoScaleOrReflection=4]="NoScaleOrReflection"}(e=t.TransformMode||(t.TransformMode={}))}(t.core||(t.core={}))}(n||(n={})),function(t){!function(t){var e=function(t,e,r){this.name=t,this.order=e,this.skinRequired=r};t.ConstraintData=e}(t.core||(t.core={}))}(n||(n={})),function(t){!function(t){var e=function(t,e){if(null==e)throw new Error("data cannot be null.");this.time=t,this.data=e};t.Event=e}(t.core||(t.core={}))}(n||(n={})),function(t){!function(t){var e=function(t){this.name=t};t.EventData=e}(t.core||(t.core={}))}(n||(n={})),function(t){!function(t){var e=function(){function e(t,e){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.softness=t.softness,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch,this.bones=new Array;for(var r=0;r<t.bones.length;r++)this.bones.push(e.findBone(t.bones[r].name));this.target=e.findBone(t.target.name)}return e.prototype.isActive=function(){return this.active},e.prototype.apply=function(){this.update()},e.prototype.update=function(){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.softness,this.mix)}},e.prototype.apply1=function(e,r,n,i,o,a,s){e.appliedValid||e.updateAppliedTransform();var u=e.parent.matrix,h=u.a,c=u.c,l=u.b,f=u.d,d=-e.ashearX-e.arotation,p=0,v=0;switch(e.data.transformMode){case t.TransformMode.OnlyTranslation:p=r-e.worldX,v=n-e.worldY;break;case t.TransformMode.NoRotationOrReflection:d+=Math.atan2(l,h)*t.MathUtils.radDeg;var g=Math.abs(h*f-c*l)/(h*h+l*l);c=-l*g,f=h*g;default:var m=r-u.tx,y=n-u.ty,b=h*f-c*l;p=(m*f-y*c)/b-e.ax,v=(y*h-m*l)/b-e.ay}d+=Math.atan2(v,p)*t.MathUtils.radDeg,e.ascaleX<0&&(d+=180),d>180?d-=360:d<-180&&(d+=360);var x=e.ascaleX,_=e.ascaleY;if(i||o){switch(e.data.transformMode){case t.TransformMode.NoScale:case t.TransformMode.NoScaleOrReflection:p=r-e.worldX,v=n-e.worldY}var w=e.data.length*x,T=Math.sqrt(p*p+v*v);if(i&&T<w||o&&T>w&&w>1e-4){var E=(T/w-1)*s+1;x*=E,a&&(_*=E)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+d*s,x,_,e.ashearX,e.ashearY)},e.prototype.apply2=function(e,r,n,i,o,a,s,u){if(0!=u){e.appliedValid||e.updateAppliedTransform(),r.appliedValid||r.updateAppliedTransform();var h=e.ax,c=e.ay,l=e.ascaleX,f=l,d=e.ascaleY,p=r.ascaleX,v=e.matrix,g=0,m=0,y=0;l<0?(l=-l,g=180,y=-1):(g=0,y=1),d<0&&(d=-d,y=-y),p<0?(p=-p,m=180):m=0;var b=r.ax,x=0,_=0,w=0,T=v.a,E=v.c,S=v.b,I=v.d,A=Math.abs(l-d)<=1e-4;A?(_=T*b+E*(x=r.ay)+v.tx,w=S*b+I*x+v.ty):(x=0,_=T*b+v.tx,w=S*b+v.ty);var P=e.parent.matrix;T=P.a,E=P.c,S=P.b;var M,O,C=1/(T*(I=P.d)-E*S),R=_-P.tx,D=w-P.ty,N=(R*I-D*E)*C-h,L=(D*T-R*S)*C-c,F=Math.sqrt(N*N+L*L),k=r.data.length*p;if(F<1e-4)return this.apply1(e,n,i,!1,a,!1,u),void r.updateWorldTransformWith(b,x,0,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY);var U=((R=n-P.tx)*I-(D=i-P.ty)*E)*C-h,B=(D*T-R*S)*C-c,j=U*U+B*B;if(0!=s){s*=l*(p+1)/2;var V=Math.sqrt(j),X=V-F-k*l+s;if(X>0){var G=Math.min(1,X/(2*s))-1;j=(U-=(G=(X-s*(1-G*G))/V)*U)*U+(B-=G*B)*B}}t:if(A){var H=(j-F*F-(k*=l)*k)/(2*F*k);H<-1?H=-1:H>1&&(H=1,a&&(f*=(Math.sqrt(j)/(F+k)-1)*u+1)),O=Math.acos(H)*o,T=F+k*H,E=k*Math.sin(O),M=Math.atan2(B*T-U*E,U*T+B*E)}else{var Y=(T=l*k)*T,W=(E=d*k)*E,z=Math.atan2(B,U),q=-2*W*F,K=W-Y;if((I=q*q-4*K*(S=W*F*F+Y*j-Y*W))>=0){var Z=Math.sqrt(I);q<0&&(Z=-Z);var $=(Z=-(q+Z)/2)/K,J=S/Z,Q=Math.abs($)<Math.abs(J)?$:J;if(Q*Q<=j){D=Math.sqrt(j-Q*Q)*o,M=z-Math.atan2(D,Q),O=Math.atan2(D/d,(Q-F)/l);break t}}var tt=t.MathUtils.PI,et=F-T,rt=et*et,nt=0,it=0,ot=F+T,at=ot*ot,st=0;(S=-T*F/(Y-W))>=-1&&S<=1&&(S=Math.acos(S),(I=(R=T*Math.cos(S)+F)*R+(D=E*Math.sin(S))*D)<rt&&(tt=S,rt=I,et=R,nt=D),I>at&&(it=S,at=I,ot=R,st=D)),j<=(rt+at)/2?(M=z-Math.atan2(nt*o,et),O=tt*o):(M=z-Math.atan2(st*o,ot),O=it*o)}var ut=Math.atan2(x,b)*y,ht=e.arotation;(M=(M-ut)*t.MathUtils.radDeg+g-ht)>180?M-=360:M<-180&&(M+=360),e.updateWorldTransformWith(h,c,ht+M*u,f,e.ascaleY,0,0),ht=r.arotation,(O=((O+ut)*t.MathUtils.radDeg-r.ashearX)*y+m-ht)>180?O-=360:O<-180&&(O+=360),r.updateWorldTransformWith(b,x,ht+O*u,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)}else r.updateWorldTransform()},e}();t.IkConstraint=e}(t.core||(t.core={}))}(n||(n={})),function(t){!function(t){var e=function(t){function e(e){var r=t.call(this,e,0,!1)||this;return r.bones=new Array,r.bendDirection=1,r.compress=!1,r.stretch=!1,r.uniform=!1,r.mix=1,r.softness=0,r}return i(e,t),e}(t.ConstraintData);t.IkConstraintData=e}(t.core||(t.core={}))}(n||(n={})),function(t){!function(t){var e=function(){function e(t,e){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var r=0,n=t.bones.length;r<n;r++)this.bones.push(e.findBone(t.bones[r].name));this.target=e.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix}return e.prototype.isActive=function(){return this.active},e.prototype.apply=function(){this.update()},e.prototype.update=function(){var r=this.target.getAttachment();if(r instanceof t.PathAttachment){var n=this.rotateMix,i=this.translateMix,o=n>0;if(i>0||o){var a=this.data,s=a.spacingMode,u=s==t.SpacingMode.Length,h=a.rotateMode,c=h==t.RotateMode.Tangent,l=h==t.RotateMode.ChainScale,f=this.bones.length,d=c?f:f+1,p=this.bones,v=t.Utils.setArraySize(this.spaces,d),g=null,m=this.spacing;if(l||u){l&&(g=t.Utils.setArraySize(this.lengths,f));for(var y=0,b=d-1;y<b;){var x=(O=p[y]).data.length;if(x<e.epsilon)l&&(g[y]=0),v[++y]=0;else{var _=x*O.matrix.a,w=x*O.matrix.b,T=Math.sqrt(_*_+w*w);l&&(g[y]=T),v[++y]=(u?x+m:m)*T/x}}}else for(y=1;y<d;y++)v[y]=m;var E=this.computeWorldPositions(r,d,c,a.positionMode==t.PositionMode.Percent,s==t.SpacingMode.Percent),S=E[0],I=E[1],A=a.offsetRotation,P=!1;if(0==A)P=h==t.RotateMode.Chain;else P=!1,A*=(M=this.target.bone.matrix).a*M.d-M.b*M.c>0?t.MathUtils.degRad:-t.MathUtils.degRad;y=0;for(var M=3;y<f;y++,M+=3){var O,C=(O=p[y]).matrix;C.tx+=(S-C.tx)*i,C.ty+=(I-C.ty)*i;var R=(_=E[M])-S,D=(w=E[M+1])-I;if(l){var N=g[y];if(0!=N){var L=(Math.sqrt(R*R+D*D)/N-1)*n+1;C.a*=L,C.b*=L}}if(S=_,I=w,o){var F=C.a,k=C.c,U=C.b,B=C.d,j=0,V=0,X=0;if(j=c?E[M-1]:0==v[y+1]?E[M+2]:Math.atan2(D,R),j-=Math.atan2(U,F),P){V=Math.cos(j),X=Math.sin(j);var G=O.data.length;S+=(G*(V*F-X*U)-R)*n,I+=(G*(X*F+V*U)-D)*n}else j+=A;j>t.MathUtils.PI?j-=t.MathUtils.PI2:j<-t.MathUtils.PI&&(j+=t.MathUtils.PI2),j*=n,V=Math.cos(j),X=Math.sin(j),C.a=V*F-X*U,C.c=V*k-X*B,C.b=X*F+V*U,C.d=X*k+V*B}O.appliedValid=!1}}}},e.prototype.computeWorldPositions=function(r,n,i,o,a){var s=this.target,u=this.position,h=this.spaces,c=t.Utils.setArraySize(this.positions,3*n+2),l=null,f=r.closed,d=r.worldVerticesLength,p=d/6,v=e.NONE;if(!r.constantSpeed){var g=r.lengths,m=g[p-=f?1:2];if(o&&(u*=m),a)for(var y=0;y<n;y++)h[y]*=m;l=t.Utils.setArraySize(this.world,8);y=0;for(var b=0,x=0;y<n;y++,b+=3){var _=u+=Y=h[y];if(f)(_%=m)<0&&(_+=m),x=0;else{if(_<0){v!=e.BEFORE&&(v=e.BEFORE,r.computeWorldVertices(s,2,4,l,0,2)),this.addBeforePosition(_,l,0,c,b);continue}if(_>m){v!=e.AFTER&&(v=e.AFTER,r.computeWorldVertices(s,d-6,4,l,0,2)),this.addAfterPosition(_-m,l,0,c,b);continue}}for(;;x++){var w=g[x];if(!(_>w)){if(0==x)_/=w;else _=(_-(K=g[x-1]))/(w-K);break}}x!=v&&(v=x,f&&x==p?(r.computeWorldVertices(s,d-4,4,l,0,2),r.computeWorldVertices(s,0,4,l,4,2)):r.computeWorldVertices(s,6*x+2,8,l,0,2)),this.addCurvePosition(_,l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],c,b,i||y>0&&0==Y)}return c}f?(d+=2,l=t.Utils.setArraySize(this.world,d),r.computeWorldVertices(s,2,d-4,l,0,2),r.computeWorldVertices(s,0,2,l,d-4,2),l[d-2]=l[0],l[d-1]=l[1]):(p--,d-=4,l=t.Utils.setArraySize(this.world,d),r.computeWorldVertices(s,2,d,l,0,2));for(var T=t.Utils.setArraySize(this.curves,p),E=0,S=l[0],I=l[1],A=0,P=0,M=0,O=0,C=0,R=0,D=0,N=0,L=0,F=0,k=0,U=0,B=0,j=0,V=(y=0,2);y<p;y++,V+=6)A=l[V],P=l[V+1],M=l[V+2],O=l[V+3],k=2*(D=.1875*(S-2*A+M))+(L=.09375*(3*(A-M)-S+(C=l[V+4]))),U=2*(N=.1875*(I-2*P+O))+(F=.09375*(3*(P-O)-I+(R=l[V+5]))),B=.75*(A-S)+D+.16666667*L,j=.75*(P-I)+N+.16666667*F,E+=Math.sqrt(B*B+j*j),B+=k,j+=U,k+=L,U+=F,E+=Math.sqrt(B*B+j*j),B+=k,j+=U,E+=Math.sqrt(B*B+j*j),B+=k+L,j+=U+F,E+=Math.sqrt(B*B+j*j),T[y]=E,S=C,I=R;if(o&&(u*=E),a)for(y=0;y<n;y++)h[y]*=E;for(var X=this.segments,G=0,H=(y=0,b=0,x=0,0);y<n;y++,b+=3){var Y;_=u+=Y=h[y];if(f)(_%=E)<0&&(_+=E),x=0;else{if(_<0){this.addBeforePosition(_,l,0,c,b);continue}if(_>E){this.addAfterPosition(_-E,l,d-4,c,b);continue}}for(;;x++){var W=T[x];if(!(_>W)){if(0==x)_/=W;else _=(_-(K=T[x-1]))/(W-K);break}}if(x!=v){v=x;var z=6*x;for(S=l[z],I=l[z+1],A=l[z+2],P=l[z+3],M=l[z+4],O=l[z+5],k=2*(D=.03*(S-2*A+M))+(L=.006*(3*(A-M)-S+(C=l[z+6]))),U=2*(N=.03*(I-2*P+O))+(F=.006*(3*(P-O)-I+(R=l[z+7]))),B=.3*(A-S)+D+.16666667*L,j=.3*(P-I)+N+.16666667*F,G=Math.sqrt(B*B+j*j),X[0]=G,z=1;z<8;z++)B+=k,j+=U,k+=L,U+=F,G+=Math.sqrt(B*B+j*j),X[z]=G;B+=k,j+=U,G+=Math.sqrt(B*B+j*j),X[8]=G,B+=k+L,j+=U+F,G+=Math.sqrt(B*B+j*j),X[9]=G,H=0}for(_*=G;;H++){var q=X[H];if(!(_>q)){var K;if(0==H)_/=q;else _=H+(_-(K=X[H-1]))/(q-K);break}}this.addCurvePosition(.1*_,S,I,A,P,M,O,C,R,c,b,i||y>0&&0==Y)}return c},e.prototype.addBeforePosition=function(t,e,r,n,i){var o=e[r],a=e[r+1],s=e[r+2]-o,u=e[r+3]-a,h=Math.atan2(u,s);n[i]=o+t*Math.cos(h),n[i+1]=a+t*Math.sin(h),n[i+2]=h},e.prototype.addAfterPosition=function(t,e,r,n,i){var o=e[r+2],a=e[r+3],s=o-e[r],u=a-e[r+1],h=Math.atan2(u,s);n[i]=o+t*Math.cos(h),n[i+1]=a+t*Math.sin(h),n[i+2]=h},e.prototype.addCurvePosition=function(t,e,r,n,i,o,a,s,u,h,c,l){(0==t||isNaN(t))&&(t=1e-4);var f=t*t,d=f*t,p=1-t,v=p*p,g=v*p,m=p*t,y=3*m,b=p*y,x=y*t,_=e*g+n*b+o*x+s*d,w=r*g+i*b+a*x+u*d;h[c]=_,h[c+1]=w,l&&(h[c+2]=Math.atan2(w-(r*v+i*m*2+a*f),_-(e*v+n*m*2+o*f)))},e.NONE=-1,e.BEFORE=-2,e.AFTER=-3,e.epsilon=1e-5,e}();t.PathConstraint=e}(t.core||(t.core={}))}(n||(n={})),function(t){!function(t){var e=function(t){function e(e){var r=t.call(this,e,0,!1)||this;return r.bones=new Array,r}return i(e,t),e}(t.ConstraintData);t.PathConstraintData=e,function(t){t[t.Fixed=0]="Fixed",t[t.Percent=1]="Percent"}(t.PositionMode||(t.PositionMode={})),function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"}(t.SpacingMode||(t.SpacingMode={})),function(t){t[t.Tangent=0]="Tangent",t[t.Chain=1]="Chain",t[t.ChainScale=2]="ChainScale"}(t.RotateMode||(t.RotateMode={}))}(t.core||(t.core={}))}(n||(n={})),function(t){!function(t){var e=function(){function e(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,null==e)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(null==n.parent)i=new t.Bone(n,this,null);else{var o=this.bones[n.parent.index];i=new t.Bone(n,this,o),o.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(r=0;r<e.slots.length;r++){var a=e.slots[r],s=(i=this.bones[a.boneData.index],new t.Slot(a,i));this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(r=0;r<e.ikConstraints.length;r++){var u=e.ikConstraints[r];this.ikConstraints.push(new t.IkConstraint(u,this))}this.transformConstraints=new Array;for(r=0;r<e.transformConstraints.length;r++){var h=e.transformConstraints[r];this.transformConstraints.push(new t.TransformConstraint(h,this))}this.pathConstraints=new Array;for(r=0;r<e.pathConstraints.length;r++){var c=e.pathConstraints[r];this.pathConstraints.push(new t.PathConstraint(c,this))}this.color=new t.Color(1,1,1,1),this.updateCache()}return e.prototype.updateCache=function(){this._updateCache.length=0,this.updateCacheReset.length=0;for(var t=this.bones,e=0,r=t.length;e<r;e++){(i=t[e]).sorted=i.data.skinRequired,i.active=!i.sorted}if(null!=this.skin){var n=this.skin.bones;for(e=0,r=this.skin.bones.length;e<r;e++){var i=this.bones[n[e].index];do{i.sorted=!1,i.active=!0,i=i.parent}while(null!=i)}}var o=this.ikConstraints,a=this.transformConstraints,s=this.pathConstraints,u=o.length,h=a.length,c=s.length,l=u+h+c;t:for(e=0;e<l;e++){for(var f=0;f<u;f++){if((d=o[f]).data.order==e){this.sortIkConstraint(d);continue t}}for(f=0;f<h;f++){if((d=a[f]).data.order==e){this.sortTransformConstraint(d);continue t}}for(f=0;f<c;f++){var d;if((d=s[f]).data.order==e){this.sortPathConstraint(d);continue t}}}for(e=0,r=t.length;e<r;e++)this.sortBone(t[e])},e.prototype.sortIkConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||null!=this.skin&&t.Utils.contains(this.skin.constraints,e.data,!0)),e.active){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length>1){var o=n[n.length-1];this._updateCache.indexOf(o)>-1||this.updateCacheReset.push(o)}this._updateCache.push(e),this.sortReset(i.children),n[n.length-1].sorted=!0}},e.prototype.sortPathConstraint=function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||null!=this.skin&&t.Utils.contains(this.skin.constraints,e.data,!0)),e.active){var r=e.target,n=r.data.index,i=r.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,n,i),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var o=0,a=this.data.skins.length;o<a;o++)this.sortPathConstraintAttachment(this.data.skins[o],n,i);var s=r.getAttachment();s instanceof t.PathAttachment&&this.sortPathConstraintAttachmentWith(s,i);var u=e.bones,h=u.length;for(o=0;o<h;o++)this.sortBone(u[o]);this._updateCache.push(e);for(o=0;o<h;o++)this.sortReset(u[o].children);for(o=0;o<h;o++)u[o].sorted=!0}},e.prototype.sortTransformConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||null!=this.skin&&t.Utils.contains(this.skin.constraints,e.data,!0)),e.active){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var o=r[i];this.sortBone(o.parent),this._updateCache.indexOf(o)>-1||this.updateCacheReset.push(o)}else for(i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var a=0;a<n;a++)this.sortReset(r[a].children);for(a=0;a<n;a++)r[a].sorted=!0}},e.prototype.sortPathConstraintAttachment=function(t,e,r){var n=t.attachments[e];if(n)for(var i in n)this.sortPathConstraintAttachmentWith(n[i],r)},e.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof t.PathAttachment){var n=e.bones;if(null==n)this.sortBone(r);else for(var i=this.bones,o=0;o<n.length;)for(var a=n[o++],s=o+a;o<s;o++){var u=n[o];this.sortBone(i[u])}}},e.prototype.sortBone=function(t){if(!t.sorted){var e=t.parent;null!=e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}},e.prototype.sortReset=function(t){for(var e=0,r=t.length;e<r;e++){var n=t[e];n.active&&(n.sorted&&this.sortReset(n.children),n.sorted=!1)}},e.prototype.updateWorldTransform=function(){for(var t=this.updateCacheReset,e=0,r=t.length;e<r;e++){var n=t[e];n.ax=n.x,n.ay=n.y,n.arotation=n.rotation,n.ascaleX=n.scaleX,n.ascaleY=n.scaleY,n.ashearX=n.shearX,n.ashearY=n.shearY,n.appliedValid=!0}var i=this._updateCache;for(e=0,r=i.length;e<r;e++)i[e].update()},e.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},e.prototype.setBonesToSetupPose=function(){for(var t=this.bones,e=0,r=t.length;e<r;e++)t[e].setToSetupPose();var n=this.ikConstraints;for(e=0,r=n.length;e<r;e++){(s=n[e]).mix=s.data.mix,s.softness=s.data.softness,s.bendDirection=s.data.bendDirection,s.compress=s.data.compress,s.stretch=s.data.stretch}var i=this.transformConstraints;for(e=0,r=i.length;e<r;e++){var o=(s=i[e]).data;s.rotateMix=o.rotateMix,s.translateMix=o.translateMix,s.scaleMix=o.scaleMix,s.shearMix=o.shearMix}var a=this.pathConstraints;for(e=0,r=a.length;e<r;e++){var s;o=(s=a[e]).data;s.position=o.position,s.spacing=o.spacing,s.rotateMix=o.rotateMix,s.translateMix=o.translateMix}},e.prototype.setSlotsToSetupPose=function(){var e=this.slots;t.Utils.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},e.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},e.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null},e.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++)if(e[r].data.name==t)return r;return-1},e.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null},e.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++)if(e[r].data.name==t)return r;return-1},e.prototype.setSkinByName=function(t){var e=this.data.findSkin(t);if(null==e)throw new Error("Skin not found: "+t);this.setSkin(e)},e.prototype.setSkin=function(t){if(t!=this.skin){if(null!=t)if(null!=this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,r=0,n=e.length;r<n;r++){var i=e[r],o=i.data.attachmentName;if(null!=o){var a=t.getAttachment(r,o);null!=a&&i.setAttachment(a)}}this.skin=t,this.updateCache()}},e.prototype.getAttachmentByName=function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)},e.prototype.getAttachment=function(t,e){if(null==e)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var r=this.skin.getAttachment(t,e);if(null!=r)return r}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},e.prototype.setAttachment=function(t,e){if(null==t)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var o=r[n];if(o.data.name==t){var a=null;if(null!=e&&null==(a=this.getAttachment(n,e)))throw new Error("Attachment not found: "+e+", for slot: "+t);return void o.setAttachment(a)}}throw new Error("Slot not found: "+t)},e.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null},e.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null},e.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null},e.prototype.getBounds=function(e,r,n){if(void 0===n&&(n=new Array(2)),null==e)throw new Error("offset cannot be null.");if(null==r)throw new Error("size cannot be null.");for(var i=this.drawOrder,o=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY,h=0,c=i.length;h<c;h++){var l=i[h];if(l.bone.active){var f=0,d=null,p=l.getAttachment();if(p instanceof t.RegionAttachment)f=8,d=t.Utils.setArraySize(n,f,0),p.computeWorldVertices(l.bone,d,0,2);else if(p instanceof t.MeshAttachment){var v=p;f=v.worldVerticesLength,d=t.Utils.setArraySize(n,f,0),v.computeWorldVertices(l,0,f,d,0,2)}if(null!=d)for(var g=0,m=d.length;g<m;g+=2){var y=d[g],b=d[g+1];o=Math.min(o,y),a=Math.min(a,b),s=Math.max(s,y),u=Math.max(u,b)}}}e.set(o,a),r.set(s-o,u-a)},e.prototype.update=function(t){this.time+=t},Object.defineProperty(e.prototype,"flipX",{get:function(){return-1==this.scaleX},set:function(t){e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=t?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flipY",{get:function(){return-1==this.scaleY},set:function(t){e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=t?1:-1},enumerable:!1,configurable:!0}),e.deprecatedWarning1=!1,e}();t.Skeleton=e}(t.core||(t.core={}))}(n||(n={})),function(t){!function(t){var e=function(){function e(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return e.prototype.readSkeletonData=function(n){var i=this.scale,o=new t.SkeletonData;o.name="";var a=new r(n);if(o.hash=a.readString(),o.version=a.readString(),"3.8.75"===o.version){console.error("Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.")}o.x=a.readFloat(),o.y=a.readFloat(),o.width=a.readFloat(),o.height=a.readFloat();var s=a.readBoolean();s&&(o.fps=a.readFloat(),o.imagesPath=a.readString(),o.audioPath=a.readString());var u=0;u=a.readInt(!0);for(var h=0;h<u;h++)a.strings.push(a.readString());u=a.readInt(!0);for(h=0;h<u;h++){var c=a.readString(),l=0==h?null:o.bones[a.readInt(!0)];(p=new t.BoneData(h,c,l)).rotation=a.readFloat(),p.x=a.readFloat()*i,p.y=a.readFloat()*i,p.scaleX=a.readFloat(),p.scaleY=a.readFloat(),p.shearX=a.readFloat(),p.shearY=a.readFloat(),p.length=a.readFloat()*i,p.transformMode=e.TransformModeValues[a.readInt(!0)],p.skinRequired=a.readBoolean(),s&&t.Color.rgba8888ToColor(p.color,a.readInt32()),o.bones.push(p)}u=a.readInt(!0);for(h=0;h<u;h++){var f=a.readString(),d=o.bones[a.readInt(!0)],p=new t.SlotData(h,f,d);t.Color.rgba8888ToColor(p.color,a.readInt32());var v=a.readInt32();-1!=v&&t.Color.rgb888ToColor(p.darkColor=new t.Color,v),p.attachmentName=a.readStringRef(),p.blendMode=e.BlendModeValues[a.readInt(!0)],o.slots.push(p)}u=a.readInt(!0);h=0;for(var g=void 0;h<u;h++){(p=new t.IkConstraintData(a.readString())).order=a.readInt(!0),p.skinRequired=a.readBoolean(),g=a.readInt(!0);for(var m=0;m<g;m++)p.bones.push(o.bones[a.readInt(!0)]);p.target=o.bones[a.readInt(!0)],p.mix=a.readFloat(),p.softness=a.readFloat()*i,p.bendDirection=a.readByte(),p.compress=a.readBoolean(),p.stretch=a.readBoolean(),p.uniform=a.readBoolean(),o.ikConstraints.push(p)}u=a.readInt(!0);for(h=0,g=void 0;h<u;h++){(p=new t.TransformConstraintData(a.readString())).order=a.readInt(!0),p.skinRequired=a.readBoolean(),g=a.readInt(!0);for(m=0;m<g;m++)p.bones.push(o.bones[a.readInt(!0)]);p.target=o.bones[a.readInt(!0)],p.local=a.readBoolean(),p.relative=a.readBoolean(),p.offsetRotation=a.readFloat(),p.offsetX=a.readFloat()*i,p.offsetY=a.readFloat()*i,p.offsetScaleX=a.readFloat(),p.offsetScaleY=a.readFloat(),p.offsetShearY=a.readFloat(),p.rotateMix=a.readFloat(),p.translateMix=a.readFloat(),p.scaleMix=a.readFloat(),p.shearMix=a.readFloat(),o.transformConstraints.push(p)}u=a.readInt(!0);for(h=0,g=void 0;h<u;h++){(p=new t.PathConstraintData(a.readString())).order=a.readInt(!0),p.skinRequired=a.readBoolean(),g=a.readInt(!0);for(m=0;m<g;m++)p.bones.push(o.bones[a.readInt(!0)]);p.target=o.slots[a.readInt(!0)],p.positionMode=e.PositionModeValues[a.readInt(!0)],p.spacingMode=e.SpacingModeValues[a.readInt(!0)],p.rotateMode=e.RotateModeValues[a.readInt(!0)],p.offsetRotation=a.readFloat(),p.position=a.readFloat(),p.positionMode==t.PositionMode.Fixed&&(p.position*=i),p.spacing=a.readFloat(),p.spacingMode!=t.SpacingMode.Length&&p.spacingMode!=t.SpacingMode.Fixed||(p.spacing*=i),p.rotateMix=a.readFloat(),p.translateMix=a.readFloat(),o.pathConstraints.push(p)}var y=this.readSkin(a,o,!0,s);null!=y&&(o.defaultSkin=y,o.skins.push(y));h=o.skins.length;for(t.Utils.setArraySize(o.skins,u=h+a.readInt(!0));h<u;h++)o.skins[h]=this.readSkin(a,o,!1,s);u=this.linkedMeshes.length;for(h=0;h<u;h++){var b=this.linkedMeshes[h],x=null==b.skin?o.defaultSkin:o.findSkin(b.skin);if(null==x)throw new Error("Skin not found: "+b.skin);var _=x.getAttachment(b.slotIndex,b.parent);if(null==_)throw new Error("Parent mesh not found: "+b.parent);b.mesh.deformAttachment=b.inheritDeform?_:b.mesh,b.mesh.setParentMesh(_)}this.linkedMeshes.length=0,u=a.readInt(!0);for(h=0;h<u;h++){(p=new t.EventData(a.readStringRef())).intValue=a.readInt(!1),p.floatValue=a.readFloat(),p.stringValue=a.readString(),p.audioPath=a.readString(),null!=p.audioPath&&(p.volume=a.readFloat(),p.balance=a.readFloat()),o.events.push(p)}u=a.readInt(!0);for(h=0;h<u;h++)o.animations.push(this.readAnimation(a,a.readString(),o));return o},e.prototype.readSkin=function(e,r,n,i){var o=null,a=0;if(n){if(0==(a=e.readInt(!0)))return null;o=new t.Skin("default")}else{(o=new t.Skin(e.readStringRef())).bones.length=e.readInt(!0);for(var s=0,u=o.bones.length;s<u;s++)o.bones[s]=r.bones[e.readInt(!0)];for(s=0,u=e.readInt(!0);s<u;s++)o.constraints.push(r.ikConstraints[e.readInt(!0)]);for(s=0,u=e.readInt(!0);s<u;s++)o.constraints.push(r.transformConstraints[e.readInt(!0)]);for(s=0,u=e.readInt(!0);s<u;s++)o.constraints.push(r.pathConstraints[e.readInt(!0)]);a=e.readInt(!0)}for(s=0;s<a;s++)for(var h=e.readInt(!0),c=0,l=e.readInt(!0);c<l;c++){var f=e.readStringRef(),d=this.readAttachment(e,r,o,h,f,i);null!=d&&o.setAttachment(h,f,d)}return o},e.prototype.readAttachment=function(r,i,o,a,s,u){var h=this.scale,c=r.readStringRef();null==c&&(c=s);var l=r.readByte();switch(e.AttachmentTypeValues[l]){case t.AttachmentType.Region:var f=r.readStringRef(),d=r.readFloat(),p=r.readFloat(),v=r.readFloat(),g=r.readFloat(),m=r.readFloat(),y=r.readFloat(),b=r.readFloat(),x=r.readInt32();null==f&&(f=c);var _=this.attachmentLoader.newRegionAttachment(o,c,f);return null==_?null:(_.path=f,_.x=p*h,_.y=v*h,_.scaleX=g,_.scaleY=m,_.rotation=d,_.width=y*h,_.height=b*h,t.Color.rgba8888ToColor(_.color,x),_);case t.AttachmentType.BoundingBox:var w=r.readInt(!0),T=this.readVertices(r,w),E=(x=u?r.readInt32():0,this.attachmentLoader.newBoundingBoxAttachment(o,c));return null==E?null:(E.worldVerticesLength=w<<1,E.vertices=T.vertices,E.bones=T.bones,u&&t.Color.rgba8888ToColor(E.color,x),E);case t.AttachmentType.Mesh:f=r.readStringRef(),x=r.readInt32(),w=r.readInt(!0);var S=this.readFloatArray(r,w<<1,1),I=this.readShortArray(r),A=(T=this.readVertices(r,w),r.readInt(!0)),P=null;y=0,b=0;return u&&(P=this.readShortArray(r),y=r.readFloat(),b=r.readFloat()),null==f&&(f=c),null==(M=this.attachmentLoader.newMeshAttachment(o,c,f))?null:(M.path=f,t.Color.rgba8888ToColor(M.color,x),M.bones=T.bones,M.vertices=T.vertices,M.worldVerticesLength=w<<1,M.triangles=I,M.regionUVs=new Float32Array(S),M.hullLength=A<<1,u&&(M.edges=P,M.width=y*h,M.height=b*h),M);case t.AttachmentType.LinkedMesh:f=r.readStringRef(),x=r.readInt32();var M,O=r.readStringRef(),C=r.readStringRef(),R=r.readBoolean();y=0,b=0;return u&&(y=r.readFloat(),b=r.readFloat()),null==f&&(f=c),null==(M=this.attachmentLoader.newMeshAttachment(o,c,f))?null:(M.path=f,t.Color.rgba8888ToColor(M.color,x),u&&(M.width=y*h,M.height=b*h),this.linkedMeshes.push(new n(M,O,a,C,R)),M);case t.AttachmentType.Path:for(var D=r.readBoolean(),N=r.readBoolean(),L=(w=r.readInt(!0),T=this.readVertices(r,w),t.Utils.newArray(w/3,0)),F=0,k=L.length;F<k;F++)L[F]=r.readFloat()*h;x=u?r.readInt32():0;return null==(f=this.attachmentLoader.newPathAttachment(o,c))?null:(f.closed=D,f.constantSpeed=N,f.worldVerticesLength=w<<1,f.vertices=T.vertices,f.bones=T.bones,f.lengths=L,u&&t.Color.rgba8888ToColor(f.color,x),f);case t.AttachmentType.Point:d=r.readFloat(),p=r.readFloat(),v=r.readFloat(),x=u?r.readInt32():0;var U=this.attachmentLoader.newPointAttachment(o,c);return null==U?null:(U.x=p*h,U.y=v*h,U.rotation=d,u&&t.Color.rgba8888ToColor(U.color,x),U);case t.AttachmentType.Clipping:var B=r.readInt(!0),j=(w=r.readInt(!0),T=this.readVertices(r,w),x=u?r.readInt32():0,this.attachmentLoader.newClippingAttachment(o,c));return null==j?null:(j.endSlot=i.slots[B],j.worldVerticesLength=w<<1,j.vertices=T.vertices,j.bones=T.bones,u&&t.Color.rgba8888ToColor(j.color,x),j)}return null},e.prototype.readVertices=function(e,r){var n=r<<1,o=new i,a=this.scale;if(!e.readBoolean())return o.vertices=this.readFloatArray(e,n,a),o;for(var s=new Array,u=new Array,h=0;h<r;h++){var c=e.readInt(!0);u.push(c);for(var l=0;l<c;l++)u.push(e.readInt(!0)),s.push(e.readFloat()*a),s.push(e.readFloat()*a),s.push(e.readFloat())}return o.vertices=t.Utils.toFloatArray(s),o.bones=u,o},e.prototype.readFloatArray=function(t,e,r){var n=new Array(e);if(1==r)for(var i=0;i<e;i++)n[i]=t.readFloat();else for(i=0;i<e;i++)n[i]=t.readFloat()*r;return n},e.prototype.readShortArray=function(t){for(var e=t.readInt(!0),r=new Array(e),n=0;n<e;n++)r[n]=t.readShort();return r},e.prototype.readAnimation=function(r,n,i){for(var o=new Array,a=this.scale,s=0,u=new t.Color,h=new t.Color,c=0,l=r.readInt(!0);c<l;c++)for(var f=r.readInt(!0),d=0,p=r.readInt(!0);d<p;d++){var v=r.readByte(),g=r.readInt(!0);switch(v){case e.SLOT_ATTACHMENT:(x=new t.AttachmentTimeline(g)).slotIndex=f;for(var m=0;m<g;m++)x.setFrame(m,r.readFloat(),r.readStringRef());o.push(x),s=Math.max(s,x.frames[g-1]);break;case e.SLOT_COLOR:(x=new t.ColorTimeline(g)).slotIndex=f;for(m=0;m<g;m++){var y=r.readFloat();t.Color.rgba8888ToColor(u,r.readInt32()),x.setFrame(m,y,u.r,u.g,u.b,u.a),m<g-1&&this.readCurve(r,m,x)}o.push(x),s=Math.max(s,x.frames[(g-1)*t.ColorTimeline.ENTRIES]);break;case e.SLOT_TWO_COLOR:(x=new t.TwoColorTimeline(g)).slotIndex=f;for(m=0;m<g;m++){y=r.readFloat();t.Color.rgba8888ToColor(u,r.readInt32()),t.Color.rgb888ToColor(h,r.readInt32()),x.setFrame(m,y,u.r,u.g,u.b,u.a,h.r,h.g,h.b),m<g-1&&this.readCurve(r,m,x)}o.push(x),s=Math.max(s,x.frames[(g-1)*t.TwoColorTimeline.ENTRIES])}}for(c=0,l=r.readInt(!0);c<l;c++){var b=r.readInt(!0);for(d=0,p=r.readInt(!0);d<p;d++){v=r.readByte(),g=r.readInt(!0);switch(v){case e.BONE_ROTATE:(x=new t.RotateTimeline(g)).boneIndex=b;for(m=0;m<g;m++)x.setFrame(m,r.readFloat(),r.readFloat()),m<g-1&&this.readCurve(r,m,x);o.push(x),s=Math.max(s,x.frames[(g-1)*t.RotateTimeline.ENTRIES]);break;case e.BONE_TRANSLATE:case e.BONE_SCALE:case e.BONE_SHEAR:var x=void 0,_=1;v==e.BONE_SCALE?x=new t.ScaleTimeline(g):v==e.BONE_SHEAR?x=new t.ShearTimeline(g):(x=new t.TranslateTimeline(g),_=a),x.boneIndex=b;for(m=0;m<g;m++)x.setFrame(m,r.readFloat(),r.readFloat()*_,r.readFloat()*_),m<g-1&&this.readCurve(r,m,x);o.push(x),s=Math.max(s,x.frames[(g-1)*t.TranslateTimeline.ENTRIES])}}}for(c=0,l=r.readInt(!0);c<l;c++){var w=r.readInt(!0);g=r.readInt(!0);(x=new t.IkConstraintTimeline(g)).ikConstraintIndex=w;for(m=0;m<g;m++)x.setFrame(m,r.readFloat(),r.readFloat(),r.readFloat()*a,r.readByte(),r.readBoolean(),r.readBoolean()),m<g-1&&this.readCurve(r,m,x);o.push(x),s=Math.max(s,x.frames[(g-1)*t.IkConstraintTimeline.ENTRIES])}for(c=0,l=r.readInt(!0);c<l;c++){w=r.readInt(!0),g=r.readInt(!0);(x=new t.TransformConstraintTimeline(g)).transformConstraintIndex=w;for(m=0;m<g;m++)x.setFrame(m,r.readFloat(),r.readFloat(),r.readFloat(),r.readFloat(),r.readFloat()),m<g-1&&this.readCurve(r,m,x);o.push(x),s=Math.max(s,x.frames[(g-1)*t.TransformConstraintTimeline.ENTRIES])}for(c=0,l=r.readInt(!0);c<l;c++){w=r.readInt(!0);var T=i.pathConstraints[w];for(d=0,p=r.readInt(!0);d<p;d++){v=r.readByte(),g=r.readInt(!0);switch(v){case e.PATH_POSITION:case e.PATH_SPACING:x=void 0,_=1;v==e.PATH_SPACING?(x=new t.PathConstraintSpacingTimeline(g),T.spacingMode!=t.SpacingMode.Length&&T.spacingMode!=t.SpacingMode.Fixed||(_=a)):(x=new t.PathConstraintPositionTimeline(g),T.positionMode==t.PositionMode.Fixed&&(_=a)),x.pathConstraintIndex=w;for(m=0;m<g;m++)x.setFrame(m,r.readFloat(),r.readFloat()*_),m<g-1&&this.readCurve(r,m,x);o.push(x),s=Math.max(s,x.frames[(g-1)*t.PathConstraintPositionTimeline.ENTRIES]);break;case e.PATH_MIX:(x=new t.PathConstraintMixTimeline(g)).pathConstraintIndex=w;for(m=0;m<g;m++)x.setFrame(m,r.readFloat(),r.readFloat(),r.readFloat()),m<g-1&&this.readCurve(r,m,x);o.push(x),s=Math.max(s,x.frames[(g-1)*t.PathConstraintMixTimeline.ENTRIES])}}}for(c=0,l=r.readInt(!0);c<l;c++){var E=i.skins[r.readInt(!0)];for(d=0,p=r.readInt(!0);d<p;d++){f=r.readInt(!0);for(var S=0,I=r.readInt(!0);S<I;S++){var A=E.getAttachment(f,r.readStringRef()),P=null!=A.bones,M=A.vertices,O=P?M.length/3*2:M.length;g=r.readInt(!0);(x=new t.DeformTimeline(g)).slotIndex=f,x.attachment=A;for(m=0;m<g;m++){y=r.readFloat();var C=void 0,R=r.readInt(!0);if(0==R)C=P?t.Utils.newFloatArray(O):M;else{C=t.Utils.newFloatArray(O);var D=r.readInt(!0);if(R+=D,1==a)for(var N=D;N<R;N++)C[N]=r.readFloat();else for(N=D;N<R;N++)C[N]=r.readFloat()*a;if(!P){N=0;for(var L=C.length;N<L;N++)C[N]+=M[N]}}x.setFrame(m,y,C),m<g-1&&this.readCurve(r,m,x)}o.push(x),s=Math.max(s,x.frames[g-1])}}}var F=r.readInt(!0);if(F>0){x=new t.DrawOrderTimeline(F);var k=i.slots.length;for(c=0;c<F;c++){y=r.readFloat();var U=r.readInt(!0),B=t.Utils.newArray(k,0);for(d=k-1;d>=0;d--)B[d]=-1;var j=t.Utils.newArray(k-U,0),V=0,X=0;for(d=0;d<U;d++){for(f=r.readInt(!0);V!=f;)j[X++]=V++;B[V+r.readInt(!0)]=V++}for(;V<k;)j[X++]=V++;for(d=k-1;d>=0;d--)-1==B[d]&&(B[d]=j[--X]);x.setFrame(c,y,B)}o.push(x),s=Math.max(s,x.frames[F-1])}var G=r.readInt(!0);if(G>0){for(x=new t.EventTimeline(G),c=0;c<G;c++){y=r.readFloat();var H=i.events[r.readInt(!0)],Y=new t.Event(y,H);Y.intValue=r.readInt(!1),Y.floatValue=r.readFloat(),Y.stringValue=r.readBoolean()?r.readString():H.stringValue,null!=Y.data.audioPath&&(Y.volume=r.readFloat(),Y.balance=r.readFloat()),x.setFrame(c,Y)}o.push(x),s=Math.max(s,x.frames[G-1])}return new t.Animation(n,o,s)},e.prototype.readCurve=function(t,r,n){switch(t.readByte()){case e.CURVE_STEPPED:n.setStepped(r);break;case e.CURVE_BEZIER:this.setCurve(n,r,t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat())}},e.prototype.setCurve=function(t,e,r,n,i,o){t.setCurve(e,r,n,i,o)},e.AttachmentTypeValues=[0,1,2,3,4,5,6],e.TransformModeValues=[t.TransformMode.Normal,t.TransformMode.OnlyTranslation,t.TransformMode.NoRotationOrReflection,t.TransformMode.NoScale,t.TransformMode.NoScaleOrReflection],e.PositionModeValues=[t.PositionMode.Fixed,t.PositionMode.Percent],e.SpacingModeValues=[t.SpacingMode.Length,t.SpacingMode.Fixed,t.SpacingMode.Percent],e.RotateModeValues=[t.RotateMode.Tangent,t.RotateMode.Chain,t.RotateMode.ChainScale],e.BlendModeValues=[t.BlendMode.Normal,t.BlendMode.Additive,t.BlendMode.Multiply,t.BlendMode.Screen],e.BONE_ROTATE=0,e.BONE_TRANSLATE=1,e.BONE_SCALE=2,e.BONE_SHEAR=3,e.SLOT_ATTACHMENT=0,e.SLOT_COLOR=1,e.SLOT_TWO_COLOR=2,e.PATH_POSITION=0,e.PATH_SPACING=1,e.PATH_MIX=2,e.CURVE_LINEAR=0,e.CURVE_STEPPED=1,e.CURVE_BEZIER=2,e}();t.SkeletonBinary=e;var r=function(){function t(t,e,r,n){void 0===e&&(e=new Array),void 0===r&&(r=0),void 0===n&&(n=new DataView(t.buffer)),this.strings=e,this.index=r,this.buffer=n}return t.prototype.readByte=function(){return this.buffer.getInt8(this.index++)},t.prototype.readShort=function(){var t=this.buffer.getInt16(this.index);return this.index+=2,t},t.prototype.readInt32=function(){var t=this.buffer.getInt32(this.index);return this.index+=4,t},t.prototype.readInt=function(t){var e=this.readByte(),r=127&e;return 0!=(128&e)&&(r|=(127&(e=this.readByte()))<<7,0!=(128&e)&&(r|=(127&(e=this.readByte()))<<14,0!=(128&e)&&(r|=(127&(e=this.readByte()))<<21,0!=(128&e)&&(r|=(127&(e=this.readByte()))<<28)))),t?r:r>>>1^-(1&r)},t.prototype.readStringRef=function(){var t=this.readInt(!0);return 0==t?null:this.strings[t-1]},t.prototype.readString=function(){var t=this.readInt(!0);switch(t){case 0:return null;case 1:return""}t--;for(var e="",r=0;r<t;){var n=this.readByte();switch(n>>4){case 12:case 13:e+=String.fromCharCode((31&n)<<6|63&this.readByte()),r+=2;break;case 14:e+=String.fromCharCode((15&n)<<12|(63&this.readByte())<<6|63&this.readByte()),r+=3;break;default:e+=String.fromCharCode(n),r++}}return e},t.prototype.readFloat=function(){var t=this.buffer.getFloat32(this.index);return this.index+=4,t},t.prototype.readBoolean=function(){return 0!=this.readByte()},t}(),n=function(t,e,r,n,i){this.mesh=t,this.skin=e,this.slotIndex=r,this.parent=n,this.inheritDeform=i},i=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.bones=t,this.vertices=e}}(t.core||(t.core={}))}(n||(n={})),function(t){!function(t){var e=function(){function e(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new t.Pool((function(){return t.Utils.newFloatArray(16)}))}return e.prototype.update=function(e,r){if(null==e)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,i=this.polygons,o=this.polygonPool,a=e.slots,s=a.length;n.length=0,o.freeAll(i),i.length=0;for(var u=0;u<s;u++){var h=a[u];if(h.bone.active){var c=h.getAttachment();if(c instanceof t.BoundingBoxAttachment){var l=c;n.push(l);var f=o.obtain();f.length!=l.worldVerticesLength&&(f=t.Utils.newFloatArray(l.worldVerticesLength)),i.push(f),l.computeWorldVertices(h,0,l.worldVerticesLength,f,0,2)}}}r?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},e.prototype.aabbCompute=function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=this.polygons,o=0,a=i.length;o<a;o++)for(var s=i[o],u=s,h=0,c=s.length;h<c;h+=2){var l=u[h],f=u[h+1];t=Math.min(t,l),e=Math.min(e,f),r=Math.max(r,l),n=Math.max(n,f)}this.minX=t,this.minY=e,this.maxX=r,this.maxY=n},e.prototype.aabbContainsPoint=function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},e.prototype.aabbIntersectsSegment=function(t,e,r,n){var i=this.minX,o=this.minY,a=this.maxX,s=this.maxY;if(t<=i&&r<=i||e<=o&&n<=o||t>=a&&r>=a||e>=s&&n>=s)return!1;var u=(n-e)/(r-t),h=u*(i-t)+e;if(h>o&&h<s)return!0;if((h=u*(a-t)+e)>o&&h<s)return!0;var c=(o-e)/u+t;return c>i&&c<a||(c=(s-e)/u+t)>i&&c<a},e.prototype.aabbIntersectsSkeleton=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},e.prototype.containsPoint=function(t,e){for(var r=this.polygons,n=0,i=r.length;n<i;n++)if(this.containsPointPolygon(r[n],t,e))return this.boundingBoxes[n];return null},e.prototype.containsPointPolygon=function(t,e,r){for(var n=t,i=t.length,o=i-2,a=!1,s=0;s<i;s+=2){var u=n[s+1],h=n[o+1];if(u<r&&h>=r||h<r&&u>=r){var c=n[s];c+(r-u)/(h-u)*(n[o]-c)<e&&(a=!a)}o=s}return a},e.prototype.intersectsSegment=function(t,e,r,n){for(var i=this.polygons,o=0,a=i.length;o<a;o++)if(this.intersectsSegmentPolygon(i[o],t,e,r,n))return this.boundingBoxes[o];return null},e.prototype.intersectsSegmentPolygon=function(t,e,r,n,i){for(var o=t,a=t.length,s=e-n,u=r-i,h=e*i-r*n,c=o[a-2],l=o[a-1],f=0;f<a;f+=2){var d=o[f],p=o[f+1],v=c*p-l*d,g=c-d,m=l-p,y=s*m-u*g,b=(h*g-s*v)/y;if((b>=c&&b<=d||b>=d&&b<=c)&&(b>=e&&b<=n||b>=n&&b<=e)){var x=(h*m-u*v)/y;if((x>=l&&x<=p||x>=p&&x<=l)&&(x>=r&&x<=i||x>=i&&x<=r))return!0}c=d,l=p}return!1},e.prototype.getPolygon=function(t){if(null==t)throw new Error("boundingBox cannot be null.");var e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]},e.prototype.getWidth=function(){return this.maxX-this.minX},e.prototype.getHeight=function(){return this.maxY-this.minY},e}();t.SkeletonBounds=e}(t.core||(t.core={}))}(n||(n={})),function(t){!function(t){var e=function(){function e(){this.triangulator=new t.Triangulator,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array}return e.prototype.clipStart=function(r,n){if(null!=this.clipAttachment)return 0;this.clipAttachment=n;var i=n.worldVerticesLength,o=t.Utils.setArraySize(this.clippingPolygon,i);n.computeWorldVertices(r,0,i,o,0,2);var a=this.clippingPolygon;e.makeClockwise(a);for(var s=this.clippingPolygons=this.triangulator.decompose(a,this.triangulator.triangulate(a)),u=0,h=s.length;u<h;u++){var c=s[u];e.makeClockwise(c),c.push(c[0]),c.push(c[1])}return s.length},e.prototype.clipEndWithSlot=function(t){null!=this.clipAttachment&&this.clipAttachment.endSlot==t.data&&this.clipEnd()},e.prototype.clipEnd=function(){null!=this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)},e.prototype.isClipping=function(){return null!=this.clipAttachment},e.prototype.clipTriangles=function(e,r,n,i,o,a,s,u){var h=this.clipOutput,c=this.clippedVertices,l=this.clippedTriangles,f=this.clippingPolygons,d=this.clippingPolygons.length,p=u?12:8,v=0;c.length=0,l.length=0;t:for(var g=0;g<i;g+=3)for(var m=n[g]<<1,y=e[m],b=e[m+1],x=o[m],_=o[m+1],w=e[m=n[g+1]<<1],T=e[m+1],E=o[m],S=o[m+1],I=e[m=n[g+2]<<1],A=e[m+1],P=o[m],M=o[m+1],O=0;O<d;O++){var C=c.length;if(!this.clip(y,b,w,T,I,A,f[O],h)){(j=t.Utils.setArraySize(c,C+3*p))[C]=y,j[C+1]=b,j[C+2]=a.r,j[C+3]=a.g,j[C+4]=a.b,j[C+5]=a.a,u?(j[C+6]=x,j[C+7]=_,j[C+8]=s.r,j[C+9]=s.g,j[C+10]=s.b,j[C+11]=s.a,j[C+12]=w,j[C+13]=T,j[C+14]=a.r,j[C+15]=a.g,j[C+16]=a.b,j[C+17]=a.a,j[C+18]=E,j[C+19]=S,j[C+20]=s.r,j[C+21]=s.g,j[C+22]=s.b,j[C+23]=s.a,j[C+24]=I,j[C+25]=A,j[C+26]=a.r,j[C+27]=a.g,j[C+28]=a.b,j[C+29]=a.a,j[C+30]=P,j[C+31]=M,j[C+32]=s.r,j[C+33]=s.g,j[C+34]=s.b,j[C+35]=s.a):(j[C+6]=x,j[C+7]=_,j[C+8]=w,j[C+9]=T,j[C+10]=a.r,j[C+11]=a.g,j[C+12]=a.b,j[C+13]=a.a,j[C+14]=E,j[C+15]=S,j[C+16]=I,j[C+17]=A,j[C+18]=a.r,j[C+19]=a.g,j[C+20]=a.b,j[C+21]=a.a,j[C+22]=P,j[C+23]=M),C=l.length,(K=t.Utils.setArraySize(l,C+3))[C]=v,K[C+1]=v+1,K[C+2]=v+2,v+=3;continue t}var R=h.length;if(0!=R){for(var D=T-A,N=I-w,L=y-I,F=A-b,k=1/(D*L+N*(b-A)),U=R>>1,B=this.clipOutput,j=t.Utils.setArraySize(c,C+U*p),V=0;V<R;V+=2){var X=B[V],G=B[V+1];j[C]=X,j[C+1]=G,j[C+2]=a.r,j[C+3]=a.g,j[C+4]=a.b,j[C+5]=a.a;var H=X-I,Y=G-A,W=(D*H+N*Y)*k,z=(F*H+L*Y)*k,q=1-W-z;j[C+6]=x*W+E*z+P*q,j[C+7]=_*W+S*z+M*q,u&&(j[C+8]=s.r,j[C+9]=s.g,j[C+10]=s.b,j[C+11]=s.a),C+=p}C=l.length;var K=t.Utils.setArraySize(l,C+3*(U-2));U--;for(V=1;V<U;V++)K[C]=v,K[C+1]=v+V,K[C+2]=v+V+1,C+=3;v+=U+1}}},e.prototype.clip=function(t,e,r,n,i,o,a,s){var u=s,h=!1,c=null;a.length%4>=2?(c=s,s=this.scratch):c=this.scratch,c.length=0,c.push(t),c.push(e),c.push(r),c.push(n),c.push(i),c.push(o),c.push(t),c.push(e),s.length=0;for(var l=a,f=a.length-4,d=0;;d+=2){for(var p=l[d],v=l[d+1],g=l[d+2],m=l[d+3],y=p-g,b=v-m,x=c,_=c.length-2,w=s.length,T=0;T<_;T+=2){var E=x[T],S=x[T+1],I=x[T+2],A=x[T+3],P=y*(A-m)-b*(I-g)>0;if(y*(S-m)-b*(E-g)>0){if(P){s.push(I),s.push(A);continue}var M=((C=I-E)*(v-S)-(O=A-S)*(p-E))/(O*(g-p)-C*(m-v));s.push(p+(g-p)*M),s.push(v+(m-v)*M)}else if(P){var O,C;M=((C=I-E)*(v-S)-(O=A-S)*(p-E))/(O*(g-p)-C*(m-v));s.push(p+(g-p)*M),s.push(v+(m-v)*M),s.push(I),s.push(A)}h=!0}if(w==s.length)return u.length=0,!0;if(s.push(s[0]),s.push(s[1]),d==f)break;var R=s;(s=c).length=0,c=R}if(u!=s){u.length=0;d=0;for(var D=s.length-2;d<D;d++)u[d]=s[d]}else u.length=u.length-2;return h},e.makeClockwise=function(t){for(var e=t,r=t.length,n=e[r-2]*e[1]-e[0]*e[r-1],i=0,o=0,a=0,s=0,u=r-3;s<u;s+=2)i=e[s],o=e[s+1],a=e[s+2],n+=i*e[s+3]-a*o;if(!(n<0)){s=0;var h=r-2;for(u=r>>1;s<u;s+=2){var c=e[s],l=e[s+1],f=h-s;e[s]=e[f],e[s+1]=e[f+1],e[f]=c,e[f+1]=l}}},e}();t.SkeletonClipping=e}(t.core||(t.core={}))}(n||(n={})),function(t){!function(t){var e=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},t.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++)if(e[r].name==t)return r;return-1},t.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},t.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++)if(e[r].name==t)return r;return-1},t.prototype.findSkin=function(t){if(null==t)throw new Error("skinName cannot be null.");for(var e=this.skins,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},t.prototype.findEvent=function(t){if(null==t)throw new Error("eventDataName cannot be null.");for(var e=this.events,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},t.prototype.findAnimation=function(t){if(null==t)throw new Error("animationName cannot be null.");for(var e=this.animations,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},t.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},t.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},t.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},t.prototype.findPathConstraintIndex=function(t){if(null==t)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,r=0,n=e.length;r<n;r++)if(e[r].name==t)return r;return-1},t}();t.SkeletonData=e}(t.core||(t.core={}))}(n||(n={})),function(t){!function(t){t.FAIL_ON_NON_EXISTING_SKIN=!1;var e=function(){function e(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return e.prototype.readSkeletonData=function(r){var n=this.scale,i=new t.SkeletonData,o="string"==typeof r?JSON.parse(r):r,a=o.skeleton;if(null!=a){if(i.hash=a.hash,i.version=a.spine,"3.8"!==i.version.substr(0,3)){var s="PixiJS Spine plugin supports only format for Spine 3.8. Your model has version "+a.spine+". Please look in pixi-spine repository README for another branch.";console.error(s)}if("3.8.75"===i.version){s="Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.";console.error(s)}i.x=a.x,i.y=a.y,i.width=a.width,i.height=a.height,i.fps=a.fps,i.imagesPath=a.images}if(o.bones)for(var u=0;u<o.bones.length;u++){var h=o.bones[u],c=null,l=this.getValue(h,"parent",null);if(null!=l&&null==(c=i.findBone(l)))throw new Error("Parent bone not found: "+l);(v=new t.BoneData(i.bones.length,h.name,c)).length=this.getValue(h,"length",0)*n,v.x=this.getValue(h,"x",0)*n,v.y=this.getValue(h,"y",0)*n,v.rotation=this.getValue(h,"rotation",0),v.scaleX=this.getValue(h,"scaleX",1),v.scaleY=this.getValue(h,"scaleY",1),v.shearX=this.getValue(h,"shearX",0),v.shearY=this.getValue(h,"shearY",0),v.transformMode=e.transformModeFromString(this.getValue(h,"transform","normal")),v.skinRequired=this.getValue(h,"skin",!1),i.bones.push(v)}if(o.slots)for(u=0;u<o.slots.length;u++){var f=(A=o.slots[u]).name,d=A.bone,p=i.findBone(d);if(null==p)throw new Error("Slot bone not found: "+d);var v=new t.SlotData(i.slots.length,f,p),g=this.getValue(A,"color",null);null!=g&&v.color.setFromString(g);var m=this.getValue(A,"dark",null);null!=m&&(v.darkColor=new t.Color(1,1,1,1),v.darkColor.setFromString(m)),v.attachmentName=this.getValue(A,"attachment",null),v.blendMode=e.blendModeFromString(this.getValue(A,"blend","normal")),i.slots.push(v)}if(o.ik)for(u=0;u<o.ik.length;u++){var y=o.ik[u];(v=new t.IkConstraintData(y.name)).order=this.getValue(y,"order",0),v.skinRequired=this.getValue(y,"skin",!1);for(var b=0;b<y.bones.length;b++){d=y.bones[b];if(null==(E=i.findBone(d)))throw new Error("IK bone not found: "+d);v.bones.push(E)}var x=y.target;if(v.target=i.findBone(x),null==v.target)throw new Error("IK target bone not found: "+x);v.mix=this.getValue(y,"mix",1),v.softness=this.getValue(y,"softness",0)*n,v.bendDirection=this.getValue(y,"bendPositive",!0)?1:-1,v.compress=this.getValue(y,"compress",!1),v.stretch=this.getValue(y,"stretch",!1),v.uniform=this.getValue(y,"uniform",!1),i.ikConstraints.push(v)}if(o.transform)for(u=0;u<o.transform.length;u++){y=o.transform[u];(v=new t.TransformConstraintData(y.name)).order=this.getValue(y,"order",0),v.skinRequired=this.getValue(y,"skin",!1);for(b=0;b<y.bones.length;b++){d=y.bones[b];if(null==(E=i.findBone(d)))throw new Error("Transform constraint bone not found: "+d);v.bones.push(E)}x=y.target;if(v.target=i.findBone(x),null==v.target)throw new Error("Transform constraint target bone not found: "+x);v.local=this.getValue(y,"local",!1),v.relative=this.getValue(y,"relative",!1),v.offsetRotation=this.getValue(y,"rotation",0),v.offsetX=this.getValue(y,"x",0)*n,v.offsetY=this.getValue(y,"y",0)*n,v.offsetScaleX=this.getValue(y,"scaleX",0),v.offsetScaleY=this.getValue(y,"scaleY",0),v.offsetShearY=this.getValue(y,"shearY",0),v.rotateMix=this.getValue(y,"rotateMix",1),v.translateMix=this.getValue(y,"translateMix",1),v.scaleMix=this.getValue(y,"scaleMix",1),v.shearMix=this.getValue(y,"shearMix",1),i.transformConstraints.push(v)}if(o.path)for(u=0;u<o.path.length;u++){y=o.path[u];(v=new t.PathConstraintData(y.name)).order=this.getValue(y,"order",0),v.skinRequired=this.getValue(y,"skin",!1);for(b=0;b<y.bones.length;b++){d=y.bones[b];if(null==(E=i.findBone(d)))throw new Error("Transform constraint bone not found: "+d);v.bones.push(E)}x=y.target;if(v.target=i.findSlot(x),null==v.target)throw new Error("Path target slot not found: "+x);v.positionMode=e.positionModeFromString(this.getValue(y,"positionMode","percent")),v.spacingMode=e.spacingModeFromString(this.getValue(y,"spacingMode","length")),v.rotateMode=e.rotateModeFromString(this.getValue(y,"rotateMode","tangent")),v.offsetRotation=this.getValue(y,"rotation",0),v.position=this.getValue(y,"position",0),v.positionMode==t.PositionMode.Fixed&&(v.position*=n),v.spacing=this.getValue(y,"spacing",0),v.spacingMode!=t.SpacingMode.Length&&v.spacingMode!=t.SpacingMode.Fixed||(v.spacing*=n),v.rotateMix=this.getValue(y,"rotateMix",1),v.translateMix=this.getValue(y,"translateMix",1),i.pathConstraints.push(v)}if(o.skins)for(u=0;u<o.skins.length;u++){var _=o.skins[u],w=new t.Skin(_.name);if(_.bones)for(var T=0;T<_.bones.length;T++){var E;if(null==(E=i.findBone(_.bones[T])))throw new Error("Skin bone not found: "+_.bones[u]);w.bones.push(E)}if(_.ik)for(T=0;T<_.ik.length;T++){if(null==(S=i.findIkConstraint(_.ik[T])))throw new Error("Skin IK constraint not found: "+_.ik[u]);w.constraints.push(S)}if(_.transform)for(T=0;T<_.transform.length;T++){if(null==(S=i.findTransformConstraint(_.transform[T])))throw new Error("Skin transform constraint not found: "+_.transform[u]);w.constraints.push(S)}if(_.path)for(T=0;T<_.path.length;T++){var S;if(null==(S=i.findPathConstraint(_.path[T])))throw new Error("Skin path constraint not found: "+_.path[u]);w.constraints.push(S)}for(var f in _.attachments){var I=i.findSlot(f);if(null==I)throw new Error("Slot not found: "+f);var A=_.attachments[f];for(var P in A){var M=this.readAttachment(A[P],w,I.index,P,i);null!=M&&w.setAttachment(I.index,P,M)}}i.skins.push(w),"default"==w.name&&(i.defaultSkin=w)}u=0;for(var O=this.linkedMeshes.length;u<O;u++){var C=this.linkedMeshes[u];if(null==(w=null==C.skin?i.defaultSkin:i.findSkin(C.skin)))throw new Error("Skin not found: "+C.skin);var R=w.getAttachment(C.slotIndex,C.parent);if(null==R)throw new Error("Parent mesh not found: "+C.parent);C.mesh.deformAttachment=C.inheritDeform?R:C.mesh,C.mesh.setParentMesh(R)}if(this.linkedMeshes.length=0,o.events)for(var D in o.events){var N=o.events[D];(v=new t.EventData(D)).intValue=this.getValue(N,"int",0),v.floatValue=this.getValue(N,"float",0),v.stringValue=this.getValue(N,"string",""),v.audioPath=this.getValue(N,"audio",null),null!=v.audioPath&&(v.volume=this.getValue(N,"volume",1),v.balance=this.getValue(N,"balance",0)),i.events.push(v)}if(o.animations)for(var L in o.animations){var F=o.animations[L];this.readAnimation(F,L,i)}return i},e.prototype.readAttachment=function(e,n,i,o,a){var s=this.scale;switch(o=this.getValue(e,"name",o),this.getValue(e,"type","region")){case"region":var u=this.getValue(e,"path",o),h=this.attachmentLoader.newRegionAttachment(n,o,u);return null==h?null:(h.path=u,h.x=this.getValue(e,"x",0)*s,h.y=this.getValue(e,"y",0)*s,h.scaleX=this.getValue(e,"scaleX",1),h.scaleY=this.getValue(e,"scaleY",1),h.rotation=this.getValue(e,"rotation",0),h.width=e.width*s,h.height=e.height*s,null!=(_=this.getValue(e,"color",null))&&h.color.setFromString(_),h);case"boundingbox":var c=this.attachmentLoader.newBoundingBoxAttachment(n,o);return null==c?null:(this.readVertices(e,c,e.vertexCount<<1),null!=(_=this.getValue(e,"color",null))&&c.color.setFromString(_),c);case"mesh":case"linkedmesh":u=this.getValue(e,"path",o);var l=this.attachmentLoader.newMeshAttachment(n,o,u);if(null==l)return null;l.path=u,null!=(_=this.getValue(e,"color",null))&&l.color.setFromString(_),l.width=this.getValue(e,"width",0)*s,l.height=this.getValue(e,"height",0)*s;var f=this.getValue(e,"parent",null);if(null!=f)return this.linkedMeshes.push(new r(l,this.getValue(e,"skin",null),i,f,this.getValue(e,"deform",!0))),l;var d=e.uvs;return this.readVertices(e,l,d.length),l.triangles=e.triangles,l.regionUVs=new Float32Array(d),l.edges=this.getValue(e,"edges",null),l.hullLength=2*this.getValue(e,"hull",0),l;case"path":if(null==(u=this.attachmentLoader.newPathAttachment(n,o)))return null;u.closed=this.getValue(e,"closed",!1),u.constantSpeed=this.getValue(e,"constantSpeed",!0);var p=e.vertexCount;this.readVertices(e,u,p<<1);for(var v=t.Utils.newArray(p/3,0),g=0;g<e.lengths.length;g++)v[g]=e.lengths[g]*s;return u.lengths=v,null!=(_=this.getValue(e,"color",null))&&u.color.setFromString(_),u;case"point":var m=this.attachmentLoader.newPointAttachment(n,o);return null==m?null:(m.x=this.getValue(e,"x",0)*s,m.y=this.getValue(e,"y",0)*s,m.rotation=this.getValue(e,"rotation",0),null!=(_=this.getValue(e,"color",null))&&m.color.setFromString(_),m);case"clipping":var y=this.attachmentLoader.newClippingAttachment(n,o);if(null==y)return null;var b=this.getValue(e,"end",null);if(null!=b){var x=a.findSlot(b);if(null==x)throw new Error("Clipping end slot not found: "+b);y.endSlot=x}var _;p=e.vertexCount;return this.readVertices(e,y,p<<1),null!=(_=this.getValue(e,"color",null))&&y.color.setFromString(_),y}return null},e.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var o=e.vertices;if(n!=o.length){var a=new Array,s=new Array;for(l=0,f=o.length;l<f;){var u=o[l++];s.push(u);for(var h=l+4*u;l<h;l+=4)s.push(o[l]),a.push(o[l+1]*i),a.push(o[l+2]*i),a.push(o[l+3])}r.bones=s,r.vertices=t.Utils.toFloatArray(a)}else{var c=t.Utils.toFloatArray(o);if(1!=i)for(var l=0,f=o.length;l<f;l++)c[l]*=i;r.vertices=c}},e.prototype.readAnimation=function(e,r,n){var i=this.scale,o=new Array,a=0;if(e.slots)for(var s in e.slots){var u=e.slots[s];if(-1==(Z=n.findSlotIndex(s)))throw new Error("Slot not found: "+s);for(var h in u){var c=u[h];if("attachment"==h){(x=new t.AttachmentTimeline(c.length)).slotIndex=Z;for(var l=0,f=0;f<c.length;f++){var d=c[f];x.setFrame(l++,this.getValue(d,"time",0),d.name)}o.push(x),a=Math.max(a,x.frames[x.getFrameCount()-1])}else if("color"==h){(x=new t.ColorTimeline(c.length)).slotIndex=Z;for(l=0,f=0;f<c.length;f++){d=c[f];var p=new t.Color;p.setFromString(d.color||"ffffffff"),x.setFrame(l,this.getValue(d,"time",0),p.r,p.g,p.b,p.a),this.readCurve(d,x,l),l++}o.push(x),a=Math.max(a,x.frames[(x.getFrameCount()-1)*t.ColorTimeline.ENTRIES])}else{if("twoColor"!=h)throw new Error("Invalid timeline type for a slot: "+h+" ("+s+")");(x=new t.TwoColorTimeline(c.length)).slotIndex=Z;for(l=0,f=0;f<c.length;f++){d=c[f];var v=new t.Color,g=new t.Color;v.setFromString(d.light),g.setFromString(d.dark),x.setFrame(l,this.getValue(d,"time",0),v.r,v.g,v.b,v.a,g.r,g.g,g.b),this.readCurve(d,x,l),l++}o.push(x),a=Math.max(a,x.frames[(x.getFrameCount()-1)*t.TwoColorTimeline.ENTRIES])}}}if(e.bones)for(var m in e.bones){var y=e.bones[m],b=n.findBoneIndex(m);if(-1==b)throw new Error("Bone not found: "+m);for(var h in y){c=y[h];if("rotate"===h){(x=new t.RotateTimeline(c.length)).boneIndex=b;for(l=0,f=0;f<c.length;f++){d=c[f];x.setFrame(l,this.getValue(d,"time",0),this.getValue(d,"angle",0)),this.readCurve(d,x,l),l++}o.push(x),a=Math.max(a,x.frames[(x.getFrameCount()-1)*t.RotateTimeline.ENTRIES])}else{if("translate"!==h&&"scale"!==h&&"shear"!==h)throw new Error("Invalid timeline type for a bone: "+h+" ("+m+")");var x=null,_=1,w=0;"scale"===h?(x=new t.ScaleTimeline(c.length),w=1):"shear"===h?x=new t.ShearTimeline(c.length):(x=new t.TranslateTimeline(c.length),_=i),x.boneIndex=b;for(l=0,f=0;f<c.length;f++){d=c[f];var T=this.getValue(d,"x",w),E=this.getValue(d,"y",w);x.setFrame(l,this.getValue(d,"time",0),T*_,E*_),this.readCurve(d,x,l),l++}o.push(x),a=Math.max(a,x.frames[(x.getFrameCount()-1)*t.TranslateTimeline.ENTRIES])}}}if(e.ik)for(var S in e.ik){var I=e.ik[S],A=n.findIkConstraint(S);(x=new t.IkConstraintTimeline(I.length)).ikConstraintIndex=n.ikConstraints.indexOf(A);for(l=0,f=0;f<I.length;f++){d=I[f];x.setFrame(l,this.getValue(d,"time",0),this.getValue(d,"mix",1),this.getValue(d,"softness",0)*i,this.getValue(d,"bendPositive",!0)?1:-1,this.getValue(d,"compress",!1),this.getValue(d,"stretch",!1)),this.readCurve(d,x,l),l++}o.push(x),a=Math.max(a,x.frames[(x.getFrameCount()-1)*t.IkConstraintTimeline.ENTRIES])}if(e.transform)for(var S in e.transform){I=e.transform[S],A=n.findTransformConstraint(S);(x=new t.TransformConstraintTimeline(I.length)).transformConstraintIndex=n.transformConstraints.indexOf(A);for(l=0,f=0;f<I.length;f++){d=I[f];x.setFrame(l,this.getValue(d,"time",0),this.getValue(d,"rotateMix",1),this.getValue(d,"translateMix",1),this.getValue(d,"scaleMix",1),this.getValue(d,"shearMix",1)),this.readCurve(d,x,l),l++}o.push(x),a=Math.max(a,x.frames[(x.getFrameCount()-1)*t.TransformConstraintTimeline.ENTRIES])}if(e.path)for(var S in e.path){I=e.path[S];var P=n.findPathConstraintIndex(S);if(-1==P)throw new Error("Path constraint not found: "+S);var M=n.pathConstraints[P];for(var h in I){c=I[h];if("position"===h||"spacing"===h){x=null,_=1;"spacing"===h?(x=new t.PathConstraintSpacingTimeline(c.length),M.spacingMode!=t.SpacingMode.Length&&M.spacingMode!=t.SpacingMode.Fixed||(_=i)):(x=new t.PathConstraintPositionTimeline(c.length),M.positionMode==t.PositionMode.Fixed&&(_=i)),x.pathConstraintIndex=P;for(l=0,f=0;f<c.length;f++){d=c[f];x.setFrame(l,this.getValue(d,"time",0),this.getValue(d,h,0)*_),this.readCurve(d,x,l),l++}o.push(x),a=Math.max(a,x.frames[(x.getFrameCount()-1)*t.PathConstraintPositionTimeline.ENTRIES])}else if("mix"===h){(x=new t.PathConstraintMixTimeline(c.length)).pathConstraintIndex=P;for(l=0,f=0;f<c.length;f++){d=c[f];x.setFrame(l,this.getValue(d,"time",0),this.getValue(d,"rotateMix",1),this.getValue(d,"translateMix",1)),this.readCurve(d,x,l),l++}o.push(x),a=Math.max(a,x.frames[(x.getFrameCount()-1)*t.PathConstraintMixTimeline.ENTRIES])}}}if(e.deform)for(var O in e.deform){var C=e.deform[O],R=n.findSkin(O);if(null!=R)for(var s in C){u=C[s];if(-1==(Z=n.findSlotIndex(s)))throw new Error("Slot not found: "+u.name);for(var h in u){c=u[h];var D=R.getAttachment(Z,h);if(null==D)throw new Error("Deform attachment not found: "+c.name);var N=null!=D.bones,L=D.vertices,F=N?L.length/3*2:L.length;(x=new t.DeformTimeline(c.length)).slotIndex=Z,x.attachment=D;l=0;for(var k=0;k<c.length;k++){d=c[k];var U=void 0,B=this.getValue(d,"vertices",null);if(null==B)U=N?t.Utils.newFloatArray(F):L;else{U=t.Utils.newFloatArray(F);var j=this.getValue(d,"offset",0);if(t.Utils.arrayCopy(B,0,U,j,B.length),1!=i)for(var V=(f=j)+B.length;f<V;f++)U[f]*=i;if(!N)for(f=0;f<F;f++)U[f]+=L[f]}x.setFrame(l,this.getValue(d,"time",0),U),this.readCurve(d,x,l),l++}o.push(x),a=Math.max(a,x.frames[x.getFrameCount()-1])}}else if(t.FAIL_ON_NON_EXISTING_SKIN)throw new Error("Skin not found: "+O)}var X=e.drawOrder;if(null==X&&(X=e.draworder),null!=X){x=new t.DrawOrderTimeline(X.length);var G=n.slots.length;for(l=0,k=0;k<X.length;k++){var H=X[k],Y=null,W=this.getValue(H,"offsets",null);if(null!=W){Y=t.Utils.newArray(G,-1);var z=t.Utils.newArray(G-W.length,0),q=0,K=0;for(f=0;f<W.length;f++){var Z,$=W[f];if(-1==(Z=n.findSlotIndex($.slot)))throw new Error("Slot not found: "+$.slot);for(;q!=Z;)z[K++]=q++;Y[q+$.offset]=q++}for(;q<G;)z[K++]=q++;for(f=G-1;f>=0;f--)-1==Y[f]&&(Y[f]=z[--K])}x.setFrame(l++,this.getValue(H,"time",0),Y)}o.push(x),a=Math.max(a,x.frames[x.getFrameCount()-1])}if(e.events){for(x=new t.EventTimeline(e.events.length),l=0,f=0;f<e.events.length;f++){var J=e.events[f],Q=n.findEvent(J.name);if(null==Q)throw new Error("Event not found: "+J.name);var tt=new t.Event(t.Utils.toSinglePrecision(this.getValue(J,"time",0)),Q);tt.intValue=this.getValue(J,"int",Q.intValue),tt.floatValue=this.getValue(J,"float",Q.floatValue),tt.stringValue=this.getValue(J,"string",Q.stringValue),null!=tt.data.audioPath&&(tt.volume=this.getValue(J,"volume",1),tt.balance=this.getValue(J,"balance",0)),x.setFrame(l++,tt)}o.push(x),a=Math.max(a,x.frames[x.getFrameCount()-1])}if(isNaN(a))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new t.Animation(r,o,a))},e.prototype.readCurve=function(t,e,r){if(t.hasOwnProperty("curve"))if("stepped"===t.curve)e.setStepped(r);else{var n=t.curve;e.setCurve(r,n,this.getValue(t,"c2",0),this.getValue(t,"c3",1),this.getValue(t,"c4",1))}},e.prototype.getValue=function(t,e,r){return void 0!==t[e]?t[e]:r},e.blendModeFromString=function(e){if("normal"==(e=e.toLowerCase()))return t.BlendMode.Normal;if("additive"==e)return t.BlendMode.Additive;if("multiply"==e)return t.BlendMode.Multiply;if("screen"==e)return t.BlendMode.Screen;throw new Error("Unknown blend mode: "+e)},e.positionModeFromString=function(e){if("fixed"==(e=e.toLowerCase()))return t.PositionMode.Fixed;if("percent"==e)return t.PositionMode.Percent;throw new Error("Unknown position mode: "+e)},e.spacingModeFromString=function(e){if("length"==(e=e.toLowerCase()))return t.SpacingMode.Length;if("fixed"==e)return t.SpacingMode.Fixed;if("percent"==e)return t.SpacingMode.Percent;throw new Error("Unknown position mode: "+e)},e.rotateModeFromString=function(e){if("tangent"==(e=e.toLowerCase()))return t.RotateMode.Tangent;if("chain"==e)return t.RotateMode.Chain;if("chainscale"==e)return t.RotateMode.ChainScale;throw new Error("Unknown rotate mode: "+e)},e.transformModeFromString=function(e){if("normal"==(e=e.toLowerCase()))return t.TransformMode.Normal;if("onlytranslation"==e)return t.TransformMode.OnlyTranslation;if("norotationorreflection"==e)return t.TransformMode.NoRotationOrReflection;if("noscale"==e)return t.TransformMode.NoScale;if("noscaleorreflection"==e)return t.TransformMode.NoScaleOrReflection;throw new Error("Unknown transform mode: "+e)},e}();t.SkeletonJson=e;var r=function(t,e,r,n,i){this.mesh=t,this.skin=e,this.slotIndex=r,this.parent=n,this.inheritDeform=i}}(t.core||(t.core={}))}(n||(n={})),function(t){!function(t){var e=function(t,e,r){this.slotIndex=t,this.name=e,this.attachment=r};t.SkinEntry=e;var r=function(){function r(t){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,null==t)throw new Error("name cannot be null.");this.name=t}return r.prototype.setAttachment=function(t,e,r){if(null==r)throw new Error("attachment cannot be null.");var n=this.attachments;t>=n.length&&(n.length=t+1),n[t]||(n[t]={}),n[t][e]=r},r.prototype.addSkin=function(t){for(var e=0;e<t.bones.length;e++){for(var r=t.bones[e],n=!1,i=0;i<this.bones.length;i++)if(this.bones[i]==r){n=!0;break}n||this.bones.push(r)}for(e=0;e<t.constraints.length;e++){var o=t.constraints[e];for(n=!1,i=0;i<this.constraints.length;i++)if(this.constraints[i]==o){n=!0;break}n||this.constraints.push(o)}var a=t.getAttachments();for(e=0;e<a.length;e++){var s=a[e];this.setAttachment(s.slotIndex,s.name,s.attachment)}},r.prototype.copySkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,o=0;o<this.bones.length;o++)if(this.bones[o]==n){i=!0;break}i||this.bones.push(n)}for(r=0;r<e.constraints.length;r++){var a=e.constraints[r];for(i=!1,o=0;o<this.constraints.length;o++)if(this.constraints[o]==a){i=!0;break}i||this.constraints.push(a)}var s=e.getAttachments();for(r=0;r<s.length;r++){var u=s[r];null!=u.attachment&&(u.attachment instanceof t.MeshAttachment?(u.attachment=u.attachment.newLinkedMesh(),this.setAttachment(u.slotIndex,u.name,u.attachment)):(u.attachment=u.attachment.copy(),this.setAttachment(u.slotIndex,u.name,u.attachment)))}},r.prototype.getAttachment=function(t,e){var r=this.attachments[t];return r?r[e]:null},r.prototype.removeAttachment=function(t,e){var r=this.attachments[t];r&&(r[e]=null)},r.prototype.getAttachments=function(){for(var t=new Array,r=0;r<this.attachments.length;r++){var n=this.attachments[r];if(n)for(var i in n){var o=n[i];o&&t.push(new e(r,i,o))}}return t},r.prototype.getAttachmentsForSlot=function(t,r){var n=this.attachments[t];if(n)for(var i in n){var o=n[i];o&&r.push(new e(t,i,o))}},r.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},r.prototype.attachAll=function(t,e){for(var r=0,n=0;n<t.slots.length;n++){var i=t.slots[n],o=i.getAttachment();if(o&&r<e.attachments.length){var a=e.attachments[r];for(var s in a){if(o==a[s]){var u=this.getAttachment(r,s);null!=u&&i.setAttachment(u);break}}}r++}},r}();t.Skin=r}(t.core||(t.core={}))}(n||(n={})),function(t){!function(t){var e=function(){function e(e,r){if(this.deform=new Array,null==e)throw new Error("data cannot be null.");if(null==r)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new t.Color,this.darkColor=null==e.darkColor?null:new t.Color,this.setToSetupPose(),this.blendMode=this.data.blendMode}return e.prototype.getAttachment=function(){return this.attachment},e.prototype.setAttachment=function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},e.prototype.setAttachmentTime=function(t){this.attachmentTime=this.bone.skeleton.time-t},e.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},e.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},e}();t.Slot=e}(t.core||(t.core={}))}(n||(n={})),function(t){!function(t){var e=function(e,r,n){if(this.color=new t.Color(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(null==r)throw new Error("name cannot be null.");if(null==n)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n};t.SlotData=e}(t.core||(t.core={}))}(n||(n={})),function(e){!function(e){var r,n,i=function(){function t(t){this._image=t}return t.prototype.getImage=function(){return this._image},t.filterFromString=function(t){switch(t.toLowerCase()){case"nearest":return r.Nearest;case"linear":return r.Linear;case"mipmap":return r.MipMap;case"mipmapnearestnearest":return r.MipMapNearestNearest;case"mipmaplinearnearest":return r.MipMapLinearNearest;case"mipmapnearestlinear":return r.MipMapNearestLinear;case"mipmaplinearlinear":return r.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+t)}},t.wrapFromString=function(t){switch(t.toLowerCase()){case"mirroredtepeat":return n.MirroredRepeat;case"clamptoedge":return n.ClampToEdge;case"repeat":return n.Repeat;default:throw new Error("Unknown texture wrap "+t)}},t}();e.Texture=i,function(t){t[t.Nearest=9728]="Nearest",t[t.Linear=9729]="Linear",t[t.MipMap=9987]="MipMap",t[t.MipMapNearestNearest=9984]="MipMapNearestNearest",t[t.MipMapLinearNearest=9985]="MipMapLinearNearest",t[t.MipMapNearestLinear=9986]="MipMapNearestLinear",t[t.MipMapLinearLinear=9987]="MipMapLinearLinear"}(r=e.TextureFilter||(e.TextureFilter={})),function(t){t[t.MirroredRepeat=33648]="MirroredRepeat",t[t.ClampToEdge=33071]="ClampToEdge",t[t.Repeat=10497]="Repeat"}(n=e.TextureWrap||(e.TextureWrap={}));var o=function(){function e(){this.size=null}return Object.defineProperty(e.prototype,"width",{get:function(){var e=this.texture;return"3"==t.VERSION[0]?e.crop.width:e.trim?e.trim.width:e.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){var e=this.texture;return"3"==t.VERSION[0]?e.crop.height:e.trim?e.trim.height:e.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"u",{get:function(){return this.texture._uvs.x0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"v",{get:function(){return this.texture._uvs.y0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"u2",{get:function(){return this.texture._uvs.x2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"v2",{get:function(){return this.texture._uvs.y2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsetX",{get:function(){var t=this.texture;return t.trim?t.trim.x:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsetY",{get:function(){return console.warn("Deprecation Warning: @Hackerham: I guess, if you are using PIXI-SPINE ATLAS region.offsetY, you want a texture, right? Use region.texture from now on."),this.spineOffsetY},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixiOffsetY",{get:function(){var t=this.texture;return t.trim?t.trim.y:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spineOffsetY",{get:function(){var t=this.texture;return this.originalHeight-this.height-(t.trim?t.trim.y:0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"originalWidth",{get:function(){var e=this.texture;return"3"==t.VERSION[0]?e.trim?e.trim.width:e.crop.width:e.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"originalHeight",{get:function(){var e=this.texture;return"3"==t.VERSION[0]?e.trim?e.trim.height:e.crop.height:e.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.texture.frame.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.texture.frame.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return 0!==this.texture.rotate},enumerable:!1,configurable:!0}),e}();e.TextureRegion=o}(e.core||(e.core={}))}(n||(n={})),function(e){!function(e){var r=function(){function r(t,e,r){this.pages=new Array,this.regions=new Array,t&&this.addSpineAtlas(t,e,r)}return r.prototype.addTexture=function(t,r){for(var n=this.pages,i=null,s=0;s<n.length;s++)if(n[s].baseTexture===r.baseTexture){i=n[s];break}if(null===i){(i=new o).name="texturePage";var u=r.baseTexture;i.width=u.realWidth,i.height=u.realHeight,i.baseTexture=u,i.minFilter=i.magFilter=e.TextureFilter.Nearest,i.uWrap=e.TextureWrap.ClampToEdge,i.vWrap=e.TextureWrap.ClampToEdge,n.push(i)}var h=new a;return h.name=t,h.page=i,h.texture=r,h.index=-1,this.regions.push(h),h},r.prototype.addTextureHash=function(t,e){for(var r in t)t.hasOwnProperty(r)&&this.addTexture(e&&-1!==r.indexOf(".")?r.substr(0,r.lastIndexOf(".")):r,t[r])},r.prototype.addSpineAtlas=function(t,e,r){return this.load(t,e,r)},r.prototype.load=function(r,i,s){var u=this;if(null==i)throw new Error("textureLoader cannot be null.");var h=new n(r),c=new Array(4),l=null,f=function(){for(;;){var r=h.readLine();if(null==r)return s&&s(u);if(0==(r=r.trim()).length)l=null;else{if(!l){(l=new o).name=r,2==h.readTuple(c)&&(l.width=parseInt(c[0]),l.height=parseInt(c[1]),h.readTuple(c)),h.readTuple(c),l.minFilter=e.Texture.filterFromString(c[0]),l.magFilter=e.Texture.filterFromString(c[1]);var n=h.readValue();l.uWrap=e.TextureWrap.ClampToEdge,l.vWrap=e.TextureWrap.ClampToEdge,"x"==n?l.uWrap=e.TextureWrap.Repeat:"y"==n?l.vWrap=e.TextureWrap.Repeat:"xy"==n&&(l.uWrap=l.vWrap=e.TextureWrap.Repeat),i(r,(function(t){if(null===t)return u.pages.splice(u.pages.indexOf(l),1),s&&s(null);l.baseTexture=t,t.valid||t.setSize(l.width,l.height),u.pages.push(l),l.setFilters(),l.width&&l.height||(l.width=t.realWidth,l.height=t.realHeight,l.width&&l.height||console.log("ERROR spine atlas page "+l.name+": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)")),f()})),u.pages.push(l);break}var d=new a;d.name=r,d.page=l;var p=h.readValue(),v=0;v="true"==p.toLocaleLowerCase()?6:"false"==p.toLocaleLowerCase()?0:(720-parseFloat(p))%360/45,h.readTuple(c);var g=parseInt(c[0]),m=parseInt(c[1]);h.readTuple(c);var y=parseInt(c[0]),b=parseInt(c[1]),x=l.baseTexture.resolution;g/=x,m/=x,y/=x,b/=x;var _=v%4!=0,w=new t.Rectangle(g,m,_?b:y,_?y:b);4==h.readTuple(c)&&4==h.readTuple(c)&&h.readTuple(c);var T=parseInt(c[0])/x,E=parseInt(c[1])/x;h.readTuple(c);var S=parseInt(c[0])/x,I=parseInt(c[1])/x,A=new t.Rectangle(0,0,T,E),P=new t.Rectangle(S,E-b-I,y,b);if("3"!=t.VERSION[0])d.texture=new t.Texture(d.page.baseTexture,w,A,P,v);else{var M=new t.Rectangle(g,m,y,b),O=M.clone();P.width=T,P.height=E,d.texture=new t.Texture(d.page.baseTexture,M,O,P,v)}d.index=parseInt(h.readValue()),d.texture.updateUvs(),u.regions.push(d)}}};f()},r.prototype.findRegion=function(t){for(var e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null},r.prototype.dispose=function(){for(var t=0;t<this.pages.length;t++)this.pages[t].baseTexture.dispose()},r}();e.TextureAtlas=r;var n=function(){function t(t){this.index=0,this.lines=t.split(/\r\n|\r|\n/)}return t.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},t.prototype.readValue=function(){var t=this.readLine(),e=t.indexOf(":");if(-1==e)throw new Error("Invalid line: "+t);return t.substring(e+1).trim()},t.prototype.readTuple=function(t){var e=this.readLine(),r=e.indexOf(":");if(-1==r)throw new Error("Invalid line: "+e);for(var n=0,i=r+1;n<3;n++){var o=e.indexOf(",",i);if(-1==o)break;t[n]=e.substr(i,o-i).trim(),i=o+1}return t[n]=e.substring(i).trim(),n+1},t}(),o=function(){function r(){}return r.prototype.setFilters=function(){var r=this.baseTexture,n=this.minFilter;n==e.TextureFilter.Linear?r.scaleMode=t.SCALE_MODES.LINEAR:this.minFilter==e.TextureFilter.Nearest?r.scaleMode=t.SCALE_MODES.NEAREST:(r.mipmap=t.MIPMAP_MODES.POW2,n==e.TextureFilter.MipMapNearestNearest?r.scaleMode=t.SCALE_MODES.NEAREST:r.scaleMode=t.SCALE_MODES.LINEAR)},r}();e.TextureAtlasPage=o;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(e.TextureRegion);e.TextureAtlasRegion=a}(e.core||(e.core={}))}(n||(n={})),function(t){!function(t){var e=function(){function e(e,r){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new t.Vector2,this.active=!1,null==e)throw new Error("data cannot be null.");if(null==r)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return e.prototype.isActive=function(){return this.active},e.prototype.apply=function(){this.update()},e.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},e.prototype.applyAbsoluteWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,o=this.target,a=o.matrix,s=a.a,u=a.c,h=a.b,c=a.d,l=s*c-u*h>0?t.MathUtils.degRad:-t.MathUtils.degRad,f=this.data.offsetRotation*l,d=this.data.offsetShearY*l,p=this.bones,v=0,g=p.length;v<g;v++){var m=p[v],y=!1,b=m.matrix;if(0!=e){var x=b.a,_=b.c,w=b.b,T=b.d;(M=Math.atan2(h,s)-Math.atan2(w,x)+f)>t.MathUtils.PI?M-=t.MathUtils.PI2:M<-t.MathUtils.PI&&(M+=t.MathUtils.PI2),M*=e;var E=Math.cos(M),S=Math.sin(M);b.a=E*x-S*w,b.c=E*_-S*T,b.b=S*x+E*w,b.d=S*_+E*T,y=!0}if(0!=r){var I=this.temp;o.localToWorld(I.set(this.data.offsetX,this.data.offsetY)),b.tx+=(I.x-b.tx)*r,b.ty+=(I.y-b.ty)*r,y=!0}if(n>0){var A=Math.sqrt(b.a*b.a+b.b*b.b),P=Math.sqrt(s*s+h*h);A>1e-5&&(A=(A+(P-A+this.data.offsetScaleX)*n)/A),b.a*=A,b.b*=A,A=Math.sqrt(b.c*b.c+b.d*b.d),P=Math.sqrt(u*u+c*c),A>1e-5&&(A=(A+(P-A+this.data.offsetScaleY)*n)/A),b.c*=A,b.d*=A,y=!0}if(i>0){_=b.c,T=b.d;var M,O=Math.atan2(T,_);(M=Math.atan2(c,u)-Math.atan2(h,s)-(O-Math.atan2(b.b,b.a)))>t.MathUtils.PI?M-=t.MathUtils.PI2:M<-t.MathUtils.PI&&(M+=t.MathUtils.PI2),M=O+(M+d)*i;A=Math.sqrt(_*_+T*T);b.c=Math.cos(M)*A,b.d=Math.sin(M)*A,y=!0}y&&(m.appliedValid=!1)}},e.prototype.applyRelativeWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,o=this.target,a=o.matrix,s=a.a,u=a.c,h=a.b,c=a.d,l=s*c-u*h>0?t.MathUtils.degRad:-t.MathUtils.degRad,f=this.data.offsetRotation*l,d=this.data.offsetShearY*l,p=this.bones,v=0,g=p.length;v<g;v++){var m=p[v],y=!1,b=m.matrix;if(0!=e){var x=b.a,_=b.c,w=b.b,T=b.d;(P=Math.atan2(h,s)+f)>t.MathUtils.PI?P-=t.MathUtils.PI2:P<-t.MathUtils.PI&&(P+=t.MathUtils.PI2),P*=e;var E=Math.cos(P),S=Math.sin(P);b.a=E*x-S*w,b.c=E*_-S*T,b.b=S*x+E*w,b.d=S*_+E*T,y=!0}if(0!=r){var I=this.temp;o.localToWorld(I.set(this.data.offsetX,this.data.offsetY)),b.tx+=I.x*r,b.ty+=I.y*r,y=!0}if(n>0){var A=(Math.sqrt(s*s+h*h)-1+this.data.offsetScaleX)*n+1;b.a*=A,b.b*=A,A=(Math.sqrt(u*u+c*c)-1+this.data.offsetScaleY)*n+1,b.c*=A,b.d*=A,y=!0}if(i>0){var P;(P=Math.atan2(c,u)-Math.atan2(h,s))>t.MathUtils.PI?P-=t.MathUtils.PI2:P<-t.MathUtils.PI&&(P+=t.MathUtils.PI2);_=b.c,T=b.d;P=Math.atan2(T,_)+(P-t.MathUtils.PI/2+d)*i;A=Math.sqrt(_*_+T*T);b.c=Math.cos(P)*A,b.d=Math.sin(P)*A,y=!0}y&&(m.appliedValid=!1)}},e.prototype.applyAbsoluteLocal=function(){var t=this.rotateMix,e=this.translateMix,r=this.scaleMix,n=this.shearMix,i=this.target;i.appliedValid||i.updateAppliedTransform();for(var o=this.bones,a=0,s=o.length;a<s;a++){var u=o[a];u.appliedValid||u.updateAppliedTransform();var h=u.arotation;if(0!=t){var c=i.arotation-h+this.data.offsetRotation;h+=(c-=360*(16384-(16384.499999999996-c/360|0)))*t}var l=u.ax,f=u.ay;0!=e&&(l+=(i.ax-l+this.data.offsetX)*e,f+=(i.ay-f+this.data.offsetY)*e);var d=u.ascaleX,p=u.ascaleY;r>0&&(d>1e-5&&(d=(d+(i.ascaleX-d+this.data.offsetScaleX)*r)/d),p>1e-5&&(p=(p+(i.ascaleY-p+this.data.offsetScaleY)*r)/p));var v=u.ashearY;if(n>0){c=i.ashearY-v+this.data.offsetShearY;c-=360*(16384-(16384.499999999996-c/360|0)),u.shearY+=c*n}u.updateWorldTransformWith(l,f,h,d,p,u.ashearX,v)}},e.prototype.applyRelativeLocal=function(){var t=this.rotateMix,e=this.translateMix,r=this.scaleMix,n=this.shearMix,i=this.target;i.appliedValid||i.updateAppliedTransform();for(var o=this.bones,a=0,s=o.length;a<s;a++){var u=o[a];u.appliedValid||u.updateAppliedTransform();var h=u.arotation;0!=t&&(h+=(i.arotation+this.data.offsetRotation)*t);var c=u.ax,l=u.ay;0!=e&&(c+=(i.ax+this.data.offsetX)*e,l+=(i.ay+this.data.offsetY)*e);var f=u.ascaleX,d=u.ascaleY;r>0&&(f>1e-5&&(f*=(i.ascaleX-1+this.data.offsetScaleX)*r+1),d>1e-5&&(d*=(i.ascaleY-1+this.data.offsetScaleY)*r+1));var p=u.ashearY;n>0&&(p+=(i.ashearY+this.data.offsetShearY)*n),u.updateWorldTransformWith(c,l,h,f,d,u.ashearX,p)}},e}();t.TransformConstraint=e}(t.core||(t.core={}))}(n||(n={})),function(t){!function(t){var e=function(t){function e(e){var r=t.call(this,e,0,!1)||this;return r.bones=new Array,r.rotateMix=0,r.translateMix=0,r.scaleMix=0,r.shearMix=0,r.offsetRotation=0,r.offsetX=0,r.offsetY=0,r.offsetScaleX=0,r.offsetScaleY=0,r.offsetShearY=0,r.relative=!1,r.local=!1,r}return i(e,t),e}(t.ConstraintData);t.TransformConstraintData=e}(t.core||(t.core={}))}(n||(n={})),function(t){!function(t){var e=function(){function e(){this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new t.Pool((function(){return new Array})),this.polygonIndicesPool=new t.Pool((function(){return new Array}))}return e.prototype.triangulate=function(t){var r=t,n=t.length>>1,i=this.indicesArray;i.length=0;for(var o=0;o<n;o++)i[o]=o;var a=this.isConcaveArray;a.length=0;o=0;for(var s=n;o<s;++o)a[o]=e.isConcave(o,n,r,i);var u=this.triangles;for(u.length=0;n>3;){for(var h=n-1,c=(o=0,1);;){t:if(!a[o]){for(var l=i[h]<<1,f=i[o]<<1,d=i[c]<<1,p=r[l],v=r[l+1],g=r[f],m=r[f+1],y=r[d],b=r[d+1],x=(c+1)%n;x!=h;x=(x+1)%n)if(a[x]){var _=i[x]<<1,w=r[_],T=r[_+1];if(e.positiveArea(y,b,p,v,w,T)&&e.positiveArea(p,v,g,m,w,T)&&e.positiveArea(g,m,y,b,w,T))break t}break}if(0==c){do{if(!a[o])break;o--}while(o>0);break}h=o,o=c,c=(c+1)%n}u.push(i[(n+o-1)%n]),u.push(i[o]),u.push(i[(o+1)%n]),i.splice(o,1),a.splice(o,1);var E=(--n+o-1)%n,S=o==n?0:o;a[E]=e.isConcave(E,n,r,i),a[S]=e.isConcave(S,n,r,i)}return 3==n&&(u.push(i[2]),u.push(i[0]),u.push(i[1])),u},e.prototype.decompose=function(t,r){var n=t,i=this.convexPolygons;this.polygonPool.freeAll(i),i.length=0;var o=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(o),o.length=0;var a=this.polygonIndicesPool.obtain();a.length=0;var s=this.polygonPool.obtain();s.length=0;for(var u=-1,h=0,c=0,l=r.length;c<l;c+=3){var f=r[c]<<1,d=r[c+1]<<1,p=r[c+2]<<1,v=n[f],g=n[f+1],m=n[d],y=n[d+1],b=n[p],x=n[p+1],_=!1;if(u==f){var w=s.length-4,T=e.winding(s[w],s[w+1],s[w+2],s[w+3],b,x),E=e.winding(b,x,s[0],s[1],s[2],s[3]);T==h&&E==h&&(s.push(b),s.push(x),a.push(p),_=!0)}_||(s.length>0?(i.push(s),o.push(a)):(this.polygonPool.free(s),this.polygonIndicesPool.free(a)),(s=this.polygonPool.obtain()).length=0,s.push(v),s.push(g),s.push(m),s.push(y),s.push(b),s.push(x),(a=this.polygonIndicesPool.obtain()).length=0,a.push(f),a.push(d),a.push(p),h=e.winding(v,g,m,y,b,x),u=f)}s.length>0&&(i.push(s),o.push(a));for(c=0,l=i.length;c<l;c++)if(0!=(a=o[c]).length)for(var S=a[0],I=a[a.length-1],A=(s=i[c])[w=s.length-4],P=s[w+1],M=s[w+2],O=s[w+3],C=s[0],R=s[1],D=s[2],N=s[3],L=e.winding(A,P,M,O,C,R),F=0;F<l;F++)if(F!=c){var k=o[F];if(3==k.length){var U=k[0],B=k[1],j=k[2],V=i[F];b=V[V.length-2],x=V[V.length-1];if(U==S&&B==I){T=e.winding(A,P,M,O,b,x),E=e.winding(b,x,C,R,D,N);T==L&&E==L&&(V.length=0,k.length=0,s.push(b),s.push(x),a.push(j),A=M,P=O,M=b,O=x,F=0)}}}for(c=i.length-1;c>=0;c--)0==(s=i[c]).length&&(i.splice(c,1),this.polygonPool.free(s),a=o[c],o.splice(c,1),this.polygonIndicesPool.free(a));return i},e.isConcave=function(t,e,r,n){var i=n[(e+t-1)%e]<<1,o=n[t]<<1,a=n[(t+1)%e]<<1;return!this.positiveArea(r[i],r[i+1],r[o],r[o+1],r[a],r[a+1])},e.positiveArea=function(t,e,r,n,i,o){return t*(o-n)+r*(e-o)+i*(n-e)>=0},e.winding=function(t,e,r,n,i,o){var a=r-t,s=n-e;return i*s-o*a+a*e-t*s>=0?1:-1},e}();t.Triangulator=e}(t.core||(t.core={}))}(n||(n={})),function(t){!function(t){var e=function(){function t(){this.array=new Array}return t.prototype.add=function(t){var e=this.contains(t);return this.array[0|t]=0|t,!e},t.prototype.contains=function(t){return null!=this.array[0|t]},t.prototype.remove=function(t){this.array[0|t]=void 0},t.prototype.clear=function(){this.array.length=0},t}();t.IntSet=e;var r=function(){function t(t,e,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),this.r=t,this.g=e,this.b=r,this.a=n}return t.prototype.set=function(t,e,r,n){return this.r=t,this.g=e,this.b=r,this.a=n,this.clamp(),this},t.prototype.setFromColor=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this},t.prototype.setFromString=function(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=(8!=t.length?255:parseInt(t.substr(6,2),16))/255,this},t.prototype.add=function(t,e,r,n){return this.r+=t,this.g+=e,this.b+=r,this.a+=n,this.clamp(),this},t.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},t.rgba8888ToColor=function(t,e){t.r=((4278190080&e)>>>24)/255,t.g=((16711680&e)>>>16)/255,t.b=((65280&e)>>>8)/255,t.a=(255&e)/255},t.rgb888ToColor=function(t,e){t.r=((16711680&e)>>>16)/255,t.g=((65280&e)>>>8)/255,t.b=(255&e)/255},t.WHITE=new t(1,1,1,1),t.RED=new t(1,0,0,1),t.GREEN=new t(0,1,0,1),t.BLUE=new t(0,0,1,1),t.MAGENTA=new t(1,0,1,1),t}();t.Color=r;var n=function(){function t(){}return t.clamp=function(t,e,r){return t<e?e:t>r?r:t},t.cosDeg=function(e){return Math.cos(e*t.degRad)},t.sinDeg=function(e){return Math.sin(e*t.degRad)},t.signum=function(t){return t>0?1:t<0?-1:0},t.toInt=function(t){return t>0?Math.floor(t):Math.ceil(t)},t.cbrt=function(t){var e=Math.pow(Math.abs(t),1/3);return t<0?-e:e},t.randomTriangular=function(e,r){return t.randomTriangularWith(e,r,.5*(e+r))},t.randomTriangularWith=function(t,e,r){var n=Math.random(),i=e-t;return n<=(r-t)/i?t+Math.sqrt(n*i*(r-t)):e-Math.sqrt((1-n)*i*(e-r))},t.PI=3.1415927,t.PI2=2*t.PI,t.radiansToDegrees=180/t.PI,t.radDeg=t.radiansToDegrees,t.degreesToRadians=t.PI/180,t.degRad=t.degreesToRadians,t}();t.MathUtils=n;var o=function(){function t(){}return t.prototype.apply=function(t,e,r){return t+(e-t)*this.applyInternal(r)},t}();t.Interpolation=o;var a=function(t){function e(e){var r=t.call(this)||this;return r.power=2,r.power=e,r}return i(e,t),e.prototype.applyInternal=function(t){return t<=.5?Math.pow(2*t,this.power)/2:Math.pow(2*(t-1),this.power)/(this.power%2==0?-2:2)+1},e}(o);t.Pow=a;var s=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.applyInternal=function(t){return Math.pow(t-1,this.power)*(this.power%2==0?-1:1)+1},e}(a);t.PowOut=s;var u=function(){function t(){}return t.arrayCopy=function(t,e,r,n,i){for(var o=e,a=n;o<e+i;o++,a++)r[a]=t[o]},t.setArraySize=function(t,e,r){void 0===r&&(r=0);var n=t.length;if(n==e)return t;if(t.length=e,n<e)for(var i=n;i<e;i++)t[i]=r;return t},t.ensureArrayCapacity=function(e,r,n){return void 0===n&&(n=0),e.length>=r?e:t.setArraySize(e,r,n)},t.newArray=function(t,e){for(var r=new Array(t),n=0;n<t;n++)r[n]=e;return r},t.newFloatArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Float32Array(e);for(var r=new Array(e),n=0;n<r.length;n++)r[n]=0;return r},t.newShortArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Int16Array(e);for(var r=new Array(e),n=0;n<r.length;n++)r[n]=0;return r},t.toFloatArray=function(e){return t.SUPPORTS_TYPED_ARRAYS?new Float32Array(e):e},t.toSinglePrecision=function(e){return t.SUPPORTS_TYPED_ARRAYS?Math.fround(e):e},t.webkit602BugfixHelper=function(t,e){},t.contains=function(t,e,r){void 0===r&&(r=!0);for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},t.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array,t}();t.Utils=u;var h=function(){function t(){}return t.logBones=function(t){for(var e=0;e<t.bones.length;e++){var r=t.bones[e],n=r.matrix;console.log(r.data.name+", "+n.a+", "+n.b+", "+n.c+", "+n.d+", "+n.tx+", "+n.ty)}},t}();t.DebugUtils=h;var c=function(){function t(t){this.items=new Array,this.instantiator=t}return t.prototype.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},t.prototype.free=function(t){t.reset&&t.reset(),this.items.push(t)},t.prototype.freeAll=function(t){for(var e=0;e<t.length;e++)t[e].reset&&t[e].reset(),this.items[e]=t[e]},t.prototype.clear=function(){this.items.length=0},t}();t.Pool=c;var l=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.length=function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},t.prototype.normalize=function(){var t=this.length();return 0!=t&&(this.x/=t,this.y/=t),this},t}();t.Vector2=l;var f=function(){function t(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}return t.prototype.update=function(){var t=Date.now()/1e3;this.delta=t-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=t,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},t}();t.TimeKeeper=f;var d=function(){function t(t){void 0===t&&(t=32),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(t)}return t.prototype.hasEnoughData=function(){return this.addedValues>=this.values.length},t.prototype.addValue=function(t){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=t,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0},t.prototype.getMean=function(){if(this.hasEnoughData()){if(this.dirty){for(var t=0,e=0;e<this.values.length;e++)t+=this.values[e];this.mean=t/this.values.length,this.dirty=!1}return this.mean}return 0},t}();t.WindowedMean=d}(t.core||(t.core={}))}(n||(n={})),function(t){!function(t){var e=function(t){if(null==t)throw new Error("name cannot be null.");this.name=t};t.Attachment=e;var r=function(e){function r(t){var n=e.call(this,t)||this;return n.id=(65535&r.nextID++)<<11,n.worldVerticesLength=0,n.deformAttachment=n,n}return i(r,e),r.prototype.computeWorldVerticesOld=function(t,e){this.computeWorldVertices(t,0,this.worldVerticesLength,e,0,2)},r.prototype.computeWorldVertices=function(t,e,r,n,i,o){r=i+(r>>1)*o;var a=t.bone.skeleton,s=t.deform,u=this.vertices,h=this.bones;if(null!=h){for(var c=0,l=0,f=0;f<e;f+=2){c+=(g=h[c])+1,l+=g}var d=a.bones;if(0==s.length)for(P=i,E=3*l;P<r;P+=o){var p=0,v=0,g=h[c++];for(g+=c;c<g;c++,E+=3){x=d[h[c]].matrix,M=u[E],O=u[E+1];var m=u[E+2];p+=(M*x.a+O*x.c+x.tx)*m,v+=(M*x.b+O*x.d+x.ty)*m}n[P]=p,n[P+1]=v}else for(var y=s,b=(P=i,E=3*l,l<<1);P<r;P+=o){p=0,v=0,g=h[c++];for(g+=c;c<g;c++,E+=3,b+=2){x=d[h[c]].matrix,M=u[E]+y[b],O=u[E+1]+y[b+1],m=u[E+2];p+=(M*x.a+O*x.c+x.tx)*m,v+=(M*x.b+O*x.d+x.ty)*m}n[P]=p,n[P+1]=v}}else{s.length>0&&(u=s);for(var x,_=(x=t.bone.matrix).tx,w=x.ty,T=x.a,E=x.c,S=x.b,I=x.d,A=e,P=i;P<r;A+=2,P+=o){var M=u[A],O=u[A+1];n[P]=M*T+O*E+_,n[P+1]=M*S+O*I+w}}},r.prototype.copyTo=function(e){null!=this.bones?(e.bones=new Array(this.bones.length),t.Utils.arrayCopy(this.bones,0,e.bones,0,this.bones.length)):e.bones=null,null!=this.vertices?(e.vertices=t.Utils.newFloatArray(this.vertices.length),t.Utils.arrayCopy(this.vertices,0,e.vertices,0,this.vertices.length)):e.vertices=null,e.worldVerticesLength=this.worldVerticesLength,e.deformAttachment=this.deformAttachment},r.nextID=0,r}(e);t.VertexAttachment=r}(t.core||(t.core={}))}(n||(n={})),function(t){!function(t){!function(t){t[t.Region=0]="Region",t[t.BoundingBox=1]="BoundingBox",t[t.Mesh=2]="Mesh",t[t.LinkedMesh=3]="LinkedMesh",t[t.Path=4]="Path",t[t.Point=5]="Point",t[t.Clipping=6]="Clipping"}(t.AttachmentType||(t.AttachmentType={}))}(t.core||(t.core={}))}(n||(n={})),function(t){!function(t){var e=function(e){function r(r){var n=e.call(this,r)||this;return n.color=new t.Color(1,1,1,1),n}return i(r,e),r.prototype.copy=function(){var t=new r(name);return this.copyTo(t),t.color.setFromColor(this.color),t},r}(t.VertexAttachment);t.BoundingBoxAttachment=e}(t.core||(t.core={}))}(n||(n={})),function(t){!function(t){var e=function(e){function r(r){var n=e.call(this,r)||this;return n.color=new t.Color(.2275,.2275,.8078,1),n}return i(r,e),r.prototype.copy=function(){var t=new r(name);return this.copyTo(t),t.endSlot=this.endSlot,t.color.setFromColor(this.color),t},r}(t.VertexAttachment);t.ClippingAttachment=e}(t.core||(t.core={}))}(n||(n={})),function(t){!function(t){var e=function(e){function r(r){var n=e.call(this,r)||this;return n.color=new t.Color(1,1,1,1),n.tempColor=new t.Color(0,0,0,0),n}return i(r,e),r.prototype.getParentMesh=function(){return this.parentMesh},r.prototype.setParentMesh=function(t){this.parentMesh=t,null!=t&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)},r.prototype.copy=function(){if(null!=this.parentMesh)return this.newLinkedMesh();var e=new r(this.name);return e.region=this.region,e.path=this.path,e.color.setFromColor(this.color),this.copyTo(e),e.regionUVs=new Float32Array(this.regionUVs.length),t.Utils.arrayCopy(this.regionUVs,0,e.regionUVs,0,this.regionUVs.length),e.uvs=new Array(this.uvs.length),t.Utils.arrayCopy(this.uvs,0,e.uvs,0,this.uvs.length),e.triangles=new Array(this.triangles.length),t.Utils.arrayCopy(this.triangles,0,e.triangles,0,this.triangles.length),e.hullLength=this.hullLength,null!=this.edges&&(e.edges=new Array(this.edges.length),t.Utils.arrayCopy(this.edges,0,e.edges,0,this.edges.length)),e.width=this.width,e.height=this.height,e},r.prototype.newLinkedMesh=function(){var t=new r(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),t.deformAttachment=this.deformAttachment,t.setParentMesh(null!=this.parentMesh?this.parentMesh:this),t},r}(t.VertexAttachment);t.MeshAttachment=e}(t.core||(t.core={}))}(n||(n={})),function(t){!function(t){var e=function(e){function r(r){var n=e.call(this,r)||this;return n.closed=!1,n.constantSpeed=!1,n.color=new t.Color(1,1,1,1),n}return i(r,e),r.prototype.copy=function(){var e=new r(name);return this.copyTo(e),e.lengths=new Array(this.lengths.length),t.Utils.arrayCopy(this.lengths,0,e.lengths,0,this.lengths.length),e.closed=closed,e.constantSpeed=this.constantSpeed,e.color.setFromColor(this.color),e},r}(t.VertexAttachment);t.PathAttachment=e}(t.core||(t.core={}))}(n||(n={})),function(t){!function(t){var e=function(e){function r(r){var n=e.call(this,r)||this;return n.color=new t.Color(.38,.94,0,1),n}return i(r,e),r.prototype.computeWorldPosition=function(t,e){var r=t.matrix;return e.x=this.x*r.a+this.y*r.c+t.worldX,e.y=this.x*r.b+this.y*r.d+t.worldY,e},r.prototype.computeWorldRotation=function(e){var r=e.matrix,n=t.MathUtils.cosDeg(this.rotation),i=t.MathUtils.sinDeg(this.rotation),o=n*r.a+i*r.c,a=n*r.b+i*r.d;return Math.atan2(a,o)*t.MathUtils.radDeg},r.prototype.copy=function(){var t=new r(name);return t.x=this.x,t.y=this.y,t.rotation=this.rotation,t.color.setFromColor(this.color),t},r}(t.VertexAttachment);t.PointAttachment=e}(t.core||(t.core={}))}(n||(n={})),function(t){!function(t){var e=function(e){function r(r){var n=e.call(this,r)||this;return n.x=0,n.y=0,n.scaleX=1,n.scaleY=1,n.rotation=0,n.width=0,n.height=0,n.color=new t.Color(1,1,1,1),n.offset=t.Utils.newFloatArray(8),n.uvs=t.Utils.newFloatArray(8),n.tempColor=new t.Color(1,1,1,1),n}return i(r,e),r.prototype.updateOffset=function(){var t=this.width/this.region.originalWidth*this.scaleX,e=this.height/this.region.originalHeight*this.scaleY,n=-this.width/2*this.scaleX+this.region.offsetX*t,i=-this.height/2*this.scaleY+this.region.offsetY*e,o=n+this.region.width*t,a=i+this.region.height*e,s=this.rotation*Math.PI/180,u=Math.cos(s),h=Math.sin(s),c=n*u+this.x,l=n*h,f=i*u+this.y,d=i*h,p=o*u+this.x,v=o*h,g=a*u+this.y,m=a*h,y=this.offset;y[r.OX1]=c-d,y[r.OY1]=f+l,y[r.OX2]=c-m,y[r.OY2]=g+l,y[r.OX3]=p-m,y[r.OY3]=g+v,y[r.OX4]=p-d,y[r.OY4]=f+v},r.prototype.setRegion=function(t){this.region=t;var e=this.uvs;t.rotate?(e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v,e[0]=t.u2,e[1]=t.v2):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)},r.prototype.computeWorldVertices=function(t,e,n,i){var o=this.offset,a=t.matrix,s=a.tx,u=a.ty,h=a.a,c=a.c,l=a.b,f=a.d,d=0,p=0;d=o[r.OX1],p=o[r.OY1],e[n]=d*h+p*c+s,e[n+1]=d*l+p*f+u,n+=i,d=o[r.OX2],p=o[r.OY2],e[n]=d*h+p*c+s,e[n+1]=d*l+p*f+u,n+=i,d=o[r.OX3],p=o[r.OY3],e[n]=d*h+p*c+s,e[n+1]=d*l+p*f+u,n+=i,d=o[r.OX4],p=o[r.OY4],e[n]=d*h+p*c+s,e[n+1]=d*l+p*f+u},r.prototype.copy=function(){var e=new r(name);return e.region=this.region,e.rendererObject=this.rendererObject,e.path=this.path,e.x=this.x,e.y=this.y,e.scaleX=this.scaleX,e.scaleY=this.scaleY,e.rotation=this.rotation,e.width=this.width,e.height=this.height,t.Utils.arrayCopy(this.uvs,0,e.uvs,0,8),t.Utils.arrayCopy(this.offset,0,e.offset,0,8),e.color.setFromColor(this.color),e},r.OX1=0,r.OY1=1,r.OX2=2,r.OY2=3,r.OX3=4,r.OY3=5,r.OX4=6,r.OY4=7,r.X1=0,r.Y1=1,r.C1R=2,r.C1G=3,r.C1B=4,r.C1A=5,r.U1=6,r.V1=7,r.X2=8,r.Y2=9,r.C2R=10,r.C2G=11,r.C2B=12,r.C2A=13,r.U2=14,r.V2=15,r.X3=16,r.Y3=17,r.C3R=18,r.C3G=19,r.C3B=20,r.C3A=21,r.U3=22,r.V3=23,r.X4=24,r.Y4=25,r.C4R=26,r.C4G=27,r.C4B=28,r.C4A=29,r.U4=30,r.V4=31,r}(t.Attachment);t.RegionAttachment=e}(t.core||(t.core={}))}(n||(n={})),function(t){!function(t){var e=function(){function e(t,e){this.jitterX=0,this.jitterY=0,this.jitterX=t,this.jitterY=e}return e.prototype.begin=function(t){},e.prototype.transform=function(e,r,n,i){e.x+=t.MathUtils.randomTriangular(-this.jitterX,this.jitterY),e.y+=t.MathUtils.randomTriangular(-this.jitterX,this.jitterY)},e.prototype.end=function(){},e}();t.JitterEffect=e}(t.core||(t.core={}))}(n||(n={})),function(t){!function(t){var e=function(){function e(t){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=t}return e.prototype.begin=function(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY},e.prototype.transform=function(r,n,i,o){var a=this.angle*t.MathUtils.degreesToRadians,s=r.x-this.worldX,u=r.y-this.worldY,h=Math.sqrt(s*s+u*u);if(h<this.radius){var c=e.interpolation.apply(0,a,(this.radius-h)/this.radius),l=Math.cos(c),f=Math.sin(c);r.x=l*s-f*u+this.worldX,r.y=f*s+l*u+this.worldY}},e.prototype.end=function(){},e.interpolation=new t.PowOut(2),e}();t.SwirlEffect=e}(t.core||(t.core={}))}(n||(n={})),Math.fround||(Math.fround=Math.fround=(r=new Float32Array(1),function(t){return r[0]=t,r[0]})),function(e){e.core.Bone.yDown=!0;var r=[0,0,0],n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.region=null,e.attachment=null,e}return i(e,t),e}(t.Sprite);e.SpineSprite=n;var o=t.GraphicsGeometry.prototype;if(!o.invalidate){var a=[];o.invalidate=function(){var t=this.graphicsData;a.push(0),this.graphicsData=a,this.clear(),this.graphicsData=t}}var s=function(t){function e(e,r,n,i,o){var a=t.call(this,e,r,n,i,o)||this;return a.region=null,a.attachment=null,a}return i(e,t),e}(t.SimpleMesh);e.SpineMesh=s;var u=function(o){function a(t){var r=o.call(this)||this;if(!t)throw new Error("The spineData param is required.");if("string"==typeof t)throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');r.spineData=t,r.skeleton=new e.core.Skeleton(t),r.skeleton.updateWorldTransform(),r.stateData=new e.core.AnimationStateData(t),r.state=new e.core.AnimationState(r.stateData),r.slotContainers=[],r.tempClipContainers=[];for(var n=0,i=r.skeleton.slots.length;n<i;n++){var a=r.skeleton.slots[n],s=a.getAttachment(),u=r.newContainer();if(r.slotContainers.push(u),r.addChild(u),r.tempClipContainers.push(null),s instanceof e.core.RegionAttachment){var h=s.region.name,c=r.createSprite(a,s,h);a.currentSprite=c,a.currentSpriteName=h,u.addChild(c)}else if(s instanceof e.core.MeshAttachment){var l=r.createMesh(a,s);a.currentMesh=l,a.currentMeshName=s.name,u.addChild(l)}else{if(!(s instanceof e.core.ClippingAttachment))continue;r.createGraphics(a,s),u.addChild(a.clippingContainer),u.addChild(a.currentGraphics)}}return r.tintRgb=new Float32Array([1,1,1]),r.autoUpdate=!0,r.visible=!0,r}return i(a,o),Object.defineProperty(a.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,this.updateTransform=e?a.prototype.autoUpdateTransform:t.Container.prototype.updateTransform)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"visible",{get:function(){return this._visible},set:function(t){t!==this._visible&&(this._visible=t,t&&(this.lastTime=0))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"tint",{get:function(){return t.utils.rgb2hex(this.tintRgb)},set:function(e){this.tintRgb=t.utils.hex2rgb(e,this.tintRgb)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"delayLimit",{get:function(){return(void 0!==this.localDelayLimit?this.localDelayLimit:a.globalDelayLimit)||Number.MAX_VALUE},enumerable:!1,configurable:!0}),a.prototype.update=function(n){var i=this.delayLimit;if(n>i&&(n=i),this.state.update(n),this.state.apply(this.skeleton),this.skeleton){this.skeleton.updateWorldTransform();var o=this.skeleton.slots,a=this.color,s=null,u=null;a?(s=a.light,u=a.dark):s=this.tintRgb;for(var h=0,c=o.length;h<c;h++){var l=(P=o[h]).getAttachment(),f=this.slotContainers[h];if(l){var d=null,p=l.color;if(l instanceof e.core.RegionAttachment){var v=l.region;if(v){P.currentMesh&&(P.currentMesh.visible=!1,P.currentMesh=null,P.currentMeshName=void 0);var g=v;if(P.currentSpriteName&&P.currentSpriteName===g.name)P.currentSpriteName!==g.name||P.hackRegion||this.setSpriteRegion(l,P.currentSprite,v);else{var m=g.name;if(P.currentSprite&&(P.currentSprite.visible=!1),P.sprites=P.sprites||{},void 0!==P.sprites[m])P.sprites[m].visible=!0;else{var y=this.createSprite(P,l,m);f.addChild(y)}P.currentSprite=P.sprites[m],P.currentSpriteName=m}}(b=f.transform).setFromMatrix(P.bone.matrix),P.currentSprite.color?d=P.currentSprite.color:(r[0]=s[0]*P.color.r*p.r,r[1]=s[1]*P.color.g*p.g,r[2]=s[2]*P.color.b*p.b,P.currentSprite.tint=t.utils.rgb2hex(r)),P.currentSprite.blendMode=P.blendMode}else if(l instanceof e.core.MeshAttachment){var b;if(P.currentSprite)P.currentSprite.visible=!1,P.currentSprite=null,P.currentSpriteName=void 0,(b=new t.Transform)._parentID=-1,b._worldID=f.transform._worldID,f.transform=b;if(!P.currentMeshName||P.currentMeshName!==l.name){var x=l.name;if(P.currentMesh&&(P.currentMesh.visible=!1),P.meshes=P.meshes||{},void 0!==P.meshes[x])P.meshes[x].visible=!0;else{var _=this.createMesh(P,l);f.addChild(_)}P.currentMesh=P.meshes[x],P.currentMeshName=x}l.computeWorldVerticesOld(P,P.currentMesh.vertices),P.currentMesh.color?d=P.currentMesh.color:(r[0]=s[0]*P.color.r*p.r,r[1]=s[1]*P.color.g*p.g,r[2]=s[2]*P.color.b*p.b,P.currentMesh.tint=t.utils.rgb2hex(r)),P.currentMesh.blendMode=P.blendMode}else{if(!(l instanceof e.core.ClippingAttachment)){f.visible=!1;continue}P.currentGraphics||(this.createGraphics(P,l),f.addChild(P.clippingContainer),f.addChild(P.currentGraphics)),this.updateGraphics(P,l)}if(f.visible=!0,d){var w=P.color.r*p.r,T=P.color.g*p.g,E=P.color.b*p.b;d.setLight(s[0]*w+u[0]*(1-w),s[1]*T+u[1]*(1-T),s[2]*E+u[2]*(1-E)),P.darkColor?(w=P.darkColor.r,T=P.darkColor.g,E=P.darkColor.b):(w=0,T=0,E=0),d.setDark(s[0]*w+u[0]*(1-w),s[1]*T+u[1]*(1-T),s[2]*E+u[2]*(1-E))}f.alpha=P.color.a}else f.visible=!1}var S=this.skeleton.drawOrder,I=null,A=null;for(h=0,c=S.length;h<c;h++){var P=o[S[h].data.index];f=this.slotContainers[S[h].data.index];if(A||null!==f.parent&&f.parent!==this&&(f.parent.removeChild(f),f.parent=this),P.currentGraphics&&P.getAttachment())A=P.clippingContainer,I=P.getAttachment(),A.children.length=0,this.children[h]=f,I.endSlot==P.data&&(I.endSlot=null);else if(A){var M=this.tempClipContainers[h];M||((M=this.tempClipContainers[h]=this.newContainer()).visible=!1),this.children[h]=M,f.parent=null,A.addChild(f),I.endSlot==P.data&&(A.renderable=!0,A=null,I=null)}else this.children[h]=f}}},a.prototype.setSpriteRegion=function(t,r,n){r.attachment===t&&r.region===n||(r.region=n,r.attachment=t,r.texture=n.texture,r.rotation=t.rotation*e.core.MathUtils.degRad,r.position.x=t.x,r.position.y=t.y,r.alpha=t.color.a,n.size?(r.scale.x=n.size.width/n.originalWidth,r.scale.y=-n.size.height/n.originalHeight):(r.scale.x=t.scaleX*t.width/n.originalWidth,r.scale.y=-t.scaleY*t.height/n.originalHeight))},a.prototype.setMeshRegion=function(t,e,r){e.attachment===t&&e.region===r||(e.region=r,e.attachment=t,e.texture=r.texture,r.texture.updateUvs(),e.uvBuffer.update(t.regionUVs))},a.prototype.autoUpdateTransform=function(){if(a.globalAutoUpdate){this.lastTime=this.lastTime||Date.now();var e=.001*(Date.now()-this.lastTime);this.lastTime=Date.now(),this.update(e)}else this.lastTime=0;t.Container.prototype.updateTransform.call(this)},a.prototype.createSprite=function(t,e,r){var n=e.region;t.hackAttachment===e&&(n=t.hackRegion);var i=n.texture,o=this.newSprite(i);return o.anchor.set(.5),this.setSpriteRegion(e,o,e.region),t.sprites=t.sprites||{},t.sprites[r]=o,o},a.prototype.createMesh=function(e,r){var n=r.region;e.hackAttachment===r&&(n=e.hackRegion,e.hackAttachment=null,e.hackRegion=null);var i=this.newMesh(n.texture,new Float32Array(r.regionUVs.length),r.regionUVs,new Uint16Array(r.triangles),t.DRAW_MODES.TRIANGLES);return void 0!==i._canvasPadding&&(i._canvasPadding=1.5),i.alpha=r.color.a,i.region=r.region,this.setMeshRegion(r,i,n),e.meshes=e.meshes||{},e.meshes[r.name]=i,i},a.prototype.createGraphics=function(e,r){var n=this.newGraphics(),i=new t.Polygon([]);return n.clear(),n.beginFill(16777215,1),n.drawPolygon(i),n.renderable=!1,e.currentGraphics=n,e.clippingContainer=this.newContainer(),e.clippingContainer.mask=e.currentGraphics,n},a.prototype.updateGraphics=function(t,e){var r=t.currentGraphics.geometry,n=r.graphicsData[0].shape.points,i=e.worldVerticesLength;n.length=i,e.computeWorldVertices(t,0,i,n,0,2),r.invalidate()},a.prototype.hackTextureBySlotIndex=function(t,r,n){void 0===r&&(r=null),void 0===n&&(n=null);var i=this.skeleton.slots[t];if(!i)return!1;var o=i.getAttachment(),a=o.region;return r?((a=new e.core.TextureRegion).texture=r,a.size=n,i.hackRegion=a,i.hackAttachment=o):(i.hackRegion=null,i.hackAttachment=null),i.currentSprite&&i.currentSprite.region!=a?(this.setSpriteRegion(o,i.currentSprite,a),i.currentSprite.region=a):i.currentMesh&&i.currentMesh.region!=a&&this.setMeshRegion(o,i.currentMesh,a),!0},a.prototype.hackTextureBySlotName=function(t,e,r){void 0===e&&(e=null),void 0===r&&(r=null);var n=this.skeleton.findSlotIndex(t);return-1!=n&&this.hackTextureBySlotIndex(n,e,r)},a.prototype.hackTextureAttachment=function(t,r,n,i){void 0===i&&(i=null);var o=this.skeleton.findSlotIndex(t),a=this.skeleton.getAttachmentByName(t,r);a.region.texture=n;var s=this.skeleton.slots[o];if(!s)return!1;var u=s.getAttachment();if(r===u.name){var h=a.region;return n?((h=new e.core.TextureRegion).texture=n,h.size=i,s.hackRegion=h,s.hackAttachment=u):(s.hackRegion=null,s.hackAttachment=null),s.currentSprite&&s.currentSprite.region!=h?(this.setSpriteRegion(u,s.currentSprite,h),s.currentSprite.region=h):s.currentMesh&&s.currentMesh.region!=h&&this.setMeshRegion(u,s.currentMesh,h),!0}return!1},a.prototype.newContainer=function(){return new t.Container},a.prototype.newSprite=function(t){return new n(t)},a.prototype.newGraphics=function(){return new t.Graphics},a.prototype.newMesh=function(t,e,r,n,i){return new s(t,e,r,n,i)},a.prototype.transformHack=function(){return 1},a.prototype.hackAttachmentGroups=function(t,e,r){if(t){for(var n=[],i=[],o=0,a=this.skeleton.slots.length;o<a;o++){var s=this.skeleton.slots[o],u=s.currentSpriteName||s.currentMeshName||"",h=s.currentSprite||s.currentMesh;u.endsWith(t)?(h.parentGroup=e,i.push(h)):r&&h&&(h.parentGroup=r,n.push(h))}return[n,i]}},a.prototype.destroy=function(t){for(var e=0,r=this.skeleton.slots.length;e<r;e++){var n=this.skeleton.slots[e];for(var i in n.meshes)n.meshes[i].destroy(t);for(var a in n.meshes=null,n.sprites)n.sprites[a].destroy(t);n.sprites=null}for(e=0,r=this.slotContainers.length;e<r;e++)this.slotContainers[e].destroy(t);this.spineData=null,this.skeleton=null,this.slotContainers=null,this.stateData=null,this.state=null,this.tempClipContainers=null,o.prototype.destroy.call(this,t)},a.globalAutoUpdate=!0,a.globalDelayLimit=0,a.clippingPolygon=[],a}(t.Container);e.Spine=u}(n||(n={})),function(e){t.spine=e;var r=t.Texture.prototype;r._updateUvs||(r._updateUvs=r.updateUvs)}(n||(n={})),function(e){t.LoaderResource.setExtensionXhrType("skel",t.LoaderResource.XHR_RESPONSE_TYPE.BUFFER);var r=function(){function r(){}return r.use=function(r,o){if(!r.data)return o();var a=function(e){return e.type===t.LoaderResource.TYPE.JSON}(r)&&r.data.bones,s=function(e){return e.xhrType===t.LoaderResource.XHR_RESPONSE_TYPE.BUFFER}(r)&&("skel"===r.extension||r.metadata.spineMetadata);if(!a&&!s)return o();var u=null,h=r.data;a?u=new e.core.SkeletonJson(null):(u=new e.core.SkeletonBinary(null),r.data instanceof ArrayBuffer&&(h=new Uint8Array(r.data)));var c=r.metadata||{},l=c?r.metadata.spineSkeletonScale:null;l&&(u.scale=l);var f=c?r.metadata.spineAtlas:null;if(!1===f)return o();if(f&&f.pages)return u.attachmentLoader=new e.core.AtlasAttachmentLoader(f),r.spineData=u.readSkeletonData(h),r.spineAtlas=f,o();var d=c.spineAtlasSuffix||".atlas",p=r.url,v=p.indexOf("?");v>0&&(p=p.substr(0,v)),p=p.substr(0,p.lastIndexOf("."))+d,r.metadata&&r.metadata.spineAtlasFile&&(p=r.metadata.spineAtlasFile),p=p.replace(this.baseUrl,"");var g={crossOrigin:r.crossOrigin,xhrType:t.LoaderResource.XHR_RESPONSE_TYPE.TEXT,metadata:c.spineMetadata||null,parentResource:r},m={crossOrigin:r.crossOrigin,metadata:c.imageMetadata||null,parentResource:r},y=r.url.substr(0,r.url.lastIndexOf("/")+1);y=y.replace(this.baseUrl,"");var b=c.imageNamePrefix||r.name+"_atlas_page_",x=c.images?i(c.images):c.image?i({default:c.image}):c.imageLoader?c.imageLoader(this,b,y,m):n(this,b,y,m),_=function(t){new e.core.TextureAtlas(t,x,(function(t){t&&(u.attachmentLoader=new e.core.AtlasAttachmentLoader(t),r.spineData=u.readSkeletonData(h),r.spineAtlas=t),o()}))};r.metadata&&r.metadata.atlasRawData?_(r.metadata.atlasRawData):this.add(r.name+"_atlas",p,g,(function(t){t.error?o():_(t.data)}))},r}();function n(t,e,r,n){return r&&r.lastIndexOf("/")!==r.length-1&&(r+="/"),function(i,o){var a=e+i,s=r+i,u=t.resources[a];if(u){var h=function(){o(u.texture.baseTexture)};u.texture?h():u.onAfterMiddleware.add(h)}else t.add(a,s,n,(function(t){t.error?o(null):o(t.texture.baseTexture)}))}}function i(t){return function(e,r){var n=t[e]||t.default;n&&n.baseTexture?r(n.baseTexture):r(n)}}e.AtlasParser=r,e.imageLoaderAdapter=n,e.syncImageLoaderAdapter=function(e,r){return e&&e.lastIndexOf("/")!==e.length-1&&(e+="/"),function(e,n){n(t.BaseTexture.from(e,r))}},e.staticImageLoader=i,t.Loader&&t.Loader.registerPlugin(r)}(n||(n={}))}).call(this,r(5))},function(t,e){(function(){
/*!
* TweenJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2010 gskinner.com, inc.
*
* Permission is hereby granted, free of charge, to any person
* obtaining a copy of this software and associated documentation
* files (the "Software"), to deal in the Software without
* restriction, including without limitation the rights to use,
* copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the
* Software is furnished to do so, subject to the following
* conditions:
*
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
* OTHER DEALINGS IN THE SOFTWARE.
*/
this.createjs=this.createjs||{},createjs.extend=function(t,e){"use strict";function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r},this.createjs=this.createjs||{},createjs.promote=function(t,e){"use strict";var r=t.prototype,n=Object.getPrototypeOf&&Object.getPrototypeOf(r)||r.__proto__;if(n)for(var i in r[(e+="_")+"constructor"]=n.constructor,n)r.hasOwnProperty(i)&&"function"==typeof n[i]&&(r[e+i]=n[i]);return t},this.createjs=this.createjs||{},createjs.deprecate=function(t,e){"use strict";return function(){var r="Deprecated property or method '"+e+"'. See docs for info.";return console&&(console.warn?console.warn(r):console.log(r)),t&&t.apply(this,arguments)}},this.createjs=this.createjs||{},function(){"use strict";function t(t,e,r){this.type=t,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!e,this.cancelable=!!r,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var e=t.prototype;e.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},e.stopPropagation=function(){this.propagationStopped=!0},e.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},e.remove=function(){this.removed=!0},e.clone=function(){return new t(this.type,this.bubbles,this.cancelable)},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this._listeners=null,this._captureListeners=null}var e=t.prototype;t.initialize=function(t){t.addEventListener=e.addEventListener,t.on=e.on,t.removeEventListener=t.off=e.removeEventListener,t.removeAllEventListeners=e.removeAllEventListeners,t.hasEventListener=e.hasEventListener,t.dispatchEvent=e.dispatchEvent,t._dispatchEvent=e._dispatchEvent,t.willTrigger=e.willTrigger},e.addEventListener=function(t,e,r){var n,i=(n=r?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{})[t];return i&&this.removeEventListener(t,e,r),(i=n[t])?i.push(e):n[t]=[e],e},e.on=function(t,e,r,n,i,o){return e.handleEvent&&(r=r||e,e=e.handleEvent),r=r||this,this.addEventListener(t,(function(t){e.call(r,t,i),n&&t.remove()}),o)},e.removeEventListener=function(t,e,r){var n=r?this._captureListeners:this._listeners;if(n){var i=n[t];if(i)for(var o=0,a=i.length;o<a;o++)if(i[o]==e){1==a?delete n[t]:i.splice(o,1);break}}},e.off=e.removeEventListener,e.removeAllEventListeners=function(t){t?(this._listeners&&delete this._listeners[t],this._captureListeners&&delete this._captureListeners[t]):this._listeners=this._captureListeners=null},e.dispatchEvent=function(t,e,r){if("string"==typeof t){var n=this._listeners;if(!(e||n&&n[t]))return!0;t=new createjs.Event(t,e,r)}else t.target&&t.clone&&(t=t.clone());try{t.target=this}catch(t){}if(t.bubbles&&this.parent){for(var i=this,o=[i];i.parent;)o.push(i=i.parent);var a,s=o.length;for(a=s-1;a>=0&&!t.propagationStopped;a--)o[a]._dispatchEvent(t,1+(0==a));for(a=1;a<s&&!t.propagationStopped;a++)o[a]._dispatchEvent(t,3)}else this._dispatchEvent(t,2);return!t.defaultPrevented},e.hasEventListener=function(t){var e=this._listeners,r=this._captureListeners;return!!(e&&e[t]||r&&r[t])},e.willTrigger=function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e.parent}return!1},e.toString=function(){return"[EventDispatcher]"},e._dispatchEvent=function(t,e){var r,n,i=e<=2?this._captureListeners:this._listeners;if(t&&i&&(n=i[t.type])&&(r=n.length)){try{t.currentTarget=this}catch(t){}try{t.eventPhase=0|e}catch(t){}t.removed=!1,n=n.slice();for(var o=0;o<r&&!t.immediatePropagationStopped;o++){var a=n[o];a.handleEvent?a.handleEvent(t):a(t),t.removed&&(this.off(t.type,a,1==e),t.removed=!1)}}2===e&&this._dispatchEvent(t,2.1)},createjs.EventDispatcher=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"Ticker cannot be instantiated."}t.RAF_SYNCHED="synched",t.RAF="raf",t.TIMEOUT="timeout",t.timingMode=null,t.maxDelta=0,t.paused=!1,t.removeEventListener=null,t.removeAllEventListeners=null,t.dispatchEvent=null,t.hasEventListener=null,t._listeners=null,createjs.EventDispatcher.initialize(t),t._addEventListener=t.addEventListener,t.addEventListener=function(){return!t._inited&&t.init(),t._addEventListener.apply(t,arguments)},t._inited=!1,t._startTime=0,t._pausedTime=0,t._ticks=0,t._pausedTicks=0,t._interval=50,t._lastTime=0,t._times=null,t._tickTimes=null,t._timerId=null,t._raf=!0,t._setInterval=function(e){t._interval=e,t._inited&&t._setupTick()},t.setInterval=createjs.deprecate(t._setInterval,"Ticker.setInterval"),t._getInterval=function(){return t._interval},t.getInterval=createjs.deprecate(t._getInterval,"Ticker.getInterval"),t._setFPS=function(e){t._setInterval(1e3/e)},t.setFPS=createjs.deprecate(t._setFPS,"Ticker.setFPS"),t._getFPS=function(){return 1e3/t._interval},t.getFPS=createjs.deprecate(t._getFPS,"Ticker.getFPS");try{Object.defineProperties(t,{interval:{get:t._getInterval,set:t._setInterval},framerate:{get:t._getFPS,set:t._setFPS}})}catch(t){console.log(t)}t.init=function(){t._inited||(t._inited=!0,t._times=[],t._tickTimes=[],t._startTime=t._getTime(),t._times.push(t._lastTime=0),t.interval=t._interval)},t.reset=function(){if(t._raf){var e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;e&&e(t._timerId)}else clearTimeout(t._timerId);t.removeAllEventListeners("tick"),t._timerId=t._times=t._tickTimes=null,t._startTime=t._lastTime=t._ticks=t._pausedTime=0,t._inited=!1},t.getMeasuredTickTime=function(e){var r=0,n=t._tickTimes;if(!n||n.length<1)return-1;e=Math.min(n.length,e||0|t._getFPS());for(var i=0;i<e;i++)r+=n[i];return r/e},t.getMeasuredFPS=function(e){var r=t._times;return!r||r.length<2?-1:(e=Math.min(r.length-1,e||0|t._getFPS()),1e3/((r[0]-r[e])/e))},t.getTime=function(e){return t._startTime?t._getTime()-(e?t._pausedTime:0):-1},t.getEventTime=function(e){return t._startTime?(t._lastTime||t._startTime)-(e?t._pausedTime:0):-1},t.getTicks=function(e){return t._ticks-(e?t._pausedTicks:0)},t._handleSynch=function(){t._timerId=null,t._setupTick(),t._getTime()-t._lastTime>=.97*(t._interval-1)&&t._tick()},t._handleRAF=function(){t._timerId=null,t._setupTick(),t._tick()},t._handleTimeout=function(){t._timerId=null,t._setupTick(),t._tick()},t._setupTick=function(){if(null==t._timerId){var e=t.timingMode;if(e==t.RAF_SYNCHED||e==t.RAF){var r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(r)return t._timerId=r(e==t.RAF?t._handleRAF:t._handleSynch),void(t._raf=!0)}t._raf=!1,t._timerId=setTimeout(t._handleTimeout,t._interval)}},t._tick=function(){var e=t.paused,r=t._getTime(),n=r-t._lastTime;if(t._lastTime=r,t._ticks++,e&&(t._pausedTicks++,t._pausedTime+=n),t.hasEventListener("tick")){var i=new createjs.Event("tick"),o=t.maxDelta;i.delta=o&&n>o?o:n,i.paused=e,i.time=r,i.runTime=r-t._pausedTime,t.dispatchEvent(i)}for(t._tickTimes.unshift(t._getTime()-r);t._tickTimes.length>100;)t._tickTimes.pop();for(t._times.unshift(r);t._times.length>100;)t._times.pop()};var e=window,r=e.performance.now||e.performance.mozNow||e.performance.msNow||e.performance.oNow||e.performance.webkitNow;t._getTime=function(){return(r&&r.call(e.performance)||(new Date).getTime())-t._startTime},createjs.Ticker=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.EventDispatcher_constructor(),this.ignoreGlobalPause=!1,this.loop=0,this.useTicks=!1,this.reversed=!1,this.bounce=!1,this.timeScale=1,this.duration=0,this.position=0,this.rawPosition=-1,this._paused=!0,this._next=null,this._prev=null,this._parent=null,this._labels=null,this._labelList=null,t&&(this.useTicks=!!t.useTicks,this.ignoreGlobalPause=!!t.ignoreGlobalPause,this.loop=!0===t.loop?-1:t.loop||0,this.reversed=!!t.reversed,this.bounce=!!t.bounce,this.timeScale=t.timeScale||1,t.onChange&&this.addEventListener("change",t.onChange),t.onComplete&&this.addEventListener("complete",t.onComplete))}var e=createjs.extend(t,createjs.EventDispatcher);e._setPaused=function(t){return createjs.Tween._register(this,t),this},e.setPaused=createjs.deprecate(e._setPaused,"AbstractTween.setPaused"),e._getPaused=function(){return this._paused},e.getPaused=createjs.deprecate(e._getPaused,"AbstactTween.getPaused"),e._getCurrentLabel=function(t){var e=this.getLabels();null==t&&(t=this.position);for(var r=0,n=e.length;r<n&&!(t<e[r].position);r++);return 0===r?null:e[r-1].label},e.getCurrentLabel=createjs.deprecate(e._getCurrentLabel,"AbstractTween.getCurrentLabel");try{Object.defineProperties(e,{paused:{set:e._setPaused,get:e._getPaused},currentLabel:{get:e._getCurrentLabel}})}catch(t){}e.advance=function(t,e){this.setPosition(this.rawPosition+t*this.timeScale,e)},e.setPosition=function(t,e,r,n){var i=this.duration,o=this.loop,a=this.rawPosition,s=0,u=0,h=!1;if(t<0&&(t=0),0===i){if(h=!0,-1!==a)return h}else{if(u=t-(s=t/i|0)*i,(h=-1!==o&&t>=o*i+i)&&(t=(u=i)*(s=o)+i),t===a)return h;!this.reversed!=!(this.bounce&&s%2)&&(u=i-u)}this.position=u,this.rawPosition=t,this._updatePosition(r,h),h&&(this.paused=!0),n&&n(this),e||this._runActions(a,t,r,!r&&-1===a),this.dispatchEvent("change"),h&&this.dispatchEvent("complete")},e.calculatePosition=function(t){var e=this.duration,r=this.loop,n=0,i=0;return 0===e?0:(-1!==r&&t>=r*e+e?(i=e,n=r):i=t<0?0:t-(n=t/e|0)*e,!this.reversed!=!(this.bounce&&n%2)?e-i:i)},e.getLabels=function(){var t=this._labelList;if(!t){t=this._labelList=[];var e=this._labels;for(var r in e)t.push({label:r,position:e[r]});t.sort((function(t,e){return t.position-e.position}))}return t},e.setLabels=function(t){this._labels=t,this._labelList=null},e.addLabel=function(t,e){this._labels||(this._labels={}),this._labels[t]=e;var r=this._labelList;if(r){for(var n=0,i=r.length;n<i&&!(e<r[n].position);n++);r.splice(n,0,{label:t,position:e})}},e.gotoAndPlay=function(t){this.paused=!1,this._goto(t)},e.gotoAndStop=function(t){this.paused=!0,this._goto(t)},e.resolve=function(t){var e=Number(t);return isNaN(e)&&(e=this._labels&&this._labels[t]),e},e.toString=function(){return"[AbstractTween]"},e.clone=function(){throw"AbstractTween can not be cloned."},e._init=function(t){t&&t.paused||(this.paused=!1),t&&null!=t.position&&this.setPosition(t.position)},e._updatePosition=function(t,e){},e._goto=function(t){var e=this.resolve(t);null!=e&&this.setPosition(e,!1,!0)},e._runActions=function(t,e,r,n){if(this._actionHead||this.tweens){var i,o,a,s,u=this.duration,h=this.reversed,c=this.bounce,l=this.loop;if(0===u?(i=o=a=s=0,h=c=!1):(a=t-(i=t/u|0)*u,s=e-(o=e/u|0)*u),-1!==l&&(o>l&&(s=u,o=l),i>l&&(a=u,i=l)),r)return this._runActionsRange(s,s,r,n);if(i!==o||a!==s||r||n){-1===i&&(i=a=0);var f=t<=e,d=i;do{var p=d===i?a:f?0:u,v=d===o?s:f?u:0;if(!h!=!(c&&d%2)&&(p=u-p,v=u-v),c&&d!==i&&p===v);else if(this._runActionsRange(p,v,r,n||d!==i&&!c))return!0;n=!1}while(f&&++d<=o||!f&&--d>=o)}}},e._runActionsRange=function(t,e,r,n){},createjs.AbstractTween=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(e,n){this.AbstractTween_constructor(n),this.pluginData=null,this.target=e,this.passive=!1,this._stepHead=new r(null,0,0,{},null,!0),this._stepTail=this._stepHead,this._stepPosition=0,this._actionHead=null,this._actionTail=null,this._plugins=null,this._pluginIds=null,this._injected=null,n&&(this.pluginData=n.pluginData,n.override&&t.removeTweens(e)),this.pluginData||(this.pluginData={}),this._init(n)}var e=createjs.extend(t,createjs.AbstractTween);function r(t,e,r,n,i,o){this.next=null,this.prev=t,this.t=e,this.d=r,this.props=n,this.ease=i,this.passive=o,this.index=t?t.index+1:0}function n(t,e,r,n,i){this.next=null,this.prev=t,this.t=e,this.d=0,this.scope=r,this.funct=n,this.params=i}t.IGNORE={},t._tweens=[],t._plugins=null,t._tweenHead=null,t._tweenTail=null,t.get=function(e,r){return new t(e,r)},t.tick=function(e,r){for(var n=t._tweenHead;n;){var i=n._next;r&&!n.ignoreGlobalPause||n._paused||n.advance(n.useTicks?1:e),n=i}},t.handleEvent=function(t){"tick"===t.type&&this.tick(t.delta,t.paused)},t.removeTweens=function(e){if(e.tweenjs_count){for(var r=t._tweenHead;r;){var n=r._next;r.target===e&&t._register(r,!0),r=n}e.tweenjs_count=0}},t.removeAllTweens=function(){for(var e=t._tweenHead;e;){var r=e._next;e._paused=!0,e.target&&(e.target.tweenjs_count=0),e._next=e._prev=null,e=r}t._tweenHead=t._tweenTail=null},t.hasActiveTweens=function(e){return e?!!e.tweenjs_count:!!t._tweenHead},t._installPlugin=function(e){for(var r=e.priority=e.priority||0,n=t._plugins=t._plugins||[],i=0,o=n.length;i<o&&!(r<n[i].priority);i++);n.splice(i,0,e)},t._register=function(e,r){var n=e.target;if(!r&&e._paused){n&&(n.tweenjs_count=n.tweenjs_count?n.tweenjs_count+1:1);var i=t._tweenTail;i?(t._tweenTail=i._next=e,e._prev=i):t._tweenHead=t._tweenTail=e,!t._inited&&createjs.Ticker&&(createjs.Ticker.addEventListener("tick",t),t._inited=!0)}else if(r&&!e._paused){n&&n.tweenjs_count--;var o=e._next,a=e._prev;o?o._prev=a:t._tweenTail=a,a?a._next=o:t._tweenHead=o,e._next=e._prev=null}e._paused=r},e.wait=function(t,e){return t>0&&this._addStep(+t,this._stepTail.props,null,e),this},e.to=function(t,e,r){(null==e||e<0)&&(e=0);var n=this._addStep(+e,null,r);return this._appendProps(t,n),this},e.label=function(t){return this.addLabel(t,this.duration),this},e.call=function(t,e,r){return this._addAction(r||this.target,t,e||[this])},e.set=function(t,e){return this._addAction(e||this.target,this._set,[t])},e.play=function(t){return this._addAction(t||this,this._set,[{paused:!1}])},e.pause=function(t){return this._addAction(t||this,this._set,[{paused:!0}])},e.w=e.wait,e.t=e.to,e.c=e.call,e.s=e.set,e.toString=function(){return"[Tween]"},e.clone=function(){throw"Tween can not be cloned."},e._addPlugin=function(t){var e=this._pluginIds||(this._pluginIds={}),r=t.ID;if(r&&!e[r]){e[r]=!0;for(var n=this._plugins||(this._plugins=[]),i=t.priority||0,o=0,a=n.length;o<a;o++)if(i<n[o].priority)return void n.splice(o,0,t);n.push(t)}},e._updatePosition=function(t,e){var r=this._stepHead.next,n=this.position,i=this.duration;if(this.target&&r){for(var o=r.next;o&&o.t<=n;)o=(r=r.next).next;var a=e?0===i?1:n/i:(n-r.t)/r.d;this._updateTargetProps(r,a,e)}this._stepPosition=r?n-r.t:0},e._updateTargetProps=function(e,r,n){if(!(this.passive=!!e.passive)){var i,o,a,s,u=e.prev.props,h=e.props;(s=e.ease)&&(r=s(r,0,1,1));var c=this._plugins;t:for(var l in u){if(i=(o=u[l])!==(a=h[l])&&"number"==typeof o?o+(a-o)*r:r>=1?a:o,c)for(var f=0,d=c.length;f<d;f++){var p=c[f].change(this,e,l,i,r,n);if(p===t.IGNORE)continue t;void 0!==p&&(i=p)}this.target[l]=i}}},e._runActionsRange=function(t,e,r,n){var i=t>e,o=i?this._actionTail:this._actionHead,a=e,s=t;i&&(a=t,s=e);for(var u=this.position;o;){var h=o.t;if((h===e||h>s&&h<a||n&&h===t)&&(o.funct.apply(o.scope,o.params),u!==this.position))return!0;o=i?o.prev:o.next}},e._appendProps=function(e,r,n){var i,o,a,s,u,h=this._stepHead.props,c=this.target,l=t._plugins,f=r.prev,d=f.props,p=r.props||(r.props=this._cloneProps(d)),v={};for(i in e)if(e.hasOwnProperty(i)&&(v[i]=p[i]=e[i],void 0===h[i])){if(s=void 0,l)for(o=l.length-1;o>=0;o--)if(void 0!==(a=l[o].init(this,i,s))&&(s=a),s===t.IGNORE){delete p[i],delete v[i];break}s!==t.IGNORE&&(void 0===s&&(s=c[i]),d[i]=void 0===s?null:s)}for(i in v){a=e[i];for(var g,m=f;(g=m)&&(m=g.prev);)if(m.props!==g.props){if(void 0!==m.props[i])break;m.props[i]=d[i]}}if(!1!==n&&(l=this._plugins))for(o=l.length-1;o>=0;o--)l[o].step(this,r,v);(u=this._injected)&&(this._injected=null,this._appendProps(u,r,!1))},e._injectProp=function(t,e){(this._injected||(this._injected={}))[t]=e},e._addStep=function(t,e,n,i){var o=new r(this._stepTail,this.duration,t,e,n,i||!1);return this.duration+=t,this._stepTail=this._stepTail.next=o},e._addAction=function(t,e,r){var i=new n(this._actionTail,this.duration,t,e,r);return this._actionTail?this._actionTail.next=i:this._actionHead=i,this._actionTail=i,this},e._set=function(t){for(var e in t)this[e]=t[e]},e._cloneProps=function(t){var e={};for(var r in t)e[r]=t[r];return e},createjs.Tween=createjs.promote(t,"AbstractTween")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){var e,r;t instanceof Array||null==t&&arguments.length>1?(e=t,r=arguments[1],t=arguments[2]):t&&(e=t.tweens,r=t.labels),this.AbstractTween_constructor(t),this.tweens=[],e&&this.addTween.apply(this,e),this.setLabels(r),this._init(t)}var e=createjs.extend(t,createjs.AbstractTween);e.addTween=function(t){t._parent&&t._parent.removeTween(t);var e=arguments.length;if(e>1){for(var r=0;r<e;r++)this.addTween(arguments[r]);return arguments[e-1]}if(0===e)return null;this.tweens.push(t),t._parent=this,t.paused=!0;var n=t.duration;return t.loop>0&&(n*=t.loop+1),n>this.duration&&(this.duration=n),this.rawPosition>=0&&t.setPosition(this.rawPosition),t},e.removeTween=function(t){var e=arguments.length;if(e>1){for(var r=!0,n=0;n<e;n++)r=r&&this.removeTween(arguments[n]);return r}if(0===e)return!0;var i=this.tweens;for(n=i.length;n--;)if(i[n]===t)return i.splice(n,1),t._parent=null,t.duration>=this.duration&&this.updateDuration(),!0;return!1},e.updateDuration=function(){this.duration=0;for(var t=0,e=this.tweens.length;t<e;t++){var r=this.tweens[t],n=r.duration;r.loop>0&&(n*=r.loop+1),n>this.duration&&(this.duration=n)}},e.toString=function(){return"[Timeline]"},e.clone=function(){throw"Timeline can not be cloned."},e._updatePosition=function(t,e){for(var r=this.position,n=0,i=this.tweens.length;n<i;n++)this.tweens[n].setPosition(r,!0,t)},e._runActionsRange=function(t,e,r,n){for(var i=this.position,o=0,a=this.tweens.length;o<a;o++)if(this.tweens[o]._runActions(t,e,r,n),i!==this.position)return!0},createjs.Timeline=createjs.promote(t,"AbstractTween")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"Ease cannot be instantiated."}t.linear=function(t){return t},t.none=t.linear,t.get=function(t){return t<-1?t=-1:t>1&&(t=1),function(e){return 0==t?e:t<0?e*(e*-t+1+t):e*((2-e)*t+(1-t))}},t.getPowIn=function(t){return function(e){return Math.pow(e,t)}},t.getPowOut=function(t){return function(e){return 1-Math.pow(1-e,t)}},t.getPowInOut=function(t){return function(e){return(e*=2)<1?.5*Math.pow(e,t):1-.5*Math.abs(Math.pow(2-e,t))}},t.quadIn=t.getPowIn(2),t.quadOut=t.getPowOut(2),t.quadInOut=t.getPowInOut(2),t.cubicIn=t.getPowIn(3),t.cubicOut=t.getPowOut(3),t.cubicInOut=t.getPowInOut(3),t.quartIn=t.getPowIn(4),t.quartOut=t.getPowOut(4),t.quartInOut=t.getPowInOut(4),t.quintIn=t.getPowIn(5),t.quintOut=t.getPowOut(5),t.quintInOut=t.getPowInOut(5),t.sineIn=function(t){return 1-Math.cos(t*Math.PI/2)},t.sineOut=function(t){return Math.sin(t*Math.PI/2)},t.sineInOut=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getBackIn=function(t){return function(e){return e*e*((t+1)*e-t)}},t.backIn=t.getBackIn(1.7),t.getBackOut=function(t){return function(e){return--e*e*((t+1)*e+t)+1}},t.backOut=t.getBackOut(1.7),t.getBackInOut=function(t){return t*=1.525,function(e){return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},t.backInOut=t.getBackInOut(1.7),t.circIn=function(t){return-(Math.sqrt(1-t*t)-1)},t.circOut=function(t){return Math.sqrt(1- --t*t)},t.circInOut=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},t.bounceIn=function(e){return 1-t.bounceOut(1-e)},t.bounceOut=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},t.bounceInOut=function(e){return e<.5?.5*t.bounceIn(2*e):.5*t.bounceOut(2*e-1)+.5},t.getElasticIn=function(t,e){var r=2*Math.PI;return function(n){if(0==n||1==n)return n;var i=e/r*Math.asin(1/t);return-t*Math.pow(2,10*(n-=1))*Math.sin((n-i)*r/e)}},t.elasticIn=t.getElasticIn(1,.3),t.getElasticOut=function(t,e){var r=2*Math.PI;return function(n){if(0==n||1==n)return n;var i=e/r*Math.asin(1/t);return t*Math.pow(2,-10*n)*Math.sin((n-i)*r/e)+1}},t.elasticOut=t.getElasticOut(1,.3),t.getElasticInOut=function(t,e){var r=2*Math.PI;return function(n){var i=e/r*Math.asin(1/t);return(n*=2)<1?t*Math.pow(2,10*(n-=1))*Math.sin((n-i)*r/e)*-.5:t*Math.pow(2,-10*(n-=1))*Math.sin((n-i)*r/e)*.5+1}},t.elasticInOut=t.getElasticInOut(1,.3*1.5),createjs.Ease=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"MotionGuidePlugin cannot be instantiated."}var e=t;e.priority=0,e.ID="MotionGuide",e.install=function(){return createjs.Tween._installPlugin(t),createjs.Tween.IGNORE},e.init=function(t,r,n){"guide"==r&&t._addPlugin(e)},e.step=function(t,r,n){for(var i in n)if("guide"===i){var o=r.props.guide,a=e._solveGuideData(n.guide,o);o.valid=!a;var s=o.endData;if(t._injectProp("x",s.x),t._injectProp("y",s.y),a||!o.orient)break;var u=void 0===r.prev.props.rotation?t.target.rotation||0:r.prev.props.rotation;if(o.startOffsetRot=u-o.startData.rotation,"fixed"==o.orient)o.endAbsRot=s.rotation+o.startOffsetRot,o.deltaRotation=0;else{var h=void 0===n.rotation?t.target.rotation||0:n.rotation,c=h-o.endData.rotation-o.startOffsetRot,l=c%360;switch(o.endAbsRot=h,o.orient){case"auto":o.deltaRotation=c;break;case"cw":o.deltaRotation=(l+360)%360+360*Math.abs(c/360|0);break;case"ccw":o.deltaRotation=(l-360)%360+-360*Math.abs(c/360|0)}}t._injectProp("rotation",o.endAbsRot)}},e.change=function(t,r,n,i,o,a){var s=r.props.guide;if(s&&r.props!==r.prev.props&&s!==r.prev.props.guide)return"guide"===n&&!s.valid||"x"==n||"y"==n||"rotation"===n&&s.orient?createjs.Tween.IGNORE:void e._ratioToPositionData(o,s,t.target)},e.debug=function(t,r,n){t=t.guide||t;var i=e._findPathProblems(t);if(i&&console.error("MotionGuidePlugin Error found: \n"+i),!r)return i;var o=t.path,a=o.length;for(r.save(),r.lineCap="round",r.lineJoin="miter",r.beginPath(),r.moveTo(o[0],o[1]),c=2;c<a;c+=4)r.quadraticCurveTo(o[c],o[c+1],o[c+2],o[c+3]);r.strokeStyle="black",r.lineWidth=4.5,r.stroke(),r.strokeStyle="white",r.lineWidth=3,r.stroke(),r.closePath();var s=n.length;if(n&&s){var u={},h={};e._solveGuideData(t,u);for(var c=0;c<s;c++)u.orient="fixed",e._ratioToPositionData(n[c],u,h),r.beginPath(),r.moveTo(h.x,h.y),r.lineTo(h.x+9*Math.cos(.0174533*h.rotation),h.y+9*Math.sin(.0174533*h.rotation)),r.strokeStyle="black",r.lineWidth=4.5,r.stroke(),r.strokeStyle="red",r.lineWidth=3,r.stroke(),r.closePath()}return r.restore(),i},e._solveGuideData=function(t,r){var n;if(n=e.debug(t))return n;var i=r.path=t.path;r.orient=t.orient;r.subLines=[],r.totalLength=0,r.startOffsetRot=0,r.deltaRotation=0,r.startData={ratio:0},r.endData={ratio:1},r.animSpan=1;var o,a,s,u,h,c,l,f,d,p=i.length,v={};for(o=i[0],a=i[1],l=2;l<p;l+=4){s=i[l],u=i[l+1],h=i[l+2],c=i[l+3];var g={weightings:[],estLength:0,portion:0},m=o,y=a;for(f=1;f<=10;f++){e._getParamsForCurve(o,a,s,u,h,c,f/10,!1,v);var b=v.x-m,x=v.y-y;d=Math.sqrt(b*b+x*x),g.weightings.push(d),g.estLength+=d,m=v.x,y=v.y}for(r.totalLength+=g.estLength,f=0;f<10;f++)d=g.estLength,g.weightings[f]=g.weightings[f]/d;r.subLines.push(g),o=h,a=c}d=r.totalLength;var _=r.subLines.length;for(l=0;l<_;l++)r.subLines[l].portion=r.subLines[l].estLength/d;var w=isNaN(t.start)?0:t.start,T=isNaN(t.end)?1:t.end;e._ratioToPositionData(w,r,r.startData),e._ratioToPositionData(T,r,r.endData),r.startData.ratio=w,r.endData.ratio=T,r.animSpan=r.endData.ratio-r.startData.ratio},e._ratioToPositionData=function(t,r,n){var i,o,a,s,u,h=r.subLines,c=0,l=t*r.animSpan+r.startData.ratio;for(o=h.length,i=0;i<o;i++){if(c+(s=h[i].portion)>=l){u=i;break}c+=s}void 0===u&&(u=o-1,c-=s);var f=h[u].weightings,d=s;for(o=f.length,i=0;i<o&&!(c+(s=f[i]*d)>=l);i++)c+=s;u=4*u+2,a=i/10+(l-c)/s*.1;var p=r.path;return e._getParamsForCurve(p[u-2],p[u-1],p[u],p[u+1],p[u+2],p[u+3],a,r.orient,n),r.orient&&(t>=.99999&&t<=1.00001&&void 0!==r.endAbsRot?n.rotation=r.endAbsRot:n.rotation+=r.startOffsetRot+t*r.deltaRotation),n},e._getParamsForCurve=function(t,e,r,n,i,o,a,s,u){var h=1-a;u.x=h*h*t+2*h*a*r+a*a*i,u.y=h*h*e+2*h*a*n+a*a*o,s&&(u.rotation=57.2957795*Math.atan2((n-e)*h+(o-n)*a,(r-t)*h+(i-r)*a))},e._findPathProblems=function(t){var e=t.path,r=e&&e.length||0;if(r<6||(r-2)%4){var n="\tCannot parse 'path' array due to invalid number of entries in path. ";return n+="There should be an odd number of points, at least 3 points, and 2 entries per point (x & y). ",n+="See 'CanvasRenderingContext2D.quadraticCurveTo' for details as 'path' models a quadratic bezier.\n\n",n+="Only [ "+r+" ] values found. Expected: "+Math.max(4*Math.ceil((r-2)/4)+2,6)}for(var i=0;i<r;i++)if(isNaN(e[i]))return"All data in path array must be numeric";var o=t.start;if(isNaN(o)&&void 0!==o)return"'start' out of bounds. Expected 0 to 1, got: "+o;var a=t.end;if(isNaN(a)&&void 0!==a)return"'end' out of bounds. Expected 0 to 1, got: "+a;var s=t.orient;return s&&"fixed"!=s&&"auto"!=s&&"cw"!=s&&"ccw"!=s?'Invalid orientation value. Expected ["fixed", "auto", "cw", "ccw", undefined], got: '+s:void 0},createjs.MotionGuidePlugin=t}(),this.createjs=this.createjs||{},function(){"use strict";var t=createjs.TweenJS=createjs.TweenJS||{};t.version="1.0.0",t.buildDate="Thu, 14 Sep 2017 19:47:47 GMT"}()}).call(window)},function(t,e,r){var n=r(589),i=Math.max;t.exports=function(t,e,r){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),u=Array(s);++a<s;)u[a]=o[e+a];a=-1;for(var h=Array(e+1);++a<e;)h[a]=o[a];return h[e]=r(u),n(t,this,h)}}},function(t,e){t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},function(t,e,r){var n=r(591),i=r(602)(n);t.exports=i},function(t,e,r){var n=r(592),i=r(593),o=r(195),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:o;t.exports=a},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,r){var n=r(594),i=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e,r){var n=r(595),i=r(601);t.exports=function(t,e){var r=i(t,e);return n(r)?r:void 0}},function(t,e,r){var n=r(196),i=r(598),o=r(104),a=r(600),s=/^\[object .+?Constructor\]$/,u=Function.prototype,h=Object.prototype,c=u.toString,l=h.hasOwnProperty,f=RegExp("^"+c.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(n(t)?f:s).test(a(t))}},function(t,e,r){var n=r(197),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=n?n.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),r=t[s];try{t[s]=void 0;var n=!0}catch(t){}var i=a.call(t);return n&&(e?t[s]=r:delete t[s]),i}},function(t,e){var r=Object.prototype.toString;t.exports=function(t){return r.call(t)}},function(t,e,r){var n,i=r(599),o=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!o&&o in t}},function(t,e,r){var n=r(140)["__core-js_shared__"];t.exports=n},function(t,e){var r=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e){var r=Date.now;t.exports=function(t){var e=0,n=0;return function(){var i=r(),o=16-(i-n);if(n=i,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,r){var n=r(199),i=r(200),o=r(202),a=r(104);t.exports=function(t,e,r){if(!a(r))return!1;var s=typeof e;return!!("number"==s?i(r)&&o(e,r.length):"string"==s&&e in r)&&n(r[e],t)}},function(t,e,r){var n=r(605),i=r(616),o=r(200);t.exports=function(t){return o(t)?n(t,!0):i(t)}},function(t,e,r){var n=r(606),i=r(607),o=r(609),a=r(610),s=r(202),u=r(612),h=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=o(t),c=!r&&i(t),l=!r&&!c&&a(t),f=!r&&!c&&!l&&u(t),d=r||c||l||f,p=d?n(t.length,String):[],v=p.length;for(var g in t)!e&&!h.call(t,g)||d&&("length"==g||l&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,v))||p.push(g);return p}},function(t,e){t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},function(t,e,r){var n=r(608),i=r(141),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e,r){var n=r(139),i=r(141);t.exports=function(t){return i(t)&&"[object Arguments]"==n(t)}},function(t,e){var r=Array.isArray;t.exports=r},function(t,e,r){(function(t){var n=r(140),i=r(611),o=e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?n.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;t.exports=u}).call(this,r(106)(t))},function(t,e){t.exports=function(){return!1}},function(t,e,r){var n=r(613),i=r(614),o=r(615),a=o&&o.isTypedArray,s=a?i(a):n;t.exports=s},function(t,e,r){var n=r(139),i=r(201),o=r(141),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[n(t)]}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,r){(function(t){var n=r(198),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i&&n.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s}).call(this,r(106)(t))},function(t,e,r){var n=r(104),i=r(617),o=r(618),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=i(t),r=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&r.push(s);return r}},function(t,e){var r=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},function(t,e){t.exports=function(t,e,r){if("function"!=typeof t)throw new TypeError("Expected a function");return setTimeout((function(){t.apply(void 0,r)}),e)}},function(t,e,r){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var n=function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function i(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var o=r(12);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var a=function(){return(a=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))}function u(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function h(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}var f=function(){function t(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),d=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var r=new o.a;this.instancesDeferred.set(e,r);try{var n=this.getOrInitializeService(e);n&&r.resolve(n)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=a({identifier:"[DEFAULT]",optional:!1},t),r=e.identifier,n=e.optional,i=this.normalizeInstanceIdentifier(r);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(t){if(n)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService("[DEFAULT]")}catch(t){}try{for(var n=h(this.instancesDeferred.entries()),i=n.next();!i.done;i=n.next()){var o=c(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var l=this.getOrInitializeService(u);s.resolve(l)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return s(this,void 0,void 0,(function(){var t;return u(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(l(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p,v=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new d(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function g(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m,y=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(m||(m={}));var b,x={debug:m.DEBUG,verbose:m.VERBOSE,info:m.INFO,warn:m.WARN,error:m.ERROR,silent:m.SILENT},_=m.INFO,w=((p={})[m.DEBUG]="log",p[m.VERBOSE]="log",p[m.INFO]="info",p[m.WARN]="warn",p[m.ERROR]="error",p),T=function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=w[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,g(["["+i+"]  "+t.name+":"],r))}},E=function(){function t(t){this.name=t,this._logLevel=_,this._logHandler=T,this._userLogHandler=null,y.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in m))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?x[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,g([this,m.DEBUG],t)),this._logHandler.apply(this,g([this,m.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,g([this,m.VERBOSE],t)),this._logHandler.apply(this,g([this,m.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,g([this,m.INFO],t)),this._logHandler.apply(this,g([this,m.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,g([this,m.WARN],t)),this._logHandler.apply(this,g([this,m.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,g([this,m.ERROR],t)),this._logHandler.apply(this,g([this,m.ERROR],t))},t}();function S(t){y.forEach((function(e){e.setLogLevel(t)}))}var I,A=((b={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",b["bad-app-name"]="Illegal App name: '{$appName}",b["duplicate-app"]="Firebase App named '{$appName}' already exists",b["app-deleted"]="Firebase App named '{$appName}' already deleted",b["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",b["invalid-log-argument"]="First argument to `onLog` must be null or a function.",b),P=new o.b("app","Firebase",A),M=((I={})["@firebase/app"]="fire-core",I["@firebase/analytics"]="fire-analytics",I["@firebase/auth"]="fire-auth",I["@firebase/database"]="fire-rtdb",I["@firebase/functions"]="fire-fn",I["@firebase/installations"]="fire-iid",I["@firebase/messaging"]="fire-fcm",I["@firebase/performance"]="fire-perf",I["@firebase/remote-config"]="fire-rc",I["@firebase/storage"]="fire-gcs",I["@firebase/firestore"]="fire-fst",I["fire-js"]="fire-js",I["firebase-wrapper"]="fire-js-all",I),O=new E("@firebase/app"),C=function(){function t(t,e,r){var n,a,s=this;this.firebase_=r,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.h)(t),this.container=new v(e.name),this._addComponent(new f("app",(function(){return s}),"PUBLIC"));try{for(var u=i(this.firebase_.INTERNAL.components.values()),h=u.next();!h.done;h=u.next()){var c=h.value;this._addComponent(c)}}catch(t){n={error:t}}finally{try{h&&!h.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){O.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw P.create("app-deleted",{appName:this.name_})},t}();C.prototype.name&&C.prototype.options||C.prototype.delete||console.log("dc");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function R(t){var e={},r=new Map,n={__esModule:!0,initializeApp:function(r,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var a=i;void 0===a.name&&(a.name="[DEFAULT]");var s=a.name;if("string"!=typeof s||!s)throw P.create("bad-app-name",{appName:String(s)});if(Object(o.f)(e,s))throw P.create("duplicate-app",{appName:s});var u=new t(r,a,n);return e[s]=u,u},app:a,registerVersion:function(t,e,r){var n,i=null!==(n=M[t])&&void 0!==n?n:t;r&&(i+="-"+r);var o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void O.warn(u.join(" "))}s(new f(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:S,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw P.create("invalid-log-argument",{appName:name});!function(t,e){for(var r=function(r){var n=null;e&&e.level&&(n=x[e.level]),r.userLogHandler=null===t?null:function(e,r){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");r>=(null!=n?n:e.logLevel)&&t({level:m[r].toLowerCase(),message:a,args:i,type:e.name})}},n=0,i=y;n<i.length;n++){r(i[n])}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e)},apps:null,SDK_VERSION:"8.0.0",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:r,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function a(t){if(t=t||"[DEFAULT]",!Object(o.f)(e,t))throw P.create("no-app",{appName:t});return e[t]}function s(s){var u,h,c=s.name;if(r.has(c))return O.debug("There were multiple attempts to register component "+c+"."),"PUBLIC"===s.type?n[c]:null;if(r.set(c,s),"PUBLIC"===s.type){var l=function(t){if(void 0===t&&(t=a()),"function"!=typeof t[c])throw P.create("invalid-app-argument",{appName:c});return t[c]()};void 0!==s.serviceProps&&Object(o.i)(l,s.serviceProps),n[c]=l,t.prototype[c]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this._getService.bind(this,c);return r.apply(this,s.multipleInstances?t:[])}}try{for(var f=i(Object.keys(e)),d=f.next();!d.done;d=f.next()){var p=d.value;e[p]._addComponent(s)}}catch(t){u={error:t}}finally{try{d&&!d.done&&(h=f.return)&&h.call(f)}finally{if(u)throw u.error}}return"PUBLIC"===s.type?n[c]:null}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),a.App=t,n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D=function t(){var e=R(C);return e.INTERNAL=n(n({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.i)(e,t)},createSubscribe:o.g,ErrorFactory:o.b,deepExtend:o.i}),e}(),N=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if(Object(o.j)()&&void 0!==self.firebase){O.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var L=self.firebase.SDK_VERSION;L&&L.indexOf("LITE")>=0&&O.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var F=D.initializeApp;D.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.m)()&&O.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),F.apply(void 0,t)};var k,U,B=D;(k=B).INTERNAL.registerComponent(new f("platform-logger",(function(t){return new N(t)}),"PRIVATE")),k.registerVersion("@firebase/app","0.6.12",U),k.registerVersion("fire-js","");var j=B;
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
j.registerVersion("firebase","8.0.0","app");var V=function(){return(V=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function X(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))}function G(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function H(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Y(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}var W,z=r(206),q=((W={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',W["not-registered"]="Firebase Installation is not registered.",W["installation-not-found"]="Firebase Installation not found.",W["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',W["app-offline"]="Could not process request. Application offline.",W["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",W),K=new o.b("installations","Installations",q);function Z(t){return t instanceof o.c&&t.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function J(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function Q(t,e){return X(this,void 0,void 0,(function(){var r,n;return G(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return r=i.sent(),n=r.error,[2,K.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})]}}))}))}function tt(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function et(t,e){var r=e.refreshToken,n=tt(t);return n.append("Authorization",function(t){return"FIS_v2 "+t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r)),n}function rt(t){return X(this,void 0,void 0,(function(){var e;return G(this,(function(r){switch(r.label){case 0:return[4,t()];case 1:return(e=r.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function nt(t,e){var r=e.fid;return X(this,void 0,void 0,(function(){var e,n,i,o,a,s;return G(this,(function(u){switch(u.label){case 0:return e=$(t),n=tt(t),i={fid:r,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.18"},o={method:"POST",headers:n,body:JSON.stringify(i)},[4,rt((function(){return fetch(e,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||r,registrationStatus:2,refreshToken:s.refreshToken,authToken:J(s.authToken)}];case 3:return[4,Q("Create Installation",a)];case 4:throw u.sent()}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t){return new Promise((function(e){setTimeout(e,t)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t){return btoa(String.fromCharCode.apply(String,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Y(arguments[e]));return t}(t))).replace(/\+/g,"-").replace(/\//g,"_")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at=/^[cdef][\w-]{21}$/;function st(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return ot(t).substr(0,22)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t);return at.test(e)?e:""}catch(t){return""}}function ut(t){return t.appName+"!"+t.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht=new Map;function ct(t,e){var r=ut(t);lt(r,e),function(t,e){var r=dt();r&&r.postMessage({key:t,fid:e});pt()}(r,e)}function lt(t,e){var r,n,i=ht.get(t);if(i)try{for(var o=H(i),a=o.next();!a.done;a=o.next()){(0,a.value)(e)}}catch(t){r={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}var ft=null;function dt(){return!ft&&"BroadcastChannel"in self&&((ft=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){lt(t.data.key,t.data.fid)}),ft}function pt(){0===ht.size&&ft&&(ft.close(),ft=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,gt="firebase-installations-store",mt=null;function yt(){return mt||(mt=Object(z.openDb)("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(gt)}}))),mt}function bt(t,e){return X(this,void 0,void 0,(function(){var r,n,i,o,a;return G(this,(function(s){switch(s.label){case 0:return r=ut(t),[4,yt()];case 1:return n=s.sent(),i=n.transaction(gt,"readwrite"),[4,(o=i.objectStore(gt)).get(r)];case 2:return a=s.sent(),[4,o.put(e,r)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===e.fid||ct(t,e.fid),[2,e]}}))}))}function xt(t){return X(this,void 0,void 0,(function(){var e,r,n;return G(this,(function(i){switch(i.label){case 0:return e=ut(t),[4,yt()];case 1:return r=i.sent(),[4,(n=r.transaction(gt,"readwrite")).objectStore(gt).delete(e)];case 2:return i.sent(),[4,n.complete];case 3:return i.sent(),[2]}}))}))}function _t(t,e){return X(this,void 0,void 0,(function(){var r,n,i,o,a,s;return G(this,(function(u){switch(u.label){case 0:return r=ut(t),[4,yt()];case 1:return n=u.sent(),i=n.transaction(gt,"readwrite"),[4,(o=i.objectStore(gt)).get(r)];case 2:return a=u.sent(),void 0!==(s=e(a))?[3,4]:[4,o.delete(r)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,r)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||ct(t,s.fid),[2,s]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t){return X(this,void 0,void 0,(function(){var e,r,n;return G(this,(function(i){switch(i.label){case 0:return[4,_t(t,(function(r){var n=function(t){return St(t||{fid:st(),registrationStatus:0})}(r),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine){var r=Promise.reject(K.create("app-offline"));return{installationEntry:e,registrationPromise:r}}var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function(t,e){return X(this,void 0,void 0,(function(){var r,n;return G(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,nt(t,e)];case 1:return r=i.sent(),[2,bt(t,r)];case 2:return Z(n=i.sent())&&409===n.customData.serverCode?[4,xt(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,bt(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw n;case 7:return[2]}}))}))}(t,n);return{installationEntry:n,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Tt(t)}:{installationEntry:e}}(t,n);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(r=i.sent()).fid?[3,3]:(n={},[4,e]);case 2:return[2,(n.installationEntry=i.sent(),n)];case 3:return[2,{installationEntry:r,registrationPromise:e}]}}))}))}function Tt(t){return X(this,void 0,void 0,(function(){var e,r,n,i;return G(this,(function(o){switch(o.label){case 0:return[4,Et(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,it(100)];case 3:return o.sent(),[4,Et(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,wt(t)];case 6:return r=o.sent(),n=r.installationEntry,(i=r.registrationPromise)?[2,i]:[2,n];case 7:return[2,e]}}))}))}function Et(t){return _t(t,(function(t){if(!t)throw K.create("installation-not-found");return St(t)}))}function St(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function It(t,e){var r=t.appConfig,n=t.platformLoggerProvider;return X(this,void 0,void 0,(function(){var t,i,o,a,s,u,h;return G(this,(function(c){switch(c.label){case 0:return t=function(t,e){var r=e.fid;return $(t)+"/"+r+"/authTokens:generate"}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r,e),i=et(r,e),(o=n.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:"w:0.4.18"}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,rt((function(){return fetch(t,s)}))];case 1:return(u=c.sent()).ok?[4,u.json()]:[3,3];case 2:return h=c.sent(),[2,J(h)];case 3:return[4,Q("Generate Auth Token",u)];case 4:throw c.sent()}}))}))}function At(t,e){return void 0===e&&(e=!1),X(this,void 0,void 0,(function(){var r,n,i;return G(this,(function(o){switch(o.label){case 0:return[4,_t(t.appConfig,(function(n){if(!Mt(n))throw K.create("not-registered");var i=n.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}(i))return n;if(1===i.requestStatus)return r=function(t,e){return X(this,void 0,void 0,(function(){var r,n;return G(this,(function(i){switch(i.label){case 0:return[4,Pt(t.appConfig)];case 1:r=i.sent(),i.label=2;case 2:return 1!==r.authToken.requestStatus?[3,5]:[4,it(100)];case 3:return i.sent(),[4,Pt(t.appConfig)];case 4:return r=i.sent(),[3,2];case 5:return 0===(n=r.authToken).requestStatus?[2,At(t,e)]:[2,n]}}))}))}(t,e),n;if(!navigator.onLine)throw K.create("app-offline");var o=function(t){var e={requestStatus:1,requestTime:Date.now()};return V(V({},t),{authToken:e})}(n);return r=function(t,e){return X(this,void 0,void 0,(function(){var r,n,i;return G(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,It(t,e)];case 1:return r=o.sent(),i=V(V({},e),{authToken:r}),[4,bt(t.appConfig,i)];case 2:return o.sent(),[2,r];case 3:return!Z(n=o.sent())||401!==n.customData.serverCode&&404!==n.customData.serverCode?[3,5]:[4,xt(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=V(V({},e),{authToken:{requestStatus:0}}),[4,bt(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw n;case 8:return[2]}}))}))}(t,o),o}))];case 1:return n=o.sent(),r?[4,r]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=n.authToken,o.label=4;case 4:return[2,i]}}))}))}function Pt(t){return _t(t,(function(t){if(!Mt(t))throw K.create("not-registered");var e,r=t.authToken;return 1===(e=r).requestStatus&&e.requestTime+1e4<Date.now()?V(V({},t),{authToken:{requestStatus:0}}):t}))}function Mt(t){return void 0!==t&&2===t.registrationStatus}function Ot(t){return X(this,void 0,void 0,(function(){var e;return G(this,(function(r){switch(r.label){case 0:return[4,wt(t)];case 1:return(e=r.sent().registrationPromise)?[4,e]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t,e){return X(this,void 0,void 0,(function(){var r,n,i,o;return G(this,(function(a){switch(a.label){case 0:return r=function(t,e){var r=e.fid;return $(t)+"/"+r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e),n=et(t,e),i={method:"DELETE",headers:n},[4,rt((function(){return fetch(r,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,Q("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Rt(t,e){var r=t.appConfig;return function(t,e){dt();var r=ut(t),n=ht.get(r);n||(n=new Set,ht.set(r,n)),n.add(e)}(r,e),function(){!function(t,e){var r=ut(t),n=ht.get(r);n&&(n.delete(e),0===n.size&&ht.delete(r),pt())}(r,e)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t){return K.create("missing-app-config-values",{valueName:t})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(vt=j).INTERNAL.registerComponent(new f("installations",(function(t){var e=t.getProvider("app").getImmediate(),r={appConfig:function(t){var e,r;if(!t||!t.options)throw Dt("App Configuration");if(!t.name)throw Dt("App Name");try{for(var n=H(["projectId","apiKey","appId"]),i=n.next();!i.done;i=n.next()){var o=i.value;if(!t.options[o])throw Dt(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */return function(t){return X(this,void 0,void 0,(function(){var e,r,n;return G(this,(function(i){switch(i.label){case 0:return[4,wt(t.appConfig)];case 1:return e=i.sent(),r=e.installationEntry,(n=e.registrationPromise)?n.catch(console.error):At(t).catch(console.error),[2,r.fid]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),X(this,void 0,void 0,(function(){return G(this,(function(r){switch(r.label){case 0:return[4,Ot(t.appConfig)];case 1:return r.sent(),[4,At(t,e)];case 2:return[2,r.sent().token]}}))}))}(r,t)},delete:function(){return function(t){return X(this,void 0,void 0,(function(){var e,r;return G(this,(function(n){switch(n.label){case 0:return[4,_t(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(r=n.sent()))return[3,6];if(1!==r.registrationStatus)return[3,2];throw K.create("delete-pending-registration");case 2:if(2!==r.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw K.create("app-offline");case 3:return[4,Ct(e,r)];case 4:return n.sent(),[4,xt(e)];case 5:n.sent(),n.label=6;case 6:return[2]}}))}))}(r)},onIdChange:function(t){return Rt(r,t)}}}),"PUBLIC")),vt.registerVersion("@firebase/installations","0.4.18");var Nt=function(){return(Nt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Lt(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}var Ft,kt,Ut,Bt=((Ft={})["trace started"]="Trace {$traceName} was started before.",Ft["trace stopped"]="Trace {$traceName} is not running.",Ft["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Ft["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Ft["no window"]="Window is not available.",Ft["no app id"]="App id is not available.",Ft["no project id"]="Project id is not available.",Ft["no api key"]="Api key is not available.",Ft["invalid cc log"]="Attempted to queue invalid cc event",Ft["FB not default"]="Performance can only start when Firebase app instance is the default one.",Ft["RC response not ok"]="RC response is not ok",Ft["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Ft["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Ft["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Ft["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Ft),jt=new o.b("performance","Performance",Bt),Vt=new E("Performance");Vt.logLevel=m.INFO;var Xt,Gt=function(){function t(t){if(this.window=t,!t)throw jt.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,r){this.performance&&this.performance.measure&&this.performance.measure(t,e,r)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object(o.l)()||(Vt.info("IndexedDB is not supported by current browswer"),!1):(Vt.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var r=0,n=t.getEntries();r<n.length;r++){var i=n[r];e(i)}})).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===kt&&(kt=new t(Ut)),kt},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ht(t,e){var r=t.length-e.length;if(r<0||r>1)throw jt.create("invalid String merger input");for(var n=[],i=0;i<t.length;i++)n.push(t.charAt(i)),e.length>i&&n.push(e.charAt(i));return n.join("")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,Wt,zt=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=Ht("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=Ht("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw jt.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw jt.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw jt.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===Xt&&(Xt=new t),Xt},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return Yt}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"}(Wt||(Wt={}));var Kt=["firebase_","google_","ga_"],Zt=new RegExp("^[a-zA-Z]\\w*$");function $t(){var t=Gt.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function Jt(){switch(Gt.getInstance().document.visibilityState){case"visible":return Wt.VISIBLE;case"hidden":return Wt.HIDDEN;default:return Wt.UNKNOWN}}function Qt(){var t=Gt.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var te=!0;function ee(t){var e=function(){var t=Gt.getInstance().localStorage;if(!t)return;var e=t.getItem("@firebase/performance/configexpire");if(!(e&&(r=e,Number(r)>Date.now())))return;var r;var n=t.getItem("@firebase/performance/config");if(!n)return;try{return JSON.parse(n)}catch(t){return}}();return e?(re(e),Promise.resolve()):function(t){return(e=zt.getInstance().installationsService.getToken(),e.then((function(t){})),e).then((function(e){var r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+zt.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+zt.getInstance().getApiKey(),n=new Request(r,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:zt.getInstance().getAppId(),app_version:"0.4.3",sdk_version:"0.0.1"})});return fetch(n).then((function(t){if(t.ok)return t.json();throw jt.create("RC response not ok")}))})).catch((function(){Vt.info("Could not fetch config, will use default configs")}));var e;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(t).then(re).then((function(t){return function(t){var e=Gt.getInstance().localStorage;if(!t||!e)return;e.setItem("@firebase/performance/config",JSON.stringify(t)),e.setItem("@firebase/performance/configexpire",String(Date.now()+60*zt.getInstance().configTimeToLive*60*1e3))}(t)}),(function(){}))}function re(t){if(!t)return t;var e=zt.getInstance(),r=t.entries||{};return void 0!==r.fpr_enabled?e.loggingEnabled="true"===String(r.fpr_enabled):e.loggingEnabled=te,r.fpr_log_source&&(e.logSource=Number(r.fpr_log_source)),r.fpr_log_endpoint_url&&(e.logEndPointUrl=r.fpr_log_endpoint_url),r.fpr_log_transport_key&&(e.transportKey=r.fpr_log_transport_key),void 0!==r.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(r.fpr_vc_network_request_sampling_rate)),void 0!==r.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(r.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=ne(e.tracesSamplingRate),e.logNetworkAfterSampling=ne(e.networkRequestsSamplingRate),t}function ne(t){return Math.random()<=t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie,oe=1;function ae(){return oe=2,ie=ie||function(){var t=Gt.getInstance().document;return new Promise((function(e){if(t&&"complete"!==t.readyState){var r=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",r),e())};t.addEventListener("readystatechange",r)}else e()}))}().then((function(){return(t=zt.getInstance().installationsService.getId()).then((function(t){Yt=t})),t;var t})).then((function(t){return ee(t)})).then((function(){return se()}),(function(){return se()}))}function se(){oe=3}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue,he=3,ce=[],le=!1;function fe(t){setTimeout((function(){if(0!==he)return ce.length?void function(){var t=Lt(ce);ce=[];var e=t.map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}));(function(t,e){return function(t){var e=zt.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then((function(t){return t.ok||Vt.info("Call to Firebase backend failed."),t.json()})).then((function(t){var r=Number(t.nextRequestWaitMillis),n=1e4;isNaN(r)||(n=Math.max(r,n));var i=t.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(ce=Lt(e,ce),Vt.info("Retry transport request later.")),he=3,fe(n)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:zt.getInstance().logSource,log_event:e},t).catch((function(){ce=Lt(t,ce),he--,Vt.info("Tries left: "+he+"."),fe(1e4)}))}():fe(1e4)}),t)}function de(t){if(!t.eventTime||!t.message)throw jt.create("invalid cc log");ce=Lt(ce,[t])}function pe(t,e){ue||(ue=function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=t.apply(void 0,e);de({message:n,eventTime:Date.now()})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(me)),ue(t,e)}function ve(t){var e=zt.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&Gt.getInstance().requiredApisAvailable()&&(t.isAuto&&Jt()!==Wt.VISIBLE||(3===oe?ge(t):ae().then((function(){return ge(t)}),(function(){return ge(t)}))))}function ge(t){if(qt()){var e=zt.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout((function(){return pe(t,1)}),0)}}function me(t,e){return 0===e?(n={url:(r=t).url,http_method:r.httpMethod||0,http_response_code:200,response_payload_bytes:r.responsePayloadBytes,client_start_time_us:r.startTimeUs,time_to_response_initiated_us:r.timeToResponseInitiatedUs,time_to_response_completed_us:r.timeToResponseCompletedUs},i={application_info:ye(),network_request_metric:n},JSON.stringify(i)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var r=t.getAttributes();0!==Object.keys(r).length&&(e.custom_attributes=r);var n={application_info:ye(),trace_metric:e};return JSON.stringify(n)}(t);var r,n,i}function ye(){return{google_app_id:zt.getInstance().getAppId(),app_instance_id:qt(),web_app_info:{sdk_version:"0.4.3",page_url:Gt.getInstance().getUrl(),service_worker_status:$t(),visibility_state:Jt(),effective_connection_type:Qt()},application_process_state:0}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be=["_fp","_fcp","_fid"];
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var xe=function(){function t(t,e,r){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=Gt.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=r||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw jt.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw jt.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),ve(this)},t.prototype.record=function(t,e,r){if(t<=0)throw jt.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw jt.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),r&&r.attributes&&(this.customAttributes=Nt({},r.attributes)),r&&r.metrics)for(var n=0,i=Object.keys(r.metrics);n<i.length;n++){var o=i[n];isNaN(Number(r.metrics[o]))||(this.counters[o]=Number(Math.floor(r.metrics[o])))}ve(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]?this.putMetric(t,e):this.putMetric(t,this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(!function(t,e){return!(0===t.length||t.length>100)&&(e&&e.startsWith("_wt_")&&be.indexOf(t)>-1||!t.startsWith("_"))}(t,this.name))throw jt.create("invalid custom metric name",{customMetricName:t});var r,n;this.counters[t]=(r=e,(n=Math.floor(r))<r&&Vt.info("Metric value should be an Integer, setting the value as : "+n+"."),n)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var r=function(t){return!(0===t.length||t.length>40)&&(!Kt.some((function(e){return t.startsWith(e)}))&&!!t.match(Zt))}(t),n=function(t){return 0!==t.length&&t.length<=100}(e);if(r&&n)this.customAttributes[t]=e;else{if(!r)throw jt.create("invalid attribute name",{attributeName:t});if(!n)throw jt.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return Nt({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,r,n){var i=Gt.getInstance().getUrl();if(i){var o=new t("_wt_"+i,!0),a=Math.floor(1e3*Gt.getInstance().getTimeOrigin());o.setStartTime(a),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd)));if(r){var s=r.find((function(t){return"first-paint"===t.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=r.find((function(t){return"first-contentful-paint"===t.name}));u&&u.startTime&&o.putMetric("_fcp",Math.floor(1e3*u.startTime)),n&&o.putMetric("_fid",Math.floor(1e3*n))}ve(o)}},t.createUserTimingTrace=function(e){ve(new t(e,!1,e))},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t){var e=t;if(e&&void 0!==e.responseStart){var r=Gt.getInstance().getTimeOrigin(),n=Math.floor(1e3*(e.startTime+r)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=zt.getInstance();if(e.instrumentationEnabled){var r=t.url,n=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];r!==n&&r!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout((function(){return pe(t,0)}),0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:n,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(){qt()&&(setTimeout((function(){return function(){var t=Gt.getInstance(),e=t.getEntriesByType("navigation"),r=t.getEntriesByType("paint");if(t.onFirstInputDelay){var n=setTimeout((function(){xe.createOobTrace(e,r),n=void 0}),5e3);t.onFirstInputDelay((function(t){n&&(clearTimeout(n),xe.createOobTrace(e,r,t))}))}else xe.createOobTrace(e,r)}()}),0),setTimeout((function(){return function(){for(var t=Gt.getInstance(),e=t.getEntriesByType("resource"),r=0,n=e;r<n.length;r++){_e(n[r])}t.setupObserver("resource",_e)}()}),0),setTimeout((function(){return function(){for(var t=Gt.getInstance(),e=t.getEntriesByType("measure"),r=0,n=e;r<n.length;r++){Te(n[r])}t.setupObserver("measure",Te)}()}),0))}function Te(t){var e=t.name;"FB-PERF-TRACE-MEASURE"!==e.substring(0,"FB-PERF-TRACE-MEASURE".length)&&xe.createUserTimingTrace(e)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee=function(){function t(t){this.app=t,Gt.getInstance().requiredApisAvailable()&&Object(o.n)().then((function(t){t&&(le||(fe(5500),le=!0),ae().then(we,we))})).catch((function(t){Vt.info("Environment doesn't support IndexedDB: "+t)}))}return t.prototype.trace=function(t){return new xe(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return zt.getInstance().instrumentationEnabled},set:function(t){zt.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return zt.getInstance().dataCollectionEnabled},set:function(t){zt.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){var e=function(t,e){if("[DEFAULT]"!==t.name)throw jt.create("FB not default");if("undefined"==typeof window)throw jt.create("no window");return function(t){Ut=t}(window),zt.getInstance().firebaseAppInstance=t,zt.getInstance().installationsService=e,new Ee(t)};t.INTERNAL.registerComponent(new f("performance",(function(t){var r=t.getProvider("app").getImmediate(),n=t.getProvider("installations").getImmediate();return e(r,n)}),"PUBLIC")),t.registerVersion("@firebase/performance","0.4.3")}(j);var Se=function(){return(Se=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Ie(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))}function Ae(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Pe,Me,Oe="https://www.googletagmanager.com/gtag/js";!function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"}(Pe||(Pe={})),function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"}(Me||(Me={}));
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ce,Re=new E("@firebase/analytics");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(t,e,r,n,i,o){return Ie(this,void 0,void 0,(function(){var a,s,u,h;return Ae(this,(function(c){switch(c.label){case 0:a=n[i],c.label=1;case 1:return c.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return c.sent(),[3,6];case 3:return[4,Promise.all(r)];case 4:return s=c.sent(),(u=s.find((function(t){return t.measurementId===i})))?[4,e[u.appId]]:[3,6];case 5:c.sent(),c.label=6;case 6:return[3,8];case 7:return h=c.sent(),Re.error(h),[3,8];case 8:return t(Pe.CONFIG,i,o),[2]}}))}))}function Ne(t,e,r,n,i){return Ie(this,void 0,void 0,(function(){var o,a,s,u,h,c,l,f;return Ae(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(r)]):[3,2];case 1:for(s=d.sent(),u=function(t){var r=s.find((function(e){return e.measurementId===t})),n=r&&e[r.appId];if(!n)return o=[],"break";o.push(n)},h=0,c=a;h<c.length&&(l=c[h],"break"!==u(l));h++);d.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return d.sent(),t(Pe.EVENT,n,i||{}),[3,5];case 4:return f=d.sent(),Re.error(f),[3,5];case 5:return[2]}}))}))}function Le(t,e,r,n,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[n].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(t,e,r,n){return function(i,o,a){return Ie(this,void 0,void 0,(function(){var s;return Ae(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==Pe.EVENT?[3,2]:[4,Ne(t,e,r,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==Pe.CONFIG?[3,4]:[4,De(t,e,r,n,o,a)];case 3:return u.sent(),[3,5];case 4:t(Pe.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),Re.error(s),[3,7];case 7:return[2]}}))}))}}(o,t,e,r),{gtagCore:o,wrappedGtag:window[i]}}var Fe=((Ce={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Ce["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Ce["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Ce["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Ce["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Ce["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Ce["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Ce["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Ce["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Ce),ke=new o.b("analytics","Analytics",Fe),Ue=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function Be(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function je(t){var e;return Ie(this,void 0,void 0,(function(){var r,n,i,o,a,s,u;return Ae(this,(function(h){switch(h.label){case 0:return r=t.appId,n=t.apiKey,i={method:"GET",headers:Be(n)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",r),[4,fetch(o,i)];case 1:if(200===(a=h.sent()).status||304===a.status)return[3,6];s="",h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.json()];case 3:return u=h.sent(),(null===(e=u.error)||void 0===e?void 0:e.message)&&(s=u.error.message),[3,5];case 4:return h.sent(),[3,5];case 5:throw ke.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function Ve(t,e,r,n){var i=e.throttleEndTimeMillis,a=e.backoffCount;return void 0===n&&(n=Ue),Ie(this,void 0,void 0,(function(){var e,s,u,h,c,l,f;return Ae(this,(function(d){switch(d.label){case 0:e=t.appId,s=t.measurementId,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,Xe(r,i)];case 2:return d.sent(),[3,4];case 3:if(u=d.sent(),s)return Re.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]"),[2,{appId:e,measurementId:s}];throw u;case 4:return d.trys.push([4,6,,7]),[4,je(t)];case 5:return h=d.sent(),n.deleteThrottleMetadata(e),[2,h];case 6:if(!function(t){if(!(t instanceof o.c&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c=d.sent())){if(n.deleteThrottleMetadata(e),s)return Re.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:e,measurementId:s}];throw c}return l=503===Number(c.customData.httpStatus)?Object(o.e)(a,n.intervalMillis,30):Object(o.e)(a,n.intervalMillis),f={throttleEndTimeMillis:Date.now()+l,backoffCount:a+1},n.setThrottleMetadata(e,f),Re.debug("Calling attemptFetch again in "+l+" millis"),[2,Ve(t,f,r,n)];case 7:return[2]}}))}))}function Xe(t,e){return new Promise((function(r,n){var i=Math.max(e-Date.now(),0),o=setTimeout(r,i);t.addEventListener((function(){clearTimeout(o),n(ke.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var Ge=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t,e,r,n,i){return Ie(this,void 0,void 0,(function(){var a,s,u,h,c,l,f;return Ae(this,(function(d){switch(d.label){case 0:return(a=function(t,e,r){return void 0===e&&(e=Ue),Ie(this,void 0,void 0,(function(){var n,i,o,a,s,u,h=this;return Ae(this,(function(c){if(n=t.options,i=n.appId,o=n.apiKey,a=n.measurementId,!i)throw ke.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw ke.create("no-api-key")}return s=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new Ge,setTimeout((function(){return Ie(h,void 0,void 0,(function(){return Ae(this,(function(t){return u.abort(),[2]}))}))}),void 0!==r?r:6e4),[2,Ve({appId:i,apiKey:o,measurementId:a},s,u,e)]}))}))}(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Re.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return Re.error(t)})),e.push(a),s=function(){return Ie(this,void 0,void 0,(function(){var t;return Ae(this,(function(e){switch(e.label){case 0:return Object(o.l)()?[3,1]:(Re.warn(ke.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Object(o.n)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),Re.warn(ke.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?n.getId():void 0})),[4,Promise.all([a,s])];case 1:return u=d.sent(),h=u[0],c=u[1],i("js",new Date),(f={}).origin="firebase",f.update=!0,l=f,null!=c&&(l.firebase_id=c),i(Pe.CONFIG,h.measurementId,l),[2,h.measurementId]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye,We,ze={},qe=[],Ke={},Ze="dataLayer",$e="gtag",Je=!1;function Qe(t){if(Je)throw ke.create("already-initialized");t.dataLayerName&&(Ze=t.dataLayerName),t.gtagName&&($e=t.gtagName)}function tr(t,e){!function(){var t=[];if(Object(o.k)()&&t.push("This is a browser extension environment."),Object(o.d)()||t.push("Cookies are not available."),t.length>0){var e=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),r=ke.create("invalid-analytics-context",{errorInfo:e});Re.warn(r.message)}}();var r=t.options.appId;if(!r)throw ke.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw ke.create("no-api-key");Re.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=ze[r])throw ke.create("already-exists",{id:r});if(!Je){(function(){for(var t=window.document.getElementsByTagName("script"),e=0,r=Object.values(t);e<r.length;e++){var n=r[e];if(n.src&&n.src.includes(Oe))return n}return null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)()||function(t){var e=document.createElement("script");e.src=Oe+"?l="+t,e.async=!0,document.head.appendChild(e)}(Ze),function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Ze);var n=Le(ze,qe,Ke,Ze,$e),i=n.wrappedGtag,a=n.gtagCore;We=i,Ye=a,Je=!0}return ze[r]=He(t,qe,Ke,e,Ye),{app:t,logEvent:function(t,e,n){(
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e,r,n,i){return Ie(this,void 0,void 0,(function(){var o,a;return Ae(this,(function(s){switch(s.label){case 0:return i&&i.global?(t(Pe.EVENT,r,n),[2]):[3,1];case 1:return[4,e];case 2:o=s.sent(),a=Se(Se({},n),{send_to:o}),t(Pe.EVENT,r,a),s.label=3;case 3:return[2]}}))}))})(We,ze[r],t,e,n).catch((function(t){return Re.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,r,n){return Ie(this,void 0,void 0,(function(){var i;return Ae(this,(function(o){switch(o.label){case 0:return n&&n.global?(t(Pe.SET,{screen_name:r}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(Pe.CONFIG,i,{update:!0,screen_name:r}),o.label=3;case 3:return[2]}}))}))})(We,ze[r],t,e).catch((function(t){return Re.error(t)}))},setUserId:function(t,e){(function(t,e,r,n){return Ie(this,void 0,void 0,(function(){var i;return Ae(this,(function(o){switch(o.label){case 0:return n&&n.global?(t(Pe.SET,{user_id:r}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(Pe.CONFIG,i,{update:!0,user_id:r}),o.label=3;case 3:return[2]}}))}))})(We,ze[r],t,e).catch((function(t){return Re.error(t)}))},setUserProperties:function(t,e){(function(t,e,r,n){return Ie(this,void 0,void 0,(function(){var i,o,a,s,u;return Ae(this,(function(h){switch(h.label){case 0:if(!n||!n.global)return[3,1];for(i={},o=0,a=Object.keys(r);o<a.length;o++)s=a[o],i["user_properties."+s]=r[s];return t(Pe.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=h.sent(),t(Pe.CONFIG,u,{update:!0,user_properties:r}),h.label=3;case 3:return[2]}}))}))})(We,ze[r],t,e).catch((function(t){return Re.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return Ie(this,void 0,void 0,(function(){var r;return Ae(this,(function(n){switch(n.label){case 0:return[4,t];case 1:return r=n.sent(),window["ga-disable-"+r]=!e,[2]}}))}))})(ze[r],t).catch((function(t){return Re.error(t)}))},INTERNAL:{delete:function(){return delete ze[r],Promise.resolve()}}}}function er(){return Ie(this,void 0,void 0,(function(){return Ae(this,(function(t){switch(t.label){case 0:if(Object(o.k)())return[2,!1];if(!Object(o.d)())return[2,!1];if(!Object(o.l)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Object(o.n)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}!function(t){t.INTERNAL.registerComponent(new f("analytics",(function(t){return tr(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:Qe,EventName:Me,isSupported:er})),t.INTERNAL.registerComponent(new f("analytics-internal",(function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(t){throw ke.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.1")}(j);j.initializeApp({apiKey:"AIzaSyB1PSNZ1sZ7Esdwh_zKYhO7ody7Bo2YDhw",authDomain:"minesweeper-fe661.firebaseapp.com",databaseURL:"https://minesweeper-fe661.firebaseio.com",projectId:"minesweeper-fe661",storageBucket:"minesweeper-fe661.appspot.com",messagingSenderId:"227589891664",appId:"1:227589891664:web:211b5d896d4ae5f8939355",measurementId:"G-5SBBB77D8V"}),j.performance(),j.analytics()}]);
//# sourceMappingURL=bundle.js.map